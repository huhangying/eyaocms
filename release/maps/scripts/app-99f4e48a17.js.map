{"version":3,"sources":["scripts/app-99f4e48a17.js"],"names":["routeConfig","$urlRouterProvider","baSidebarServiceProvider","otherwise","$inject","angular","module","config","$stateProvider","state","url","template","abstract","title","sidebarMeta","icon","order","minRole","templateUrl","controller","flowFactoryProvider","defaults","target","permanentErrors","$provide","decorator","taOptions","forceTextAngularSanitize","keyMappings","toolbar","classes","focussed","toolbarGroup","toolbarButton","toolbarButtonActive","disabled","textEditor","htmlEditor","global","app","value","message","delay","minDuration","wrapperClass","baConfigProvider","colorHelper","configProvider","conf","theme","blur","colors","default","basic","defaultText","border","borderDark","primary","colorScheme","info","success","warning","danger","primaryLight","tint","infoLight","successLight","warningLight","dangerLight","primaryDark","shade","infoDark","successDark","warningDark","dangerDark","dashboard","blueStone","dashboardColors","surfieGreen","silverTree","gossip","white","changeTheme","merge","changeColors","$get","provider","mix","color1","color2","weight","d2h","d","toString","h2d","h","parseInt","result","i","color1Part","substr","color2Part","resultPart","Math","floor","slice","IMAGES_ROOT","constant","resWidthCollapseSidebar","resWidthHideSidebar","images","root","profile","amMap","amChart","color","themeRun","$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings","whatToWait","loadAmCharts","mobile","unshift","loadImg","all","then","$pageFinishedLoading","$baSidebarService","run","baConfig","isMobile","test","navigator","userAgent","toLowerCase","mobileClass","blurClass","element","document","body","addClass","service","this","baseApiUrl","getResponse","response","getErrorMessage","ProfileModalCtrl","$scope","$uibModalInstance","link","ok","close","ProfilePageCtrl","fileReader","$http","$state","$window","$filter","$uibModal","toastr","util","login","JSON","parse","sessionStorage","user","departments","loadDepartments","get","error","messageFormatted","doctor_id","_id","params","doctor","myPromise","password","err","picture","removePicture","noPicture","uploadPicture","fileInput","getElementById","click","unconnect","item","href","undefined","showModal","open","animation","getFile","readAsDataUrl","file","update","trim","length","confirmPassword","stringify","patch","user_id","directive","restrict","transclude","scope","yesDelete","itemId","userId","size","constCtrl","consts","getConsts","types","name","showType","type","selected","showLineBreakString","str","replace","addConst","inserted","desc","push","removeConst","id","index","validate","saveConst","data","post","pop","splice","toastrLibConfig","toastrConfig","extend","closeButton","closeHtml","timeOut","autoDismiss","containerId","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","animatedChange","changeValue","val","html","newValue","attr","oldvalue","j","next","find","autoExpand","elem","bind","$event","$","height","scrollHeight","setTimeout","autoFocus","$parse","attrs","model","$watch","focus","select","$apply","assign","includeWithScope","ele","ionSlider","min","max","prefix","maxPostfix","prettify","prettifySeparator","grid","gridMargin","postfix","step","hideMinMax","hideFromTo","from","to","disable","onChange","onFinish","values","timeout","$element","ionRangeSlider","prettify_enabled","prettify_separator","ngFileSelect","el","e","srcElement","files","scrollPosition","maxHeight","window","on","scrollTop","prevScrollTop","trackWidth","minWidth","width","prevTrackWidth","resize","zoomIn","removeClass","baUtil","isDescendant","parent","child","node","parentNode","hexToRGB","hex","alpha","r","g","b","onLoad","reader","deferred","resolve","onError","reject","onProgress","event","$broadcast","total","loaded","getReader","FileReader","onload","onerror","onprogress","readAsDataURL","defer","promise","src","img","Image","AmCharts","ready","stopableInterval","start","interval","calback","time","startInterval","cancel","relationshipCtrl","search","groups","loadGroups","showGroup","group","doctors","loadDoctors","showDoctor","users","loadUsers","showUser","relationships","getRelationships","$on","addRelationship","apply","removeRelationship","saveRelationship","goDoctorGroup","go","userCtrl","showDepartment","department","getUsers","addUser","link_id","cell","created","updated","removeUser","rsp","saveUser","console","log","page","myUser","userEditCtrl","birthdate","Date","buttonBar","show","now","text","today","clear","date","openCalendar","preventDefault","stopPropagation","isOpen","saveMe","closeMe","$dismiss","educationCategoryCtrl","cats","getCats","departmentId","addCat","removeCat","pages","saveCat","cancelCat","forEach","cat","getPagesByCatId","pageCtrl","init","loadPageCats","showCat","getPages","addPage","title_image","removePage","savePage","cancelPage","map","editItem","editIndex","backdrop","updateParent","updatedItem","backToCats","pageEditCtrl","preview","copy","textAreaSetup","previewToggle","departmentCtrl","getDepartments","addDepartment","removeDepartment","diseases","saveDepartment","getDiseasesByDepartmentId","diseaseCtrl","getDiseases","addDisease","removeDisease","saveDisease","medicineCtrl","usages","showUsage","usage","ways","showDosageWay","dosage","way","medicines","getMedicines","addMedicine","capacity","frequency","removeMedicine","saveMedicine","medicineEditCtrl","editN","notices","editStatus","editNIndex","saveNotice","editNForm","$invalid","medicine","createNotice","notice","days_to_start","during","editQ","require_confirm","editNotice","removeNotice","symptomCtrl","symptoms","chatCtrl","chatrooms","loadChatrooms","showChatroom","chatroom","chats","getChats","addChat","direction","removeChat","saveChat","deleteChatroomContent","warn","chatroomCtrl","getChatrooms","goChat","chatroomid","bookingCtrl","schedules","loadSchedules","showSchedule","schedule","toISOString","period","bookings","getBookings","addBooking","status","score","removeBooking","saveBooking","scheduleCreateCtrl","selectpicker","limit","startDate","datepickerOptions","maxDate","endDate","minDate","setDate","getDate","picker","unwatchMinMaxValues","diff","getTime","dayRange","round","abs","days","sunday","monday","tuesday","wednesday","thursday","friday","saturday","getAvailableDates","dates","filter","getDay","createSchedule","periods","scheduleCtrl","loadPeriods","showPeriod","getSchedules","opened","addSchedules","removeSchedule","saveSchedule","getScheduleDetails","selectedDoctorId","surveyCategoryCtrl","surveys","getSurveysByCatId","fixedCats","createDefaultCatsByDepartment","surveycats","fixed","reqBody","promises","surveyGroupCtrl","getGroups","addGroup","removeGroup","saveGroup","surveyCtrl","getSurveys","showQuestions","questions","qs","question","addSurvey","removeSurvey","saveSurvey","cancelSurvey","survey","surveyEditCtrl","options","editQIndex","saveQuestion","editQForm","createQuestion","answer_type","optionNumber","required","editQuestion","changeEditAnswerType","removeQuestion","changeEditOptionNumber","answer","addition_text","baPanel","res","baPanelClass","baPanelTitle","titleTpl","factory","baPanelBlur","baPanelBlurHelper","bodyBgSize","bodyBgLoad","getBodyBgImageSizes","addEventListener","recalculatePanelStyle","css","backgroundSize","backgroundPosition","positionX","positionY","$isMobile","removeEventListener","computedStyle","getComputedStyle","image","backgroundImage","elemW","documentElement","clientWidth","elemH","clientHeight","finalHeight","finalWidth","imgRatio","containerRatio","baPanelSelf","BaSidebarCtrl","menuItems","getMenuItems","defaultSidebarState","stateRef","hoverItem","showHoverElem","hoverElemHeight","currentTarget","menuTopValue","hoverElemTop","getBoundingClientRect","top","canSidebarBeHidden","setMenuCollapsed","baSidebar","layoutSizes","jqWindow","_onWindowClick","$evt","originalEvent","$sidebarEventProcessed","isMenuCollapsed","_onWindowResize","newMenuCollapsed","shouldMenuBeCollapsed","newMenuHeight","_calculateMenuHeight","menuHeight","childNodes","off","staticMenuItems","addStaticItem","arguments","_factory","defineMenuItemStates","s","meta","level","match","sort","a","innerWidth","states","children","indexOf","subMenu","concat","isCollapsed","toggleMenuCollapsed","getAllStateRefsRecursive","_iterateSubItems","currentItem","subItem","baSidebarToggleMenu","baSidebarCollapseMenu","baSidebarTogglingItem","BaSidebarTogglingItemCtrl","$attrs","_isState","subItemsStateRefs","some","subItemState","vm","menuItem","$$menuItem","$eval","$$expandSubmenu","$$collapseSubmenu","$expand","$collapse","$toggle","hasClass","current","toState","baUiSrefTogglingSubmenu","require","slideDown","slideUp","baUiSrefToggler","baWizard","controllerAs","baWizardCtrl","calcProgress","progress","tabNum","tabs","addTab","tab","setPrev","selectTab","submit","isAvailiable","t","tIndex","isFirstTab","isLastTab","nextTab","previousTab","baWizardStep","form","wizard","isSelected","$setSubmitted","isComplete","$valid","prevTab","pTab","backTop","position","speed","contentTop","$location","activePageTitle","MsgCenterCtrl","$sce","0","1","2","3","notifications","messages","getMessage","msg","trustAsHtml","msgCenter","pageTop","pageTopCtrl","currentUrl","location","userName","role","logout","widgets","ngModel","appImage","input","kameleonImg","profilePicture","ext","plainText","String","doctorCtrl","roles","showRole","getDoctors","addDoctor","removeDoctor","saveDoctor","goDoctorProfile","groupCtrl","goGroupRelationship","o","fn","n","c","right","bottom","scroll","fadeIn","fadeOut","animate","duration","jQuery","$templateCache","put"],"mappings":"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","file":"scripts/app-99f4e48a17.js","sourcesContent":["/**\n * Created by hhu on 2016/6/4.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms', [\n            'ui.router',\n\n         //   'BlurAdmin.cms.user',\n        'BlurAdmin.cms.profile',\n        'BlurAdmin.cms.crm.doctor',\n        'BlurAdmin.cms.crm',\n        'BlurAdmin.cms.hospital',\n        'BlurAdmin.cms.reservation',\n        'BlurAdmin.cms.im',\n        'BlurAdmin.cms.system',\n        'BlurAdmin.cms.survey',\n        'BlurAdmin.cms.education'\n\n        ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($urlRouterProvider, baSidebarServiceProvider) {\n        $urlRouterProvider.otherwise('/profile/');\n\n        // baSidebarServiceProvider.addStaticItem({\n        //     title: 'Pages',\n        //     icon: 'ion-document',\n        //     subMenu: [{\n        //         title: '',\n        //         fixedHref: 'auth.html',\n        //         blank: true\n        //     }, {\n        //         title: '',\n        //         fixedHref: 'reg.html',\n        //         blank: true\n        //     }, {\n        //         title: ' Profile',\n        //         stateRef: 'profile'\n        //     }, {\n        //         title: '404 ',\n        //         fixedHref: '404.html',\n        //         blank: true\n        //     }]\n        // });\n\n    }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme', [\n      'toastr',\n      'chart.js',\n      'angular-chartist',\n      'angular.morris-chart',\n      'textAngular',\n      'BlurAdmin.theme.components'\n  ]);\n\n})();\n\n/**\n * Created by harry on 16/6/9.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm', [\n        'BlurAdmin.cms.crm.user',\n        'BlurAdmin.cms.crm.relationship',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('crm', {\n                url: '/crm',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-people',\n                    order: 200,\n                },\n                minRole: 1,\n            });\n    }\n\n})();\n/**\n * Created by harry on 16/6/18.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.education', [\n        'BlurAdmin.cms.education.category',\n        'BlurAdmin.cms.education.page',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('education', {\n                url: '/education',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-calendar',\n                    order: 1001,\n                },\n                minRole: 1,\n            });\n    }\n\n})();\n\n/**\n * Created by harry on 16/6/5.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.hospital', [\n        'BlurAdmin.cms.hospital.department',\n        'BlurAdmin.cms.hospital.disease',\n        'BlurAdmin.cms.hospital.symptom',\n        'BlurAdmin.cms.hospital.medicine',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('hospital', {\n                url: '/hospital',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-gear-a',\n                    order: 300,\n                },\n                minRole: 2,\n            });\n    }\n\n})();\n\n/**\n * Created by harry on 16/6/18.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.im', [\n        'BlurAdmin.cms.im.chatroom',\n        'BlurAdmin.cms.im.chat',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('im', {\n                url: '/im',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-chatboxes',\n                    order: 800,\n                },\n                minRole: 2,\n            });\n    }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.profile', ['flow'])\n      .config(routeConfig)\n      .config(['flowFactoryProvider', function (flowFactoryProvider) {\n          flowFactoryProvider.defaults = {\n              target: '/public/images/doctor',\n              permanentErrors:[404, 500, 501]\n          };\n      }]);\n  /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('profile', {\n                url: '/profile/:doctor',\n                templateUrl: 'app/cms/profile/profile.html',\n                controller: 'ProfilePageCtrl',\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-paper',\n                    order: 0,\n                },\n                minRole: 0,\n            });\n    }\n\n})();\n\n/**\n * Created by harry on 16/6/18.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.reservation', [\n        'BlurAdmin.cms.reservation.schedule',\n        'BlurAdmin.cms.reservation.booking',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('reservation', {\n                url: '/reservation',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-calendar',\n                    order: 600,\n                },\n                minRole: 1,\n            });\n    }\n\n})();\n\n/**\n * Created by harry on 16/6/18.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.survey', [\n        'BlurAdmin.cms.survey.category',\n        'BlurAdmin.cms.survey.group',\n        'BlurAdmin.cms.survey.survey',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('survey', {\n                url: '/survey',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-calendar',\n                    order: 1000,\n                },\n                minRole: 1,\n            });\n    }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.system.const', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('system.const', {\n          url: '/const',\n          templateUrl: 'app/cms/system/const.html',\n          controller: 'constCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 200,\n          },\n        });\n  }\n\n})();\n\n/**\n * Created by harry on 16/6/5.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.system', [\n        'BlurAdmin.cms.system.const',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('system', {\n                url: '/system',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-gear-a',\n                    order: 100,\n                },\n                minRole: 2,\n            });\n    }\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components', []);\n\n})();\n\n/**\n * Created by harry on 16/6/9.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.doctor', [\n        'BlurAdmin.cms.crm.doctor.doctor',\n        'BlurAdmin.cms.crm.doctor.group',\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('doctor', {\n                url: '/doctor',\n                template : '<ui-view></ui-view>',\n                abstract: true,\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-people',\n                    order: 150,\n                },\n                minRole: 1,\n            });\n    }\n\n})();\n/**\n * Created by harry on 16/6/16.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.relationship', [])\n        .config(routeConfig)\n        .config(function(){\n        });\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('crm.relationship', {\n                url: '/relationship/:doctor/:group',\n                templateUrl: 'app/cms/crm/relationship/relationship.html',\n                controller: 'relationshipCtrl',\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-person',\n                    order: 50,\n                },\n            });\n    }\n\n})();\n\n/**\n * Created by harry on 16/6/16.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.user', [])\n        .config(routeConfig)\n        .config(function(){\n        });\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('crm.user', {\n                url: '/user',\n                templateUrl: 'app/cms/crm/user/user.html',\n                controller: 'userCtrl',\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-person',\n                    order: 50,\n                },\n            });\n    }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.education.category', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('education.category', {\n          url: '/cat/:department',\n          templateUrl: 'app/cms/education/category/category.html',\n          controller: 'educationCategoryCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 100,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.education.page', ['textAngular'])\n    .config(routeConfig)\n      .config(['$provide', function($provide){\n          // this demonstrates how to register a new tool and add it to the default toolbar\n          $provide.decorator('taOptions', ['$delegate', function(taOptions){\n              // $delegate is the taOptions we are decorating\n              // here we override the default toolbars and classes specified in taOptions.\n              taOptions.forceTextAngularSanitize = true; // set false to allow the textAngular-sanitize provider to be replaced\n              taOptions.keyMappings = []; // allow customizable keyMappings for specialized key boards or languages\n              taOptions.toolbar = [\n                  ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'pre', 'quote'],\n                  ['bold', 'italics', 'underline', 'ul', 'ol', 'redo', 'undo', 'clear'],\n                  ['justifyLeft','justifyCenter','justifyRight', 'justifyFull'],\n                  ['html', 'insertImage', 'insertLink']\n              ];\n              taOptions.classes = {\n                  focussed: 'focussed',\n                  toolbar: 'btn-toolbar',\n                  toolbarGroup: 'btn-group',\n                  toolbarButton: 'btn btn-default',\n                  toolbarButtonActive: 'active',\n                  disabled: 'disabled',\n                  textEditor: 'form-control',\n                  htmlEditor: 'form-control'\n              };\n              return taOptions; // whatever you return will be the taOptions\n          }]);\n\n      }]);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('education.page', {\n          url: '/page/:department/:cat',\n          templateUrl: 'app/cms/education/page/page.html',\n          controller: 'pageCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 200,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.hospital.department', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('hospital.department', {\n          url: '/department',\n          templateUrl: 'app/cms/hospital/department/department.html',\n          controller: 'departmentCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 200,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.hospital.disease', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('hospital.disease', {\n          url: '/disease/:department',\n          templateUrl: 'app/cms/hospital/disease/disease.html',\n          title: '',\n          controller: 'diseaseCtrl',\n          sidebarMeta: {\n            order: 300,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.hospital.medicine', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('hospital.medicine', {\n          url: '/medicine',\n          templateUrl: 'app/cms/hospital/medicine/medicine.html',\n          controller: 'medicineCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 200,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.hospital.symptom', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('hospital.symptom', {\n          url: '/symptom',\n          templateUrl: 'app/cms/hospital/symptom/symptom.html',\n          title: '',\n          controller: 'symptomCtrl',\n          sidebarMeta: {\n            order: 400,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.im.chat', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('im.chat', {\n          url: '/chat/:chatroom',\n          templateUrl: 'app/cms/im/chat/chat.html',\n          title: '',\n          controller: 'chatCtrl',\n          sidebarMeta: {\n            order: 300,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.im.chatroom', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('im.chatroom', {\n          url: '/chatroom',\n          templateUrl: 'app/cms/im/chatroom/chatroom.html',\n          controller: 'chatroomCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 200,\n          },\n        });\n  }\n\n})();\n\n/**\n * Created by harry on 16/6/10.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.reservation.booking', [\n        // 'BlurAdmin.cms.doctorEdit'\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('reservation.booking', {\n                url: '/booking/:schedule',\n                templateUrl: 'app/cms/reservation/booking/booking.html',\n                controller: 'bookingCtrl',\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-person',\n                    order: 50,\n                },\n            });\n    }\n\n})();\n\n/**\n * Created by harry on 16/6/10.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.reservation.schedule', [\n        // 'BlurAdmin.cms.doctorEdit'\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('reservation.schedule', {\n                url: '/schedule',\n                templateUrl: 'app/cms/reservation/schedule/schedule.html',\n                controller: 'scheduleCtrl',\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-person',\n                    order: 10,\n                },\n            });\n    }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.survey.category', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('survey.category', {\n          url: '/surveycat/:department',\n          templateUrl: 'app/cms/survey/category/category.html',\n          controller: 'surveyCategoryCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 100,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.survey.group', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('survey.group', {\n          url: '/surveygroup',\n          templateUrl: 'app/cms/survey/group/group.html',\n          controller: 'surveyGroupCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 300,\n          },\n        });\n  }\n\n})();\n\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.survey.survey', [])\n    .config(routeConfig)\n    .config(function(){\n    });\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('survey.survey', {\n          url: '/survey/:department/:cat',\n          templateUrl: 'app/cms/survey/survey/survey.html',\n          controller: 'surveyCtrl',\n          title: '',\n          sidebarMeta: {\n            order: 200,\n          },\n        });\n  }\n\n})();\n\n/**\n * Created by harry on 16/6/10.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.doctor.doctor', [\n        // 'BlurAdmin.cms.doctorEdit'\n    ])\n        .config(routeConfig);\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('doctor.doctor', {\n                url: '/doctor',\n                templateUrl: 'app/cms/crm/doctor/doctor/doctor.html',\n                controller: 'doctorCtrl',\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-person',\n                    order: 10,\n                },\n            });\n    }\n\n})();\n\n/**\n * Created by harry on 16/6/16.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.doctor.group', [])\n        .config(routeConfig)\n        .config(function(){\n        });\n\n    /** @ngInject */\n    function routeConfig($stateProvider) {\n        $stateProvider\n            .state('doctor.group', {\n                url: '/group/:doctor',\n                templateUrl: 'app/cms/crm/doctor/group/group.html',\n                controller: 'groupCtrl',\n                title: '',\n                sidebarMeta: {\n                    icon: 'ion-ios-person',\n                    order: 50,\n                },\n            });\n    }\n\n})();\n\n'use strict';\n\nglobal.app = angular.module('BlurAdmin', [\n    'ngAnimate',\n    'ui.bootstrap',\n    'ui.sortable',\n    'ui.router',\n    'ngTouch',\n    'toastr',\n    'smart-table',\n    \"xeditable\",\n    'ui.slimscroll',\n    'ngJsTree',\n    'angular-progress-button-styles',\n    'ui.bootstrap.datetimepicker',\n    'cgBusy',\n    // 'angular-sanitize',\n    // 'textAngular',\n    // 'lodash',\n\n    // 'BlurAdmin.login',\n    'BlurAdmin.theme',\n    // 'BlurAdmin.pages',\n    'BlurAdmin.cms',\n\n    // directives\n    'BlurAdmin.shared',\n])\n    .value('cgBusyDefaults',{\n        message:'',\n        //backdrop: true,\n        templateUrl: './loading.html',\n        delay: 300,\n        minDuration: 1000,\n        wrapperClass: 'loading'\n    });\n\n//app.directive('deleteConfirm', )\n// app.control('mainCtrl', ['$scope', '$window', 'lodash', function($scope, $window, _){\n//     toastr.info(JSON.stringify($window.sessionStorage.user));\n// }]);\n\n\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .config(config);\n\n  /** @ngInject */\n  function config(baConfigProvider, colorHelper) {\n    //baConfigProvider.changeTheme({blur: true});\n    //\n    //baConfigProvider.changeColors({\n    //  default: 'rgba(#000000, 0.2)',\n    //  defaultText: '#ffffff',\n    //  dashboard: {\n    //    white: '#ffffff',\n    //  },\n    //});\n  }\n})();\n\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  var basic = {\n    default: '#ffffff',\n    defaultText: '#666666',\n    border: '#dddddd',\n    borderDark: '#aaaaaa',\n  };\n\n  // main functional color scheme\n  var colorScheme = {\n    primary: '#209e91',\n    info: '#2dacd1',\n    success: '#90b900',\n    warning: '#dfb81c',\n    danger: '#e85656',\n  };\n\n  // dashboard colors for charts\n  var dashboardColors = {\n    blueStone: '#005562',\n    surfieGreen: '#0e8174',\n    silverTree: '#6eba8c',\n    gossip: '#b9f2a1',\n    white: '#10c4b5',\n  };\n\n  angular.module('BlurAdmin.theme')\n    .provider('baConfig', configProvider);\n\n  /** @ngInject */\n  function configProvider(colorHelper) {\n    var conf = {\n      theme: {\n        blur: false,\n      },\n      colors: {\n        default: basic.default,\n        defaultText: basic.defaultText,\n        border: basic.border,\n        borderDark: basic.borderDark,\n\n        primary: colorScheme.primary,\n        info: colorScheme.info,\n        success: colorScheme.success,\n        warning: colorScheme.warning,\n        danger: colorScheme.danger,\n\n        primaryLight: colorHelper.tint(colorScheme.primary, 30),\n        infoLight: colorHelper.tint(colorScheme.info, 30),\n        successLight: colorHelper.tint(colorScheme.success, 30),\n        warningLight: colorHelper.tint(colorScheme.warning, 30),\n        dangerLight: colorHelper.tint(colorScheme.danger, 30),\n\n        primaryDark: colorHelper.shade(colorScheme.primary, 15),\n        infoDark: colorHelper.shade(colorScheme.info, 15),\n        successDark: colorHelper.shade(colorScheme.success, 15),\n        warningDark: colorHelper.shade(colorScheme.warning, 15),\n        dangerDark: colorHelper.shade(colorScheme.danger, 15),\n\n        dashboard: {\n          blueStone: dashboardColors.blueStone,\n          surfieGreen: dashboardColors.surfieGreen,\n          silverTree: dashboardColors.silverTree,\n          gossip: dashboardColors.gossip,\n          white: dashboardColors.white,\n        },\n      }\n    };\n\n    conf.changeTheme = function(theme) {\n      angular.merge(conf.theme, theme)\n    };\n\n    conf.changeColors = function(colors) {\n      angular.merge(conf.colors, colors)\n    };\n\n    conf.$get = function () {\n      delete conf.$get;\n      return conf;\n    };\n    return conf;\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  var IMAGES_ROOT = 'assets/img/';\n\n  angular.module('BlurAdmin.theme')\n    .constant('layoutSizes', {\n      resWidthCollapseSidebar: 1200,\n      resWidthHideSidebar: 500\n    })\n    .constant('layoutPaths', {\n      images: {\n        root: IMAGES_ROOT,\n        profile: IMAGES_ROOT + 'app/profile/',\n        amMap: 'assets/img/theme/vendor/ammap//dist/ammap/images/',\n        amChart: 'assets/img/theme/vendor/amcharts/dist/amcharts/images/'\n      }\n    })\n    .constant('colorHelper', {\n      tint: function(color, weight) {\n        return mix('#ffffff', color, weight);\n      },\n      shade: function(color, weight) {\n        return mix('#000000', color, weight);\n      },\n    });\n\n  function shade(color, weight) {\n    return mix('#000000', color, weight);\n  }\n\n  function tint(color, weight) {\n    return mix('#ffffff', color, weight);\n  }\n\n  //SASS mix function\n  function mix(color1, color2, weight) {\n    // convert a decimal value to hex\n    function d2h(d) {\n      return d.toString(16);\n    }\n    // convert a hex value to decimal\n    function h2d(h) {\n      return parseInt(h, 16);\n    }\n\n    var result = \"#\";\n    for(var i = 1; i < 7; i += 2) {\n      var color1Part = h2d(color1.substr(i, 2));\n      var color2Part = h2d(color2.substr(i, 2));\n      var resultPart = d2h(Math.floor(color2Part + (color1Part - color2Part) * (weight / 100.0)));\n      result += ('0' + resultPart).slice(-2);\n    }\n    return result;\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .run(themeRun);\n\n  /** @ngInject */\n  function themeRun($timeout, $rootScope, layoutPaths, preloader, $q, baSidebarService, themeLayoutSettings) {\n    var whatToWait = [\n      preloader.loadAmCharts(),\n      $timeout(3000)\n    ];\n\n    var theme = themeLayoutSettings;\n    if (theme.blur) {\n      if (theme.mobile) {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-mobile.jpg'));\n      } else {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg.jpg'));\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-blurred.jpg'));\n      }\n    }\n\n    $q.all(whatToWait).then(function () {\n      $rootScope.$pageFinishedLoading = true;\n    });\n\n    $timeout(function () {\n      if (!$rootScope.$pageFinishedLoading) {\n        $rootScope.$pageFinishedLoading = true;\n      }\n    }, 7000);\n\n    $rootScope.$baSidebarService = baSidebarService;\n  }\n\n})();\n/**\n * Created by k.danovsky on 12.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('themeLayoutSettings', themeLayoutSettings);\n\n  /** @ngInject */\n  function themeLayoutSettings(baConfig) {\n    var isMobile = (/android|webos|iphone|ipad|ipod|blackberry|windows phone/).test(navigator.userAgent.toLowerCase());\n    var mobileClass = isMobile ? 'mobile' : '';\n    var blurClass = baConfig.theme.blur ? 'blur-theme' : '';\n    angular.element(document.body).addClass(mobileClass).addClass(blurClass);\n\n    return {\n      blur: baConfig.theme.blur,\n      mobile: isMobile,\n    }\n  }\n\n})();\n/**\n * Created by harry on 16/6/8.\n */\napp.provider('util', function() {\n    this.$get = function() {\n        return {\n            baseApiUrl: 'http://127.0.0.1:3000/',\n            // baseApiUrl: 'http://139.224.68.92:3000/',\n\n            getResponse: function(response) {\n                if (response.return && response.return == 'null'){\n                    return [];\n                }\n                else {\n                    return response;\n                }\n            },\n\n            getErrorMessage: function(response) {\n                if (response.return) {\n                    return \": \" + response.return;\n                }\n                return null;\n            }\n        };\n    };\n});\n/**\n * @author a.demeshko\n * created on 21.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.profile')\n    .controller('ProfileModalCtrl', ProfileModalCtrl);\n\n  /** @ngInject */\n  function ProfileModalCtrl($scope, $uibModalInstance) {\n    $scope.link = '';\n    $scope.ok = function () {\n      $uibModalInstance.close($scope.link);\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.profile')\n        .controller('ProfilePageCtrl', ProfilePageCtrl);\n\n    /** @ngInject */\n    function ProfilePageCtrl($scope, fileReader, $http, $state, $window, $filter, $uibModal, toastr, util) {\n\n        $scope.login = JSON.parse($window.sessionStorage.user);\n        //toastr.info(JSON.stringify($scope.login));\n\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n\n        // get user info\n        var doctor_id = $scope.login._id;\n        if ($state.params && $state.params.doctor){\n            doctor_id = $state.params.doctor;\n        }\n\n        $scope.myPromise = $http.get(util.baseApiUrl + 'doctor/' + doctor_id)\n            .success(function(response){\n                $scope.doctor = response;\n                $scope.doctor.password = '';\n                //toastr.info(JSON.stringify($scope.doctor));\n\n            })\n            .error(function(err){\n                toastr.error(err.messageFormatted);\n                return;\n            });\n\n\n\n        $scope.picture = $filter('profilePicture')('Nasta');\n\n        $scope.removePicture = function () {\n            $scope.picture = $filter('appImage')('theme/no-photo.png');\n            $scope.noPicture = true;\n        };\n\n        $scope.uploadPicture = function () {\n            var fileInput = document.getElementById('uploadFile');\n            fileInput.click();\n\n        };\n\n\n\n        $scope.unconnect = function (item) {\n            item.href = undefined;\n        };\n\n        $scope.showModal = function (item) {\n            $uibModal.open({\n                animation: false,\n                controller: 'ProfileModalCtrl',\n                templateUrl: 'app/cms/profile/profileModal.html'\n            }).result.then(function (link) {\n                item.href = link;\n            });\n        };\n\n        $scope.getFile = function () {\n            fileReader.readAsDataUrl($scope.file, $scope)\n                .then(function (result) {\n                    $scope.picture = result;\n                });\n        };\n\n\n        $scope.update = function() {\n\n            if ($scope.doctor.password.trim().length > 0) {\n                if ($scope.doctor.password != $scope.doctor.confirmPassword) {\n                    toastr.error('!');\n                    return;\n                }\n            }\n            else {\n                $scope.doctor.password = undefined;\n            }\n\n            toastr.info(JSON.stringify($scope.doctor));\n\n            $http.patch(util.baseApiUrl + 'doctor/' + $scope.doctor.user_id, $scope.doctor)\n                .success(function (response) {\n                    //console.log(JSON.stringify(response))\n                    if (!response) {\n                        toastr.error(error.messageFormatted);\n                    }\n                    else{\n                        toastr.success('');\n                    }\n                });\n        };\n\n    }\n\n})();\n\n/**\n * Created by harry on 16/11/23.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.shared.deleteBtn', [])\n\n        .directive('deleteBtn', function() {\n            return {\n                restrict: 'AE',\n                transclude: true,\n                scope: {\n                    yesDelete: '=',\n                    itemId: '=',\n                    userId: '=?'\n                    //removeCat: '&'\n\n                },\n                controller: ['$scope', '$uibModal', function($scope, $uibModal)  {\n                    //var panes = $scope.panes = [];\n\n                    $scope.open = function() {\n\n                        $uibModal.open({\n                            animation: true,\n                            templateUrl: './app/cms/shared/deleteConfirm.html',\n                            controller: 'deleteConfirmCtrl',\n                            size: 'sm',\n                            scope: $scope\n                            // resolve: {\n                            //     item: function () {\n                            //         return item;\n                            //     }\n                            // }\n                        });\n                    }\n\n                }],\n                template: '<button class=\"btn btn-danger btn-xs\" ng-click=\"open()\"><i class=\"ion-ios-trash\"></i></button>'\n            };\n        });\n})();\n/**\n * Created by harry on 16/11/23.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.shared.deleteBtn')\n        .controller('deleteConfirmCtrl', function($scope) {\n\n            $scope.ok = function() {\n                if ($scope.userId) {\n                    $scope.yesDelete($scope.itemId, $scope.userId);\n                }\n                else { // default\n                    $scope.yesDelete($scope.itemId);\n                }\n            }\n\n        });\n})();\n/**\n * Created by harry on 16/11/23.\n */\n(function () {\n    'use strict';\n\n    //global.app.directive('BlurAdmin.directives', []);\n    angular.module('BlurAdmin.shared', [\n        'BlurAdmin.shared.deleteBtn',\n        //'deleteConfirmCtrl'\n\n    ]);\n})();\n//var request = require('request');\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.system.const')\n        .controller('constCtrl', constCtrl);\n\n    /** @ngInject */\n    function constCtrl($scope, $filter, $http, util, toastr) {\n\n\n        $scope.consts = [];\n\n        $scope.getConsts = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'consts', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.consts = [];\n                    }\n                    else {\n                        $scope.consts = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getConsts();\n\n        $scope.types = [\n            {value: 0, name: \"\"},\n            {value: 1, name: \"\"},\n            {value: 2, name: \"\"},\n            {value: 3, name: \"\"}\n        ];\n\n        $scope.showType = function(item) {\n            if((item.type || item.type === 0) && $scope.types.length) {\n                var selected = $filter('filter')($scope.types, {value: item.type});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.showLineBreakString = function(str) {\n            if (!str){\n                return '';\n            }\n            return str.replace(/(?:\\r\\n|\\r|\\n)/g, '<br />');\n        }\n\n\n        $scope.addConst = function() {\n            $scope.inserted = {\n                name: '',\n                desc: '',\n                type: 0,\n                value: ''\n            };\n\n\n            $scope.consts.push($scope.inserted);\n        }\n\n        $scope.removeConst = function(id, index) {\n\n            $http.delete(util.baseApiUrl + 'const/' + id)\n                .success(function (response) {\n                    $scope.consts = $filter('filter')($scope.consts, {_id: '!'+id});\n\n                    toastr.success('');\n                });\n        }\n\n        $scope.validate = function(item) {\n            if (!item || !item.name){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveConst = function(data, id, index) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'const', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.consts.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.consts.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.consts.splice($scope.consts.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'const/' + id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(error.messageFormatted);\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n            //\n\n        }\n\n\n    }\n})();\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .config(toastrLibConfig);\n\n  /** @ngInject */\n  function toastrLibConfig(toastrConfig) {\n    angular.extend(toastrConfig, {\n      closeButton: true,\n      closeHtml: '<button>&times;</button>',\n      timeOut: 5000,\n      autoDismiss: false,\n      containerId: 'toast-container',\n      maxOpened: 0,\n      newestOnTop: true,\n      positionClass: 'toast-top-right',\n      preventDuplicates: false,\n      preventOpenDuplicates: false,\n      target: 'body'\n    });\n  }\n})();\n/**\n * Change top \"Daily Downloads\", \"Active Users\" values with animation effect\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('animatedChange', animatedChange);\n\n  /** @ngInject */\n  function animatedChange($timeout) {\n    return {\n      link: function (scope, element) {\n        $timeout(function () {\n          var newValue = element.attr('new-value');\n          var oldvalue = parseInt(element.html());\n\n          function changeValue(val) {\n            $timeout(function () {\n              element.html(val);\n            }, 30);\n          }\n\n          if (newValue > oldvalue) {\n            for (var i = oldvalue; i <= newValue; i++) {\n              changeValue(i);\n            }\n          } else {\n            for (var j = oldvalue; j >= newValue; j--) {\n              changeValue(j);\n            }\n          }\n          $timeout(function () {\n            element.next().find('i').addClass('show-arr');\n          }, 500);\n        }, 3500);\n      }\n    };\n  }\n\n})();\n/**\n * Auto expand textarea field\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoExpand', autoExpand);\n\n  /** @ngInject */\n  function autoExpand() {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        elem.bind('keydown', function ($event) {\n          var element = $event.target;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        });\n\n        // Expand the textarea as soon as it is added to the DOM\n        setTimeout(function () {\n          var element = elem;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        }, 0)\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoFocus', autoFocus);\n\n  /** @ngInject */\n  function autoFocus($timeout, $parse) {\n    return {\n      link: function (scope, element, attrs) {\n        var model = $parse(attrs.autoFocus);\n        scope.$watch(model, function (value) {\n          if (value === true) {\n            $timeout(function () {\n              element[0].focus();\n              element[0].select();\n            });\n          }\n        });\n        element.bind('blur', function () {\n          scope.$apply(model.assign(scope, false));\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('includeWithScope', includeWithScope);\n\n  /** @ngInject */\n  function includeWithScope() {\n    return {\n      restrict: 'AE',\n      templateUrl: function(ele, attrs) {\n        return attrs.includeWithScope;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 22.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .directive('ionSlider', ionSlider);\n\n  /** @ngInject */\n  function ionSlider($timeout) {\n    return {\n      restrict: 'EA',\n      template: '<div></div>',\n      replace: true,\n      scope: {\n        min: '=',\n        max: '=',\n        type: '@',\n        prefix: '@',\n        maxPostfix: '@',\n        prettify: '=',\n        prettifySeparator: '@',\n        grid: '=',\n        gridMargin: '@',\n        postfix: '@',\n        step: '@',\n        hideMinMax: '@',\n        hideFromTo: '@',\n        from: '=',\n        to: '=',\n        disable: '=',\n        onChange: '=',\n        onFinish: '=',\n        values: '=',\n        timeout: '@'\n      },\n      link: function ($scope, $element) {\n            $element.ionRangeSlider({\n              min: $scope.min,\n              max: $scope.max,\n              type: $scope.type,\n              prefix: $scope.prefix,\n              maxPostfix: $scope.maxPostfix,\n              prettify_enabled: $scope.prettify,\n              prettify_separator: $scope.prettifySeparator,\n              grid: $scope.grid,\n              gridMargin: $scope.gridMargin,\n              postfix: $scope.postfix,\n              step: $scope.step,\n              hideMinMax: $scope.hideMinMax,\n              hideFromTo: $scope.hideFromTo,\n              from: $scope.from,\n              to: $scope.to,\n              disable: $scope.disable,\n              onChange: $scope.onChange,\n              onFinish: $scope.onFinish,\n              values: $scope.values\n            });\n\n            $scope.$watch('min', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({min: value});\n              });\n            }, true);\n            $scope.$watch('max', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({max: value});\n              });\n            });\n            $scope.$watch('from', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({from: value});\n              });\n            });\n            $scope.$watch('to', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({to: value});\n              });\n            });\n            $scope.$watch('disable', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({disable: value});\n              });\n            });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('ngFileSelect', ngFileSelect);\n\n  /** @ngInject */\n  function ngFileSelect() {\n    return {\n      link: function ($scope, el) {\n        el.bind('change', function (e) {\n          $scope.file = (e.srcElement || e.target).files[0];\n          $scope.getFile();\n        })\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('scrollPosition', scrollPosition);\n\n  /** @ngInject */\n  function scrollPosition() {\n    return {\n      scope: {\n        scrollPosition: '=',\n        maxHeight: '='\n      },\n      link: function (scope) {\n        $(window).on('scroll', function() {\n          var scrollTop = $(window).scrollTop() > scope.maxHeight;\n          if (scrollTop !== scope.prevScrollTop) {\n            scope.$apply(function() {\n              scope.scrollPosition = scrollTop;\n            });\n          }\n          scope.prevScrollTop = scrollTop;\n        });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('trackWidth', trackWidth);\n\n  /** @ngInject */\n  function trackWidth() {\n    return {\n      scope: {\n        trackWidth: '=',\n        minWidth: '=',\n      },\n      link: function (scope, element) {\n        scope.trackWidth = $(element).width() < scope.minWidth;\n        scope.prevTrackWidth = scope.trackWidth;\n\n        $(window).resize(function() {\n          var trackWidth = $(element).width() < scope.minWidth;\n          if (trackWidth !== scope.prevTrackWidth) {\n            scope.$apply(function() {\n              scope.trackWidth = trackWidth;\n            });\n          }\n          scope.prevTrackWidth = trackWidth;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * Animated load block\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('zoomIn', zoomIn);\n\n  /** @ngInject */\n  function zoomIn($timeout, $rootScope) {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        var delay = 1000;\n\n        if ($rootScope.$pageFinishedLoading) {\n          delay = 100;\n        }\n\n        $timeout(function () {\n          elem.removeClass('full-invisible');\n          elem.addClass('animated zoomIn');\n        }, delay);\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baUtil', baUtil);\n\n  /** @ngInject */\n  function baUtil() {\n\n    this.isDescendant = function(parent, child) {\n      var node = child.parentNode;\n      while (node != null) {\n        if (node == parent) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n\n    this.hexToRGB = function(hex, alpha) {\n      var r = parseInt( hex.slice(1,3), 16 );\n      var g = parseInt( hex.slice(3,5), 16 );\n      var b = parseInt( hex.slice(5,7), 16 );\n      return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\n    }\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('fileReader', fileReader);\n\n  /** @ngInject */\n  function fileReader($q) {\n    var onLoad = function(reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.resolve(reader.result);\n        });\n      };\n    };\n\n    var onError = function (reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.reject(reader.result);\n        });\n      };\n    };\n\n    var onProgress = function(reader, scope) {\n      return function (event) {\n        scope.$broadcast('fileProgress',\n            {\n              total: event.total,\n              loaded: event.loaded\n            });\n      };\n    };\n\n    var getReader = function(deferred, scope) {\n      var reader = new FileReader();\n      reader.onload = onLoad(reader, deferred, scope);\n      reader.onerror = onError(reader, deferred, scope);\n      reader.onprogress = onProgress(reader, scope);\n      return reader;\n    };\n\n    var readAsDataURL = function (file, scope) {\n      var deferred = $q.defer();\n\n      var reader = getReader(deferred, scope);\n      reader.readAsDataURL(file);\n\n      return deferred.promise;\n    };\n\n    return {\n      readAsDataUrl: readAsDataURL\n    };\n  }\n})();\n/**\n * @author a.demeshko\n * created on 3/1/16\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('preloader', preloader);\n\n  /** @ngInject */\n  function preloader($q) {\n    return {\n      loadImg: function (src) {\n        var d = $q.defer();\n        var img = new Image();\n        img.src = src;\n        img.onload = function(){\n          d.resolve();\n        };\n        return d.promise;\n      },\n      loadAmCharts : function(){\n        var d = $q.defer();\n        AmCharts.ready(function(){\n          d.resolve();\n        });\n        return d.promise;\n      }\n    }\n  }\n\n})();\n/**\n * @author a.demeshko\n * created on 12/21/15\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('stopableInterval', stopableInterval);\n\n  /** @ngInject */\n  function stopableInterval($window) {\n    return {\n      start: function (interval, calback, time) {\n        function startInterval() {\n          return interval(calback, time);\n        }\n\n        var i = startInterval();\n\n        angular.element($window).bind('focus', function () {\n          if (i) interval.cancel(i);\n          i = startInterval();\n        });\n\n        angular.element($window).bind('blur', function () {\n          if (i) interval.cancel(i);\n        });\n      }\n    }\n  }\n\n})();\n/**\n * Created by harry on 16/6/16.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.relationship')\n        .controller('relationshipCtrl', relationshipCtrl);\n\n    /** @ngInject */\n    function relationshipCtrl($scope, $state, $filter, $http, util, toastr) {\n        $scope.search = {};\n\n        $scope.groups = [];\n        $scope.loadGroups = function() {\n            $http.get(util.baseApiUrl + 'groups', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.groups = [];\n                    }\n                    else {\n                        $scope.groups = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadGroups();\n\n\n        $scope.showGroup = function(item) {\n            if(item.group && $scope.groups.length) {\n                var selected = $filter('filter')($scope.groups, {_id: item.group});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n\n        $scope.doctors = [];\n        $scope.loadDoctors = function() {\n            $http.get(util.baseApiUrl + 'doctors/1000', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.doctors = [];\n                    }\n                    else {\n                        $scope.doctors = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDoctors();\n\n        $scope.showDoctor = function(item) {\n            if(item.doctor && $scope.doctors.length) {\n                var selected = $filter('filter')($scope.doctors, {_id: item.doctor});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.users = [];\n        $scope.loadUsers = function() {\n            $http.get(util.baseApiUrl + 'users/1000', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.users = [];\n                    }\n                    else {\n                        $scope.users = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadUsers();\n\n        $scope.showUser = function(item) {\n            if(item.user && $scope.users.length) {\n                var selected = $filter('filter')($scope.users, {_id: item.user});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n\n        $scope.relationships = [];\n        $scope.getRelationships = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'relationships', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.relationships = [];\n                    }\n                    else {\n                        $scope.relationships = response;\n                        //\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getRelationships();\n\n\n        $scope.$on('$viewContentLoaded', function(){\n            //Here your view content is fully loaded !!\n            if ($state.params.group && $state.params.doctor) {\n                //toastr.info('group: ' + $state.params.group + '\\ndoctor: ' + $state.params.doctor);\n\n                $scope.search.group = $state.params.group;\n                $scope.search.doctor = $state.params.doctor;\n            }\n        });\n\n\n        //==============================================\n\n\n        $scope.addRelationship = function() {\n            $scope.inserted = {\n                group: $scope.search.group || null,\n                doctor: $scope.search.doctor || null,\n                user: null,\n                apply: true\n            };\n\n            //toastr.info(JSON.stringify($scope.inserted));\n\n            $scope.relationships.push($scope.inserted);\n        }\n\n        $scope.removeRelationship = function(id) {\n\n            $http.delete(util.baseApiUrl + 'relationship/' + id)\n                .success(function (response) {\n                    $scope.relationships = $filter('filter')($scope.relationships, {_id: '!'+id});\n\n                    toastr.success('');\n                })\n\n                .error(function(err){\n                    toastr.error(err.messageFormatted)\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item){\n                return false;\n            }\n            if (!item.group){\n                toastr.error('group !');\n                return false;\n            }\n            if (!item.user){\n                toastr.error('user!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveRelationship = function(data) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'relationship', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.relationships.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.relationships.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.relationships.splice($scope.relationships.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                //toastr.info(JSON.stringify(data));\n                $http.patch(util.baseApiUrl + 'relationship/' + data._id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error('response is null');\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    })\n                    .error(function(err){\n                        toastr.error(err.messageFormatted)\n                    });\n            }\n\n            //$scope.inserted = null;\n\n        }\n\n        $scope.goDoctorGroup = function (id) {\n            $state.go('doctor.group', {doctor: id});\n        };\n    }\n})();\n/**\n * Created by harry on 16/6/16.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.user')\n        .controller('userCtrl', userCtrl);\n\n    /** @ngInject */\n    function userCtrl($scope, $rootScope, $filter, $http, util, toastr, $uibModal) {\n\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n\n        $scope.showDepartment = function(item) {\n            if(item.department && $scope.departments.length) {\n                var selected = $filter('filter')($scope.departments, {_id: item.department});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n\n\n\n        $scope.users = [];\n        $scope.getUsers = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'users/100', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.users = [];\n                    }\n                    else {\n                        $scope.users = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getUsers();\n\n\n        $scope.addUser = function() {\n            $scope.inserted = {\n                link_id: '',\n                name: '',\n                cell: '',\n                created: null,\n                updated: null,\n                apply: true\n            };\n\n\n            $scope.users.push($scope.inserted);\n        }\n\n        $scope.removeUser = function(id) {\n\n            $http.delete(util.baseApiUrl + 'user/' + id)\n                .success(function (response) {\n                    $scope.users = $filter('filter')($scope.users, {_id: '!'+id});\n                    \n                    //  relationship\n                    $http.delete(util.baseApiUrl + 'relationships/user/' + id)\n                        .success(function(rsp){\n                            toastr.success('user  relationships');\n                        })\n                        .error(function(error){\n                            toastr.success('user,  relationships');\n                        });\n\n                })\n\n                .error(function(err){\n                    toastr.error(err.messageFormatted)\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item){\n                return false;\n            }\n            if (!item.link_id){\n                toastr.error('Link ID !');\n                return false;\n            }\n            if (!item.name){\n                toastr.error('!');\n                return false;\n            }\n            if (!item.cell){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveUser = function(data) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                data.password = data.cell;\n                $http.post(util.baseApiUrl + 'user/wechat/' + data.link_id, data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.users.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n                        $scope.inserted = response;\n\n                        $scope.users.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.users.splice($scope.users.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'user/wechat/' + data.link_id, data)\n                    .success(function (response) {\n                        console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(error.messageFormatted);\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n            //$scope.inserted = null;\n\n        }\n\n        $scope.open = function (page, size, item) {\n            $rootScope.myUser = item; // pass item into the edit page\n            $uibModal.open({\n                animation: true,\n                templateUrl: page,\n                controller: 'userEditCtrl',\n                size: size,\n                // resolve: {\n                //     item: function () {\n                //         return item;\n                //     }\n                // }\n            });\n        };\n    }\n})();\n/**\n * Created by harry on 16/6/13.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.user')\n        .controller('userEditCtrl', userEditCtrl);\n\n    /** @ngInject */\n    function userEditCtrl($scope, $rootScope, $filter, $http, util, toastr) {\n        $scope.data = $rootScope.myUser;\n\n        // toastr.info(JSON.stringify($scope.data));\n        $scope.data.birthdate = new Date($scope.data.birthdate);\n        $scope.data.birthdate.buttonBar = {\n            show: false,\n            now: {\n                show: true,\n                text: 'Now'\n            },\n            today: {\n                show: true,\n                text: 'Today'\n            },\n            clear: {\n                show: true,\n                text: 'Clear'\n            },\n            date: {\n                show: true,\n                text: 'Date'\n            },\n            time: {\n                show: true,\n                text: 'Time'\n            },\n            close: {\n                show: true,\n                text: 'Close'\n            }\n        };\n        \n        $scope.openCalendar = function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            $scope.isOpen = true;\n        };\n\n        $scope.saveMe = function(item) {\n\n            //validate\n\n            // update\n            $http.patch(util.baseApiUrl + 'user/wechat/' + item.link_id, item)\n                .success(function (response) {\n                    console.log(JSON.stringify(response))\n                    if (!response) {\n                        toastr.error(error.messageFormatted);\n                    }\n                    else{\n                        toastr.success('');\n                    }\n                });\n\n\n            $scope.closeMe();\n\n        }\n\n        $scope.closeMe = function(){\n            //toastr.info(item._id);\n            $rootScope.myUser = null;\n            $scope.$dismiss();\n            // $uibModalInstance.$dismiss('cancel');\n        }\n    }\n})();\n//var request = require('request');\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.education.category')\n        .controller('educationCategoryCtrl', educationCategoryCtrl);\n\n    /** @ngInject */\n    function educationCategoryCtrl($scope, $state, $filter, $http, $q, util, toastr) {\n        $scope.search = {};\n\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n\n        $scope.showDepartment= function(item) {\n            if(item.department && $scope.departments.length) {\n                var selected = $filter('filter')($scope.departments, {_id: item.department});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.cats = [];\n\n        $scope.getCats = function(departmentId) {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'pagecats', {department: departmentId})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.cats = [];\n                    }\n                    else {\n                        $scope.cats = response;\n                    }\n\n                    // set department search/filter\n                    $scope.search.department = departmentId;\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getCats($state.params.department);\n\n        $scope.addCat = function() {\n            $scope.inserted = {\n                department: $scope.search.department || '',\n                name: '',\n                desc: '',\n                apply: true\n            };\n\n            $scope.cats.unshift($scope.inserted);\n        }\n\n        $scope.removeCat = function(id, index) {\n\n            $http.get(util.baseApiUrl + 'pages/cat/' + id)\n                .success(function(response) {\n                    var pages = util.getResponse(response);\n                    if (pages && pages.length > 0) {\n                        toastr.error(',');\n                    }\n                    else {\n                        $http.delete(util.baseApiUrl + 'pagecat/' + id)\n                            .success(function (response) {\n                                $scope.cats = $filter('filter')($scope.cats, {_id: '!'+id});\n\n                                toastr.success('');\n                            })\n\n                    }\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item || !item.name){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveCat = function(data, id, index) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'pagecat', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.cats.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.cats.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.cats.splice($scope.cats.length - 1, 1);\n\n                        data._id = response._id;\n                    });\n            }\n            else{ // update\n                $http.patch(util.baseApiUrl + 'pagecat/' + data._id, data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.cats.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        toastr.success('');\n                    });\n            }\n        };\n\n\n        $scope.cancelCat = function() {\n            // remove items without _id\n            if ($scope.cats && $scope.cats.length > 0) {\n                $scope.cats.forEach(function(cat, index) {\n                    if (!cat._id) {\n                        $scope.cats.splice(index, 1);\n                    }\n                });\n            }\n        };\n\n        $scope.getPagesByCatId = function(id, departmentId){\n            $state.go('education.page', {cat: id, department: departmentId});\n        }\n\n    }\n})();\n//var request = require('request');\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.education.page')\n        .controller('pageCtrl', pageCtrl);\n\n    /** @ngInject */\n    function pageCtrl($scope,$rootScope, $state, $filter, $http, util, toastr, $uibModal) {\n        $scope.search = {};\n\n        // get department name and cat name\n        var init = function () {\n\n            $scope.departments = [];\n            $scope.loadDepartments = function() {\n                $http.get(util.baseApiUrl + 'departments', {})\n                    .success(function (response) {\n                        // check if return null\n                        if (response.return && response.return == 'null'){\n                            $scope.departments = [];\n                        }\n                        else {\n                            $scope.departments = response;\n                        }\n\n                    })\n                    .error(function(error){\n                        toastr.error(error.messageFormatted);\n                    });\n            }\n            $scope.loadDepartments();\n\n            $scope.showDepartment= function(item) {\n                if(item.department && $scope.departments.length) {\n                    var selected = $filter('filter')($scope.departments, {_id: item.department});\n                    return selected.length ? selected[0].name : '';\n                } else {\n                    return '';\n                }\n            };\n\n            $scope.cats = [];\n            $scope.loadPageCats = function() {\n                $http.get(util.baseApiUrl + 'pagecats', {})\n                    .success(function (response) {\n                        // check if return null\n                        if (response.return && response.return == 'null'){\n                            $scope.cats = [];\n                        }\n                        else {\n                            $scope.cats = response;\n                        }\n\n                    })\n                    .error(function(error){\n                        toastr.error(error.messageFormatted);\n                    });\n            }\n            $scope.loadPageCats();\n\n            $scope.showCat= function(item) {\n                if(item.cat && $scope.cats.length) {\n                    var selected = $filter('filter')($scope.cats, {_id: item.cat});\n                    return selected.length ? selected[0].name : '';\n                } else {\n                    return '';\n                }\n            };\n\n        }\n\n        init();\n\n        // set pre-set values (department & cat)\n        $scope.$on('$viewContentLoaded', function(){\n            //Here your view content is fully loaded !!\n            if ($state.params.cat && $state.params.department) {\n                $scope.search.department = $state.params.department;\n                $scope.search.cat = $state.params.cat;\n            }\n            else {\n                // list all\n            }\n        });\n\n\n\n        //===========================================================\n\n        $scope.pages = [];\n\n        $scope.getPages = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'pages/cat/' + $state.params.cat)\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.pages = [];\n                    }\n                    else {\n                        $scope.pages = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        if ($state.params.cat){\n            $scope.getPages();\n        }\n\n\n        $scope.addPage = function() {\n            $scope.inserted = {\n\n                department: $scope.search.department,\n                cat: $scope.search.cat,\n                name: '',\n                title: '',\n                title_image: '',\n                apply: true\n            };\n\n            $scope.pages.push($scope.inserted);\n            //toastr.info($scope.pages[0] == $scope.inserted)\n        }\n\n        $scope.removePage = function(id, index) {\n\n            $http.delete(util.baseApiUrl + 'page/' + id)\n                .success(function (response) {\n                    $scope.pages = $filter('filter')($scope.pages, {_id: '!'+id});\n\n                    toastr.success('');\n                });\n        }\n\n        $scope.validate = function(item) {\n            if (!item || !item.name){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.savePage = function(data, id, index) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'page', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.pages.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.pages.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.pages.splice($scope.pages.length - 1, 1);\n\n                        data._id = response._id;\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'page/' + id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(error.messageFormatted);\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n        }\n\n        $scope.cancelPage = function() {\n            // remove items without _id\n            if ($scope.pages && $scope.pages.length > 0) {\n                $scope.pages.map(function(page) {\n                    return !page._id;\n                });\n            }\n        };\n\n        $scope.open = function (page, size, item, index) {\n            $scope.editItem = item; // pass item into the edit page\n            $scope.editIndex = index;\n            $uibModal.open({\n                animation: true,\n                templateUrl: page,\n                controller: 'pageEditCtrl',\n                size: size,\n                scope: $scope,\n                backdrop: 'static'\n                // resolve: {\n                //     item: function () {\n                //         return item;\n                //     }\n                // }\n            });\n        };\n        \n        $scope.updateParent = function (updatedItem) {\n            $scope.pages[$scope.editIndex] = updatedItem;\n        }\n\n        //================================\n\n        $scope.backToCats = function () {\n            $state.go('education.category', {department: $state.params.department});\n        }\n    }\n})();\n/**\n * Created by harry on 16/6/13.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.education.page')\n        .controller('pageEditCtrl', pageEditCtrl);\n\n    /** @ngInject */\n    function pageEditCtrl($scope, $rootScope, $filter, $http, util, toastr) {\n        $scope.preview = false;\n\n        $scope.savePage = function() {\n\n            var page = angular.copy($scope.editItem);\n\n            // update\n            $http.patch(util.baseApiUrl + 'page/' + page._id, page)\n                .success(function (response) {\n                    //console.log(JSON.stringify(response))\n                    if (!response ){\n                        toastr.error('')\n                    }\n                    else if (response.return == 'error') {\n                        toastr.error(response.message);\n                    }\n                    else{\n                        toastr.success('');\n                        $scope.editItem = response;\n                        $scope.updateParent($scope.editItem);\n                        $scope.closeMe();\n                    }\n                });\n        }\n        \n        $scope.closeMe = function(){\n            $scope.$dismiss();\n        };\n\n        $scope.textAreaSetup = function($element){\n            $element.attr('ui-codemirror', '');\n        };\n\n        $scope.previewToggle = function() {\n            $scope.preview = !$scope.preview;\n        };\n\n    }\n})();\n//var request = require('request');\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.hospital.department')\n    .controller('departmentCtrl', departmentCtrl);\n\n  /** @ngInject */\n  function departmentCtrl($scope, $state, $filter, $http, util, toastr) {\n\n\n    $scope.departments = [];\n    //     [\n    //   {\"id\": 1, \"name\":\"harry\", \"desc\": \"heary\", \"order\": 1, \"apply\": true},\n    //   {\"id\": 2, \"name\":\"harry\", \"desc\": \"heary\"}\n    // ];\n\n    $scope.getDepartments = function() {\n        $scope.myPromise = $http.get(util.baseApiUrl + 'departments', {})\n          .success(function (response) {\n              // check if return null\n              if (response.return && response.return == 'null'){\n                  $scope.departments = [];\n              }\n              else {\n                  $scope.departments = response;\n              }\n\n          })\n          .error(function(error){\n              toastr.error(error.messageFormatted);\n          });\n    }\n\n    $scope.getDepartments();\n\n    $scope.addDepartment = function() {\n        $scope.inserted = {\n            name: '',\n            desc: '',\n            order: 0,\n            apply: true\n        };\n\n\n        $scope.departments.push($scope.inserted);\n    }\n\n    $scope.removeDepartment = function(id, index) {\n\n        $http.get(util.baseApiUrl + 'diseases/' + id)\n            .success(function(response) {\n                var diseases = util.getResponse(response);\n                if (diseases && diseases.length > 0) {\n                    toastr.error(',');\n                }\n                else {\n                    $http.delete(util.baseApiUrl + 'department/' + id)\n                        .success(function (response) {\n                            $scope.departments = $filter('filter')($scope.departments, {_id: '!'+id});\n\n                            toastr.success('');\n                        })\n\n                }\n            });\n\n    }\n      \n      $scope.validate = function(item) {\n          if (!item || !item.name){\n              toastr.error('!');\n              return false;\n          }\n          return true;\n      }\n    \n    $scope.saveDepartment = function(data, id, index) {\n\n        //validate\n        if (!$scope.validate(data)){\n            return;\n        }\n\n        if (!data._id) { // create\n            $http.post(util.baseApiUrl + 'department', data)\n                .success(function (response) {\n                    if (util.getErrorMessage(response)) {\n                        $scope.departments.pop();\n                        return toastr.error(util.getErrorMessage(response));\n                    };\n\n                    $scope.inserted = response;\n\n                    $scope.departments.push($scope.inserted);\n                    toastr.success('');\n\n                    // remove\n                    $scope.departments.splice($scope.departments.length - 1, 1);\n\n                });\n        }\n        else{ // update\n            //angular.extend(data, {_id: id});\n            $http.patch(util.baseApiUrl + 'department/' + id, data)\n                .success(function (response) {\n                    //console.log(JSON.stringify(response))\n                    if (!response) {\n                        toastr.error(error.messageFormatted);\n                    }\n                    else{\n                        toastr.success('');\n                    }\n                });\n        }\n\n        //\n\n    }\n\n      $scope.getDiseasesByDepartmentId = function(id){\n          $state.go('hospital.disease', {department: id});\n      }\n  }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.hospital.disease')\n        .controller('diseaseCtrl', diseaseCtrl);\n\n    /** @ngInject */\n    function diseaseCtrl($scope, $state, $filter, $http, util, toastr) {\n        $scope.search = {};\n\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n\n\n        $scope.diseases = [];\n        $scope.getDiseases = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'diseases', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.diseases = [];\n                    }\n                    else {\n                        $scope.diseases = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getDiseases();\n\n\n        $scope.showDepartment = function(item) {\n            if(item.department && $scope.departments.length) {\n                var selected = $filter('filter')($scope.departments, {_id: item.department});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.$on('$viewContentLoaded', function(){\n            //Here your view content is fully loaded !!\n            if ($state.params.department) {\n                toastr.info($state.params.department);\n\n                $scope.search.department = $state.params.department;\n            }\n        });\n\n\n        $scope.addDisease = function() {\n            $scope.inserted = {\n                department: $scope.search.department || null,\n                name: '',\n                desc: '',\n                order: 0,\n                apply: true\n            };\n\n\n            $scope.diseases.push($scope.inserted);\n        }\n\n        $scope.removeDisease = function(id) {\n\n            $http.get(util.baseApiUrl + 'diseases/' + id)\n                .success(function(response) {\n                    var diseases = util.getResponse(response);\n                    if (diseases && diseases.length > 0) {\n                        toastr.error(',');\n                    }\n                    else {\n                        $http.delete(util.baseApiUrl + 'disease/' + id)\n                            .success(function (response) {\n                                $scope.diseases = $filter('filter')($scope.diseases, {_id: '!'+id});\n\n                                toastr.success('');\n                            })\n\n                    }\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item || !item.name){\n                toastr.error('!');\n                return false;\n            }\n            if (!item.department){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveDisease = function(data, id) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'disease', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.diseases.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n                        $scope.inserted = response;\n\n                        $scope.diseases.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.diseases.splice($scope.diseases.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'disease/' + id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(error.messageFormatted);\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n            //$scope.inserted = null;\n\n        }\n\n    }\n})();\n//var request = require('request');\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.hospital.medicine')\n        .controller('medicineCtrl', medicineCtrl);\n\n    /** @ngInject */\n    function medicineCtrl($scope, $state, $filter, $http, util, toastr, $uibModal) {\n\n        $scope.usages = [{text: \"\", value: \"0\"},\n            {text: \"\", value: \"1\"}\n        ];\n        $scope.showUsage = function(item) {\n            var selected = [];\n            if(item.usage > -1) {\n                selected = $filter('filter')($scope.usages, {value: item.usage});\n            }\n            return selected.length ? selected[0].text : '';\n        }\n\n        $scope.ways = [\n            {text: \"\", value: \"1\"},\n            {text: \"\", value: \"2\"},\n            {text: \"\", value: \"3\"},\n            {text: \"\", value: \"4\"},\n            {text: \"4\", value: \"5\"},\n            {text: \"8\", value: \"6\"},\n            {text: \"12\", value: \"7\"},\n            {text: \"\", value: \"8\"},\n            {text: \"\", value: \"9\"}\n        ];\n        $scope.showDosageWay = function(item) {\n            var selected = [];\n            if(item.dosage.way > 0) {\n                selected = $filter('filter')($scope.ways, {value: item.dosage.way});\n            }\n            return selected.length ? selected[0].text : '';\n        }\n\n        $scope.medicines = [];\n\n        $scope.getMedicines = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'medicines', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.medicines = [];\n                    }\n                    else {\n                        $scope.medicines = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getMedicines();\n\n        $scope.addMedicine = function() {\n            $scope.inserted = {\n                name: '',\n                desc: '',\n                capacity: 0,\n                usage: '0',\n                dosage: {\n                    frequency: 0,\n                    way: '0'\n                },\n                apply: true\n            };\n\n\n            $scope.medicines.push($scope.inserted);\n        }\n\n        $scope.removeMedicine = function(id, index) {\n\n            $http.delete(util.baseApiUrl + 'medicine/' + id)\n                .success(function (response) {\n                    $scope.medicines = $filter('filter')($scope.medicines, {_id: '!'+id});\n\n                    toastr.success('');\n                });\n        }\n\n        $scope.validate = function(item) {\n            if (!item || !item.name){\n                toastr.error('!');\n                return false;\n            }\n\n            return true;\n        }\n\n        $scope.saveMedicine = function(data, id, index) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            data.dosage = {\n                frequency: data.frequency,\n                way: data.way\n            };\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'medicine', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.medicines.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.medicines.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.medicines.splice($scope.medicines.length - 1, 1);\n\n                        data._id = response._id;\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'medicine/' + id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(error.messageFormatted);\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n        }\n\n        $scope.open = function (page, size, item, index) {\n            $scope.editItem = item; // pass item into the edit page\n            $scope.editIndex = index;\n            $uibModal.open({\n                animation: true,\n                templateUrl: page,\n                controller: 'medicineEditCtrl',\n                size: size,\n                scope: $scope\n                // resolve: {\n                //     item: function () {\n                //         return item;\n                //     }\n                // }\n            });\n        };\n        \n        $scope.updateParent = function(updatedItem) {\n            $scope.medicines[$scope.editIndex] = updatedItem;\n        }\n    }\n})();\n/**\n * Created by harry on 16/6/13.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.hospital.medicine')\n        .controller('medicineEditCtrl', medicineEditCtrl);\n\n    /** @ngInject */\n    function medicineEditCtrl($scope, $rootScope, $filter, $http, util, toastr) {\n        $scope.item = angular.copy($scope.editItem);\n        $scope.editN = {notices: []};\n        $scope.editStatus = 0; // Status: 0:init; 1: create; 2: edit;\n        $scope.editNIndex = -1;\n\n        // toastr.info(JSON.stringify($scope.data));\n\n\n        $scope.saveNotice = function(index) {\n\n            //validate\n            if ($scope.editNForm.$invalid)\n                return;\n\n            switch ($scope.editStatus) {\n                case 1: // create\n                    $scope.item.notices.push(angular.copy($scope.editN));\n                    break;\n                case 2: // edit\n                    $scope.item.notices[$scope.editNIndex] = angular.copy($scope.editN);\n                    break;\n                default:\n                    break;\n            }\n            $scope.editStatus = 0;\n            $scope.editNIndex = -1;\n\n        }\n\n        $scope.saveMedicine = function() {\n\n            var medicine = angular.copy($scope.item);\n            toastr.info(JSON.stringify(medicine))\n\n            // update\n            $http.patch(util.baseApiUrl + 'medicine/' + medicine._id, medicine)\n                .success(function (response) {\n                    //console.log(JSON.stringify(response))\n                    if (!response ){\n                        toastr.error('')\n                    }\n                    else if (response.return == 'error') {\n                        toastr.error(response.message);\n                    }\n                    else{\n                        toastr.success('');\n                        $scope.editItem = response;\n                        $scope.updateParent($scope.editItem);\n                        $scope.closeMe();\n                    }\n                });\n        }\n        \n        $scope.closeMe = function(){\n            $scope.$dismiss();\n        }\n        \n        $scope.createNotice = function() {\n            $scope.editStatus = 1;\n            $scope.editNIndex = -1;\n\n            // set default\n            $scope.editN.notice = '';\n            $scope.editN.days_to_start = 0;\n            $scope.editN.during = 0;\n            $scope.editQ.require_confirm = false;\n            $scope.editN.apply = true;\n\n        }\n\n        $scope.editNotice = function(notice, index) {\n            $scope.editStatus = 2;\n            $scope.editNIndex = index;\n\n            // load question to edit area\n            $scope.editN = angular.copy(notice);\n        }\n\n        $scope.removeNotice = function(index) {\n            $scope.item.notices.splice(index, 1);\n        }\n\n    }\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.hospital.symptom')\n    .controller('symptomCtrl', symptomCtrl);\n\n  /** @ngInject */\n  function symptomCtrl($scope, $filter, $http, util, toastr) {\n\n    $scope.departments = [];\n    $scope.loadDepartments = function() {\n      $http.get(util.baseApiUrl + 'departments', {})\n          .success(function (response) {\n            // check if return null\n            if (response.return && response.return == 'null'){\n              $scope.departments = [];\n            }\n            else {\n              $scope.departments = response;\n            }\n\n          })\n          .error(function(error){\n            toastr.error(error.messageFormatted);\n          });\n    }\n    $scope.loadDepartments();\n\n\n    $scope.diseases = [];\n    $scope.getDiseases = function() {\n      $http.get(util.baseApiUrl + 'diseases', {})\n          .success(function (response) {\n            // check if return null\n            if (response.return && response.return == 'null'){\n              $scope.diseases = [];\n            }\n            else {\n              $scope.diseases = response;\n            }\n\n          })\n          .error(function(error){\n            toastr.error(error.messageFormatted);\n          });\n    }\n\n    $scope.getDiseases();\n\n\n    $scope.showDepartment = function(item) {\n      if(item.department && $scope.departments.length) {\n        var selected = $filter('filter')($scope.departments, {_id: item.department});\n        return selected.length ? selected[0].name : '';\n      } else {\n        return '';\n      }\n    };\n\n    $scope.addDisease = function() {\n      $scope.inserted = {\n        department: null,\n        name: '',\n        desc: '',\n        order: 0,\n        apply: true\n      };\n\n\n      $scope.diseases.push($scope.inserted);\n    }\n\n    $scope.removeDisease = function(id) {\n\n      $http.get(util.baseApiUrl + 'diseases/' + id)\n          .success(function(response) {\n            var diseases = util.getResponse(response);\n            if (diseases && diseases.length > 0) {\n              toastr.error(',');\n            }\n            else {\n              $http.delete(util.baseApiUrl + 'disease/' + id)\n                  .success(function (response) {\n                      $scope.symptoms = $filter('filter')($scope.symptoms, {_id: '!'+id});\n\n                      toastr.success('');\n                  })\n\n            }\n          });\n\n    }\n\n    $scope.validate = function(item) {\n      if (!item || !item.name){\n        toastr.error('!');\n        return false;\n      }\n      if (!item.department){\n        toastr.error('!');\n        return false;\n      }\n      return true;\n    }\n\n    $scope.saveDisease = function(data, id) {\n\n      //validate\n      if (!$scope.validate(data)){\n        return;\n      }\n\n      if (!data._id) { // create\n        $http.post(util.baseApiUrl + 'disease', data)\n            .success(function (response) {\n                if (util.getErrorMessage(response)) {\n                    $scope.diseases.pop();\n                    return toastr.error(util.getErrorMessage(response));\n                };\n\n              $scope.inserted = response;\n\n              $scope.diseases.push($scope.inserted);\n              toastr.success('');\n\n              // remove\n              $scope.diseases.splice($scope.diseases.length - 1, 1);\n\n            });\n      }\n      else{ // update\n        //angular.extend(data, {_id: id});\n        $http.patch(util.baseApiUrl + 'disease/' + id, data)\n            .success(function (response) {\n              //console.log(JSON.stringify(response))\n              if (!response) {\n                toastr.error(error.messageFormatted);\n              }\n              else{\n                toastr.success('');\n              }\n            });\n      }\n\n      //$scope.inserted = null;\n\n    }\n\n  }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.im.chat')\n        .controller('chatCtrl', chatCtrl);\n\n    /** @ngInject */\n    function chatCtrl($scope, $state, $filter, $http, util, toastr) {\n\n        $scope.search = {};\n\n        $scope.chatrooms = [];\n        $scope.loadChatrooms = function() {\n            $http.get(util.baseApiUrl + 'chatrooms', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.chatrooms = [];\n                    }\n                    else {\n                        $scope.chatrooms = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.loadChatrooms();\n\n        $scope.showChatroom = function(item) {\n            if(item.chatroom && $scope.chatrooms.length) {\n                var selected = $filter('filter')($scope.chatrooms, {_id: item.chatroom});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.chats = [];\n        $scope.getChats = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'chats', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.chats = [];\n                    }\n                    else {\n                        $scope.chats = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getChats();\n\n        $scope.$on('$viewContentLoaded', function(){\n            //Here your view content is fully loaded !!\n            if ($state.params.chatroom) {\n                $scope.search.chatroom = $state.params.chatroom;\n            }\n        });\n\n\n        //==============================================\n\n\n        $scope.addChat = function() {\n            $scope.inserted = {\n                chatroom: $scope.search.chatroom || null,\n                name: '',\n                direction: 0,\n                data: ''\n            };\n\n\n            $scope.chats.push($scope.inserted);\n        }\n\n        $scope.removeChat = function(id) {\n\n            $http.delete(util.baseApiUrl + 'chat/' + id)\n                .success(function (response) {\n                    $scope.chats = $filter('filter')($scope.chats, {_id: '!'+id});\n\n                    toastr.success('');\n                });\n        }\n\n        $scope.validate = function(item) {\n\n            if (!item.chatroom){\n                toastr.error('!');\n                return false;\n            }\n            if (!item || !item.data){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveChat = function(data, id) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!id) { // create\n                $http.post(util.baseApiUrl + 'chat', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.chats.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n                        $scope.inserted = response;\n\n                        $scope.chats.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.chats.splice($scope.chats.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'chat/' + id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(error.messageFormatted);\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    })\n                    .error(function(err){\n                        toastr.error(err.messageFormatted)\n                    });\n            }\n\n            //$scope.inserted = null;\n\n        }\n\n        $scope.deleteChatroomContent = function() {\n            if (!$scope.search.chatroom) {\n                return toastr.warn('');\n            }\n\n            $http.delete(util.baseApiUrl + 'chats/chatroom/' + $scope.search.chatroom)\n                .success(function (response) {\n                    // \n                    $scope.chats = $filter('filter')($scope.chats, {chatroom: '!'+$scope.search.chatroom});\n\n                    //\n                    $http.delete(util.baseApiUrl + 'chatroom/' + $scope.search.chatroom)\n                        .success(function (rsp) {\n                            $scope.chatrooms = $filter('filter')($scope.chatrooms, {_id: '!'+$scope.search.chatroom});\n\n                            toastr.success('');\n                        });\n\n                });\n        }\n\n    }\n})();\n//var request = require('request');\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.im.chatroom')\n        .controller('chatroomCtrl', chatroomCtrl);\n\n    /** @ngInject */\n    function chatroomCtrl($scope, $state, $filter, $http, util, toastr) {\n\n\n        $scope.chatrooms = [];\n\n        $scope.getChatrooms = function() {\n            $http.get(util.baseApiUrl + 'chatrooms', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.chatrooms = [];\n                    }\n                    else {\n                        $scope.chatrooms = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.getChatrooms();\n\n        // goto \n        $scope.goChat = function(chatroomid) {\n            $state.go('im.chat', {chatroom: chatroomid});\n        }\n\n    }\n})();\n/**\n * Created by harry on 16/6/13.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.reservation.booking')\n        .controller('bookingCtrl', bookingCtrl);\n\n    /** @ngInject */\n    function bookingCtrl($scope, $state, $filter, $http, util, toastr) {\n\n        $scope.search = {};\n\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n\n        $scope.doctors = [];\n        $scope.loadDoctors = function() {\n            $http.get(util.baseApiUrl + 'doctors/1000', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.doctors = [];\n                    }\n                    else {\n                        $scope.doctors = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDoctors();\n\n        $scope.showDoctor = function(item) {\n            if(item.doctor && $scope.doctors.length) {\n                var selected = $filter('filter')($scope.doctors, {_id: item.doctor});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.schedules = [];\n        $scope.loadSchedules = function() {\n            $http.get(util.baseApiUrl + 'schedules/cms/populated')\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.schedules = [];\n                    }\n                    else {\n                        $scope.schedules = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadSchedules();\n\n        $scope.showSchedule = function(item) {\n            if(item.schedule && $scope.schedules.length) {\n                var selected = $filter('filter')($scope.schedules, {_id: item.schedule});\n                return selected.length ? ((new Date(selected[0].date)).toISOString().slice(0,10) + ' ' + selected[0].period.name) : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.users = [];\n        $scope.loadUsers = function() {\n            $http.get(util.baseApiUrl + 'users/1000', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.users = [];\n                    }\n                    else {\n                        $scope.users = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadUsers();\n\n        $scope.showUser = function(item) {\n            if(item.user && $scope.users.length) {\n                var selected = $filter('filter')($scope.users, {_id: item.user});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n\n        // data\n        $scope.bookings = [];\n        $scope.getBookings = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'bookings', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.bookings = [];\n                    }\n                    else {\n                        $scope.bookings = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getBookings();\n\n        $scope.$on('$viewContentLoaded', function(){\n            //Here your view content is fully loaded !!\n            if ($state.params.schedule) {\n                toastr.info($state.params.schedule);\n\n                $scope.search.schedule = $state.params.schedule;\n            }\n        });\n\n        //===========================================================\n\n        $scope.addBooking = function() {\n            //todo:\n            // $scope.search.doctor = null; // reset\n            // $scope.$apply();\n\n            $scope.inserted = {\n                doctor: null,\n                schedule: null,\n                user: null,\n                status: '',\n                score: 0,\n                created: ''\n            };\n\n\n            $scope.bookings.push($scope.inserted);\n        }\n\n        $scope.removeBooking = function(id) {\n\n            $http.delete(util.baseApiUrl + 'booking/' + id)\n                .success(function (response) {\n                    $scope.bookings = $filter('filter')($scope.bookings, {_id: '!'+id});\n\n                    toastr.success('');\n                })\n                .error(function(err){\n                    toastr.error(err.messageFormatted)\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item){\n                return false;\n            }\n            if (!item.doctor){\n                toastr.error(' !');\n                return false;\n            }\n            if (!item.schedule){\n                toastr.error('!');\n                return false;\n            }\n            if (!item.user){\n                toastr.error('!');\n                return false;\n            }\n            if (!item.status){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveBooking = function(data) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'booking', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.bookings.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n                        $scope.inserted = response;\n\n                        $scope.bookings.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.bookings.splice($scope.bookings.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'booking/' + data._id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(\"no data\");\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n            //$scope.inserted = null;\n        }\n\n\n    }\n})();\n/**\n * Created by harry on 16/6/25.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.reservation.schedule')\n        .controller('scheduleCreateCtrl', scheduleCreateCtrl);\n\n    /** @ngInject */\n    function scheduleCreateCtrl($scope, $filter, $http, util, toastr) {\n        $scope.schedule = {};\n\n        //  not working\n        $scope.$watch('schedule.periods', function() {\n            $('#selectPeriods').selectpicker('refresh');\n        });\n        $scope.schedule.limit = 20;\n\n        // min date picker\n        $scope.schedule.startDate = {\n            date: new Date(),\n            datepickerOptions: {\n                maxDate: null\n            },\n            open: false\n        };\n\n        // max date picker\n        $scope.schedule.endDate = {\n            date: new Date(),\n            datepickerOptions: {\n                minDate: null\n            },\n            open: false\n        };\n\n        // set date for max picker, 10 days in future\n        $scope.schedule.endDate.date.setDate($scope.schedule.endDate.date.getDate() + 1);\n\n\n        $scope.openCalendar = function(e, picker) {\n            $scope.schedule[picker].open = true;\n        };\n        // watch min and max dates to calculate difference\n        var unwatchMinMaxValues = $scope.$watch(function() {\n            return [$scope.schedule.startDate, $scope.schedule.endDate];\n        }, function() {\n            // min max dates\n            $scope.schedule.startDate.datepickerOptions.maxDate = $scope.schedule.endDate.date;\n            $scope.schedule.endDate.datepickerOptions.minDate = $scope.schedule.startDate.date;\n\n            if ($scope.schedule.startDate.date && $scope.schedule.endDate.date) {\n                var diff = $scope.schedule.startDate.date.getTime() - $scope.schedule.endDate.date.getTime();\n                $scope.schedule.dayRange = Math.round(Math.abs(diff/(1000*60*60*24)))\n            } else {\n                $scope.schedule.dayRange = 'n/a';\n            }\n\n        }, true);\n\n        // destroy watcher\n        $scope.$on('$destroy', function() {\n            unwatchMinMaxValues();\n        });\n\n\n        $scope.doctor = null;\n        $scope.schedule.days = {\n            sunday: false,\n            monday: true,\n            tuesday: true,\n            wednesday: true,\n            thursday: true,\n            friday: true,\n            saturday: false\n        };\n\n\n\n        $http.get(util.baseApiUrl + 'doctor/' + $scope.search.doctor)\n            .success(function (response) {\n                // check if return null\n                if (response.return && response.return == 'null'){\n                    $scope.doctor = null;\n                }\n                else {\n                    $scope.doctor = response;\n                    //toastr.info(JSON.stringify($scope.doctor));\n                }\n\n            });\n\n        $scope.getAvailableDates = function(){\n            var dates = [];\n\n            for(var i=0; i < $scope.schedule.dayRange; i++){\n                dates.push(new Date(new Date($scope.schedule.startDate.date).getTime() + i*24*60*60*1000));\n            }\n\n            return dates.filter(function(date){\n                switch(date.getDay()) {\n                    case 0:\n                        return $scope.schedule.days.sunday;\n                    case 1:\n                        return $scope.schedule.days.monday;\n                    case 2:\n                        return $scope.schedule.days.tuesday;\n                    case 3:\n                        return $scope.schedule.days.wednesday;\n                    case 4:\n                        return $scope.schedule.days.monday;\n                    case 5:\n                        return $scope.schedule.days.friday;\n                    case 6:\n                        return $scope.schedule.days.saturday;\n                    default:\n                        return false;\n                }\n            });\n\n        }\n\n        $scope.createSchedule = function(date, period){\n            var data = {\n                doctor: $scope.doctor._id,\n                period: period._id,\n                date: date,\n                limit: $scope.schedule.limit\n\n            };\n            $http.post(util.baseApiUrl + 'schedule', data)\n                .success(function (response) {\n                    toastr.info(JSON.stringify(response));\n                    // check if return null\n                    // if (response.return && response.return == 'null'){\n                    //     $scope.doctor = null;\n                    // }\n                    // else {\n                    //     $scope.doctor = response;\n                    //\n                    // }\n\n                })\n                .error(function(err){\n                    toastr.error(JSON.stringify(err));\n                });\n        }\n\n        $scope.saveMe = function(item) {\n\n            // validation first\n            if (!$scope.schedule.periods || $scope.schedule.periods.length < 1){\n                toastr.error('');\n                return;\n            }\n            if ($scope.schedule.dayRange == 'n/a'){\n                toastr.error('');\n                return;\n            }\n\n\n            var dates = $scope.getAvailableDates();\n            //toastr.info(JSON.stringify(dates));\n            dates.map(function(date){\n                $scope.schedule.periods.map(function(period){\n                    $scope.createSchedule(date, period);\n                })\n            });\n\n\n\n\n\n            //validate\n\n            // update\n            // $http.patch(util.baseApiUrl + 'schedule/' + item.link_id, item)\n            //     .success(function (response) {\n            //         console.log(JSON.stringify(response))\n            //         if (!response) {\n            //             toastr.error(error.messageFormatted);\n            //         }\n            //         else{\n            //             toastr.success('');\n            //         }\n            //     });\n\n\n            //$scope.closeMe();\n\n        }\n\n        $scope.closeMe = function(){\n            //toastr.info(item._id);\n            $scope.$dismiss();\n            // $uibModalInstance.$dismiss('cancel');\n        }\n    }\n})();\n/**\n * Created by harry on 16/6/13.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.reservation.schedule')\n        .controller('scheduleCtrl', scheduleCtrl);\n\n    /** @ngInject */\n    function scheduleCtrl($scope, $state, $rootScope, $filter, $http, util, toastr, $uibModal) {\n        $scope.search = {};\n\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n\n        $scope.doctors = [];\n        $scope.loadDoctors = function() {\n            $http.get(util.baseApiUrl + 'doctors/1000', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.doctors = [];\n                    }\n                    else {\n                        $scope.doctors = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDoctors();\n        \n        $scope.showDoctor = function(item) {\n            if(item.doctor && $scope.doctors.length) {\n                var selected = $filter('filter')($scope.doctors, {_id: item.doctor});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.periods = [];\n        $scope.loadPeriods = function() {\n            $http.get(util.baseApiUrl + 'periods')\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.periods = [];\n                    }\n                    else {\n                        $scope.periods = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadPeriods();\n\n        $scope.showPeriod = function(item) {\n            if(item.period && $scope.periods.length) {\n                var selected = $filter('filter')($scope.periods, {_id: item.period});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        // data\n        $scope.schedules = [];\n        $scope.getSchedules = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'schedules', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.schedules = [];\n                    }\n                    else {\n                        $scope.schedules = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getSchedules();\n\n        $scope.opened = {};\n\n        // $scope.open = function($event, elementOpened) {\n        //     $event.preventDefault();\n        //     $event.stopPropagation();\n        //\n        //     $scope.opened[elementOpened] = !$scope.opened[elementOpened];\n        // };\n\n        //===========================================================\n\n        $scope.addSchedules = function() {\n            //todo:\n            // $scope.search.doctor = null; // reset\n            // $scope.$apply();\n\n            $scope.inserted = {\n                doctor: $scope.search.doctor || null,\n                period: null,\n                date: '',\n                limit: 0,\n                apply: true\n            };\n\n\n            $scope.schedules.push($scope.inserted);\n        }\n\n        $scope.removeSchedule = function(id) {\n\n            $http.get(util.baseApiUrl + 'bookings/schedule/' + id)\n                .success(function(response) {\n\n                    //toastr.info(JSON.stringify(response));\n                    var item = util.getResponse(response);\n                    if (item && item.length > 0) {\n                        toastr.error(',booking');\n                    }\n                    else {\n                        $http.delete(util.baseApiUrl + 'schedule/' + id)\n                            .success(function (response) {\n                                $scope.schedules = $filter('filter')($scope.schedules, {_id: '!'+id});\n\n                                toastr.success('');\n                            })\n\n                    }\n                })\n                .error(function(err){\n                    toastr.error(err.messageFormatted)\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item){\n                return false;\n            }\n            if (!item.doctor){\n                toastr.error(' !');\n                return false;\n            }\n            if (!item.period){\n                toastr.error('!');\n                return false;\n            }\n            if (!item.date){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveSchedule = function(data, index) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'schedule', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.schedules.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n                        $scope.inserted = response;\n\n                        $scope.schedules.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.schedules.splice($scope.schedules.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'schedule/' + data._id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(\"no data\");\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n            //$scope.inserted = null;\n        }\n\n        $scope.getScheduleDetails = function(id) {\n            $state.go('reservation.booking', {schedule: id});\n        }\n\n        $scope.open = function (page, size, doctor) {\n            if (!doctor) {\n                return toastr.warning('');\n            }\n\n            $scope.selectedDoctorId = doctor; // pass item into the edit page\n            $uibModal.open({\n                animation: true,\n                templateUrl: page,\n                controller: 'scheduleCreateCtrl',\n                scope: $scope,\n                size: size,\n                // resolve: {\n                //     item: function () {\n                //         return doctor;\n                //     }\n                // }\n            });\n        };\n    }\n})();\n//var request = require('request');\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.survey.category')\n    .controller('surveyCategoryCtrl', surveyCategoryCtrl);\n\n  /** @ngInject */\n  function surveyCategoryCtrl($scope, $state, $filter, $http, $q, util, toastr) {\n      $scope.search = {};\n      \n      $scope.departments = [];\n      $scope.loadDepartments = function() {\n          $http.get(util.baseApiUrl + 'departments', {})\n              .success(function (response) {\n                  // check if return null\n                  if (response.return && response.return == 'null'){\n                      $scope.departments = [];\n                  }\n                  else {\n                      $scope.departments = response;\n                  }\n\n              })\n              .error(function(error){\n                  toastr.error(error.messageFormatted);\n              });\n      }\n      $scope.loadDepartments();\n\n      $scope.showDepartment= function(item) {\n          if(item.department && $scope.departments.length) {\n              var selected = $filter('filter')($scope.departments, {_id: item.department});\n              return selected.length ? selected[0].name : '';\n          } else {\n              return '';\n          }\n      };\n      \n    $scope.cats = [];\n\n    $scope.getCats = function(departmentId) {\n        $scope.myPromise = $http.get(util.baseApiUrl + 'surveycats', {department: departmentId})\n          .success(function (response) {\n              // check if return null\n              if (response.return && response.return == 'null'){\n                  $scope.cats = [];\n              }\n              else {\n                  $scope.cats = response;\n              }\n\n              // set department search/filter\n              $scope.search.department = departmentId;\n\n          })\n          .error(function(error){\n              toastr.error(error.messageFormatted);\n          });\n    }\n\n    $scope.getCats($state.params.department);\n\n    $scope.addCat = function() {\n        $scope.inserted = {\n            department: '',\n            name: '',\n            desc: '',\n            apply: true\n        };\n\n\n        $scope.cats.push($scope.inserted);\n    }\n\n    $scope.removeCat = function(id, index) {\n\n        $http.get(util.baseApiUrl + 'surveys/cat/' + id)\n            .success(function(response) {\n                var surveys = util.getResponse(response);\n                if (surveys && surveys.length > 0) {\n                    toastr.error(',');\n                }\n                else {\n                    $http.delete(util.baseApiUrl + 'surveycat/' + id)\n                        .success(function (response) {\n                            $scope.cats = $filter('filter')($scope.cats, {_id: '!'+id});\n\n                            toastr.success('');\n                        })\n\n                }\n            });\n\n    }\n      \n      $scope.validate = function(item) {\n          if (!item || !item.name){\n              toastr.error('!');\n              return false;\n          }\n          return true;\n      }\n    \n    $scope.saveCat = function(data, id, index) {\n\n        //validate\n        if (!$scope.validate(data)){\n            return;\n        }\n\n        if (!data._id) { // create\n            $http.post(util.baseApiUrl + 'surveycat', data)\n                .success(function (response) {\n                    if (util.getErrorMessage(response)) {\n                        $scope.cats.pop();\n                        return toastr.error(util.getErrorMessage(response));\n                    };\n\n                    $scope.inserted = response;\n\n                    $scope.cats.push($scope.inserted);\n                    toastr.success('');\n\n                    // remove\n                    $scope.cats.splice($scope.cats.length - 1, 1);\n\n                    data._id = response._id;\n                });\n        }\n        else{ // update\n            $http.patch(util.baseApiUrl + 'surveycat/' + data._id, data)\n                .success(function (response) {\n                    if (util.getErrorMessage(response)) {\n                        $scope.cats.pop();\n                        return toastr.error(util.getErrorMessage(response));\n                    };\n\n                    toastr.success('');\n                });\n        }\n\n        //\n\n    }\n\n      $scope.cancelCat = function() {\n          // remove items without _id\n          if ($scope.cats && $scope.cats.length > 0) {\n              $scope.cats.map(function(cat) {\n                  return !cat._id;\n            });\n          }\n      };\n\n      $scope.getSurveysByCatId = function(id, departmentId){\n          $state.go('survey.survey', {cat: id, department: departmentId});\n      }\n      \n      // ,()\n      var fixedCats = [\n          {\n              name: '',\n              desc: ''\n          },\n          {\n              name: '',\n              desc: ''\n          }];\n\n      $scope.createDefaultCatsByDepartment = function (departmentId) {\n          // check if existed\n          $http.get(util.baseApiUrl + 'surveycats/department/' + departmentId)\n              .success(function(response) {\n                  var surveycats = util.getResponse(response);\n                  if (surveycats && surveycats.length > 0) {\n                      for (var i=0; i<surveycats.length; i++) {\n                          if (surveycats[i] && surveycats[i].fixed) { // found\n                              toastr.warning('');\n                              return;\n                          }\n                      }\n                  }\n\n                  // create\n                  var promises = [], reqBody;\n                  for (var i=0; i<fixedCats.length; i++) {\n                      reqBody = {\n                          department: departmentId,\n                          name: fixedCats[i].name,\n                          desc: fixedCats[i].desc,\n                          fixed: true\n                      };\n                      promises.push(\n                          $http.post(util.baseApiUrl + 'surveycat', reqBody)\n                              .success(function (response) {\n                                  $scope.cats.push(response);\n                              })\n                      );\n                  }\n\n                  $q.all(promises).then(function(values) {\n                     toastr.success('');\n                  });\n\n\n              });\n      }\n  }\n})();\n//var request = require('request');\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.cms.survey.group')\n    .controller('surveyGroupCtrl', surveyGroupCtrl);\n\n  /** @ngInject */\n  function surveyGroupCtrl($scope, $state, $filter, $http, util, toastr) {\n\n\n    $scope.groups = [];\n\n    $scope.getGroups = function() {\n        $scope.myPromise = $http.get(util.baseApiUrl + 'surveygroups', {})\n          .success(function (response) {\n              // check if return null\n              if (response.return && response.return == 'null'){\n                  $scope.groups = [];\n              }\n              else {\n                  $scope.groups = response;\n              }\n\n          })\n          .error(function(error){\n              toastr.error(error.messageFormatted);\n          });\n    }\n\n    $scope.getGroups();\n\n    $scope.addGroup = function() {\n        $scope.inserted = {\n            name: '',\n            desc: '',\n            surveys: [],\n            apply: true\n        };\n\n\n        $scope.groups.push($scope.inserted);\n    }\n\n    $scope.removeGroup = function(id, index) {\n\n        $http.delete(util.baseApiUrl + 'surveygroup/' + id)\n            .success(function (response) {\n                $scope.groups = $filter('filter')($scope.groups, {_id: '!'+id});\n\n                toastr.success('');\n            });\n    }\n      \n      $scope.validate = function(item) {\n          if (!item || !item.name){\n              toastr.error('!');\n              return false;\n          }\n          return true;\n      }\n    \n    $scope.saveGroup = function(data, id, index) {\n\n        //validate\n        if (!$scope.validate(data)){\n            return;\n        }\n\n        if (!data._id) { // create\n            $http.post(util.baseApiUrl + 'surveygroup', data)\n                .success(function (response) {\n                    if (util.getErrorMessage(response)) {\n                        $scope.groups.pop();\n                        return toastr.error(util.getErrorMessage(response));\n                    };\n\n                    $scope.inserted = response;\n\n                    $scope.groups.push($scope.inserted);\n                    toastr.success('');\n\n                    // remove\n                    $scope.groups.splice($scope.groups.length - 1, 1);\n\n                    data._id = response._id;\n                });\n        }\n        else{ // update\n            //angular.extend(data, {_id: id});\n            $http.patch(util.baseApiUrl + 'surveygroup/' + id, data)\n                .success(function (response) {\n                    //console.log(JSON.stringify(response))\n                    if (!response) {\n                        toastr.error(error.messageFormatted);\n                    }\n                    else{\n                        toastr.success('');\n                    }\n                });\n        }\n\n    }\n      \n  }\n})();\n//var request = require('request');\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.survey.survey')\n        .controller('surveyCtrl', surveyCtrl);\n\n    /** @ngInject */\n    function surveyCtrl($scope,$rootScope, $state, $filter, $http, util, toastr, $uibModal) {\n        $scope.search = {};\n\n        // get department name and cat name\n        var init = function () {\n            $http.get(util.baseApiUrl + 'department/' + $state.params.department)\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.department = null;\n                    }\n                    else {\n                        $scope.department = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n\n            $http.get(util.baseApiUrl + 'surveycat/' + $state.params.cat)\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.cat = null;\n                    }\n                    else {\n                        $scope.cat = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        init();\n/*\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n        $scope.showDepartment= function(item) {\n            if(item.department && $scope.departments.length) {\n                var selected = $filter('filter')($scope.departments, {_id: item.department});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.cats = [];\n        $scope.loadCats = function() {\n            $http.get(util.baseApiUrl + 'surveycats', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.cats = [];\n                    }\n                    else {\n                        $scope.cats = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadCats();\n\n        $scope.showCat= function(item) {\n            if(item.cat && $scope.cats.length) {\n                var selected = $filter('filter')($scope.cats, {_id: item.cat});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n*/\n\n        $scope.surveys = [];\n\n        $scope.getSurveys = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'surveys/cat/' + $state.params.cat)\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.surveys = [];\n                    }\n                    else {\n                        $scope.surveys = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getSurveys();\n\n        $scope.showQuestions = function(questions) {\n            var qs = '';\n            if (questions && questions.length > 0) {\n                for (var i=0; i<questions.length; i++){\n                    qs += questions[i].order + '. ' + questions[i].question + '\\n';\n                }\n            }\n            return qs;\n        }\n\n        $scope.addSurvey = function() {\n            $scope.inserted = {\n                name: '',\n                department: $state.params.department,\n                cat: $state.params.cat,\n                //desc: '',\n                surveys: [],\n                apply: true\n            };\n\n\n            $scope.surveys.push($scope.inserted);\n        }\n\n        $scope.removeSurvey = function(id, index) {\n\n            $http.delete(util.baseApiUrl + 'survey/' + id)\n                .success(function (response) {\n                    $scope.surveys = $filter('filter')($scope.surveys, {_id: '!'+id});\n\n                    toastr.success('');\n                });\n        }\n\n        $scope.validate = function(item) {\n            if (!item || !item.name){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveSurvey = function(data, id, index) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'survey', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.surveys.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.surveys.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.surveys.splice($scope.surveys.length - 1, 1);\n\n                        data._id = response._id;\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'survey/' + id, data)\n                    .success(function (response) {\n                        //console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error(error.messageFormatted);\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n        };\n\n        //todo: not working!!!\n        $scope.cancelSurvey = function() {\n            if ($scope.surveys && $scope.surveys.length > 0) {\n                $scope.surveys.map(function(survey) {\n                    return (survey._id !== undefined);\n                });\n            }\n        };\n\n        $scope.open = function (page, size, item, index) {\n            $scope.editItem = item; // pass item into the edit page\n            $scope.editIndex = index;\n            $uibModal.open({\n                animation: true,\n                templateUrl: page,\n                controller: 'surveyEditCtrl',\n                size: size,\n                scope: $scope\n                // resolve: {\n                //     item: function () {\n                //         return item;\n                //     }\n                // }\n            });\n        };\n        \n        $scope.updateParent = function (updatedItem) {\n            $scope.surveys[$scope.editIndex] = updatedItem;\n        }\n\n        //================================\n\n        $scope.backToCats = function () {\n            $state.go('survey.category', {department: $state.params.department});\n        }\n    }\n})();\n/**\n * Created by harry on 16/6/13.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.survey.survey')\n        .controller('surveyEditCtrl', surveyEditCtrl);\n\n    /** @ngInject */\n    function surveyEditCtrl($scope, $rootScope, $filter, $http, util, toastr) {\n        $scope.questions = angular.copy($scope.editItem.questions || []);\n        $scope.editQ = {options: []};\n        $scope.editStatus = 0; // Status: 0:init; 1: create; 2: edit;\n        $scope.editQIndex = -1;\n\n        // toastr.info(JSON.stringify($scope.data));\n\n\n        $scope.saveQuestion = function(index) {\n\n            //validate\n            if ($scope.editQForm.$invalid)\n                return;\n\n            switch ($scope.editStatus) {\n                case 1: // create\n                    $scope.questions.push(angular.copy($scope.editQ));\n                    break;\n                case 2: // edit\n                    $scope.questions[$scope.editQIndex] = angular.copy($scope.editQ);\n                    break;\n                default:\n                    break;\n            }\n            $scope.editStatus = 0;\n            $scope.editQIndex = -1;\n            //toastr.info(JSON.stringify(item))\n        }\n\n        $scope.saveSurvey = function() {\n\n            var survey = angular.copy($scope.editItem);\n            survey.questions = $scope.questions;\n\n\n            // update\n            $http.patch(util.baseApiUrl + 'survey/' + survey._id, survey)\n                .success(function (response) {\n                    //console.log(JSON.stringify(response))\n                    if (!response ){\n                        toastr.error('')\n                    }\n                    else if (response.return == 'error') {\n                        toastr.error(response.message);\n                    }\n                    else{\n                        toastr.success('');\n                        $scope.editItem = response;\n                        $scope.updateParent($scope.editItem);\n                        $scope.closeMe();\n                    }\n                });\n        }\n        \n        $scope.closeMe = function(){\n            $scope.$dismiss();\n        }\n        \n        $scope.createQuestion = function() {\n            $scope.editStatus = 1;\n            $scope.editQIndex = -1;\n\n            // set default\n            $scope.editQ._id = undefined;\n            $scope.editQ.question = '';\n            $scope.editQ.answer_type = -1;\n            $scope.editQ.apply = true;\n            $scope.editQ.optionNumber = 0;\n            $scope.editQ.order = 0;\n            $scope.editQ.weight = 0;\n            $scope.editQ.required = false;\n        }\n\n        $scope.editQuestion = function(question, index) {\n            $scope.editStatus = 2;\n            $scope.editQIndex = index;\n\n            // load question to edit area\n            $scope.editQ = angular.copy(question);\n            $scope.editQ.answer_type = $scope.editQ.answer_type.toString(); // for select display\n            $scope.changeEditAnswerType();\n        }\n\n        $scope.removeQuestion = function(index) {\n            $scope.questions.splice(index, 1);\n        }\n\n        $scope.changeEditAnswerType = function() {\n            switch($scope.editQ.answer_type) {\n                case '0':\n                    $scope.editQ.optionNumber = 2;\n                    break;\n                case '1':\n                case '2':\n                    if (!$scope.editQ.optionNumber || $scope.editQ.optionNumber < 3)\n                        $scope.editQ.optionNumber = 3;\n                    break;\n                case '3':\n                    $scope.editQ.optionNumber = 1;\n                    break;\n                default:\n                    $scope.editQ.optionNumber = 0;\n                    break;\n            }\n            $scope.changeEditOptionNumber();\n        }\n\n        $scope.changeEditOptionNumber = function() {\n            var diff = $scope.editQ.optionNumber - $scope.editQ.options.length;\n            if (diff > 0) {\n                if ($scope.editQ.answer_type == 0){ // ,\n                    $scope.editQ.options.push({\n                        answer: '',\n                        addition_text: false,\n                        weight: 0\n                    });\n                    $scope.editQ.options.push({\n                        answer: '',\n                        addition_text: false,\n                        weight: 0\n                    });\n                }\n                else {\n                    for (var i=0; i<diff; i++) {\n                        $scope.editQ.options.push({\n                            answer: '',\n                            addition_text: false,\n                            weight: 0\n                        });\n                    }\n                }\n\n            }\n            else if (diff < 0) {\n                for (var i=0; i<(0-diff); i++) {\n                    $scope.editQ.options.pop();\n                }\n            }\n        }\n    }\n})();\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Includes basic panel layout inside of current element.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel(baPanel, baConfig) {\n    return angular.extend({}, baPanel, {\n      template: function(el, attrs) {\n        var res = '<div  class=\"panel ' + (baConfig.theme.blur ? 'panel-blur' : '') + ' full-invisible ' + (attrs.baPanelClass || '');\n        res += '\" zoom-in ' + (baConfig.theme.blur ? 'ba-panel-blur' : '') + '>';\n        res += baPanel.template(el, attrs);\n        res += '</div>';\n        return res;\n      }\n    });\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .factory('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel() {\n\n    /** Base baPanel directive */\n    return {\n      restrict: 'A',\n      transclude: true,\n      template: function(elem, attrs) {\n        var res = '<div class=\"panel-body\" ng-transclude></div>';\n        if (attrs.baPanelTitle) {\n          var titleTpl = '<div class=\"panel-heading clearfix\"><h3 class=\"panel-title\">' + attrs.baPanelTitle + '</h3></div>';\n          res = titleTpl + res; // title should be before\n        }\n\n        return res;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelBlur', baPanelBlur);\n\n  /** @ngInject */\n  function baPanelBlur(baPanelBlurHelper, $window, $rootScope) {\n    var bodyBgSize;\n\n    baPanelBlurHelper.bodyBgLoad().then(function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    $window.addEventListener('resize', function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    return {\n      restrict: 'A',\n      link: function($scope, elem) {\n        if(!$rootScope.$isMobile) {\n          baPanelBlurHelper.bodyBgLoad().then(function () {\n            setTimeout(recalculatePanelStyle);\n          });\n          $window.addEventListener('resize', recalculatePanelStyle);\n\n          $scope.$on('$destroy', function () {\n            $window.removeEventListener('resize', recalculatePanelStyle);\n          });\n        }\n\n        function recalculatePanelStyle() {\n          if (!bodyBgSize) {\n            return;\n          }\n          elem.css({\n            backgroundSize: Math.round(bodyBgSize.width) + 'px ' + Math.round(bodyBgSize.height) + 'px',\n            backgroundPosition: Math.floor(bodyBgSize.positionX) + 'px ' + Math.floor(bodyBgSize.positionY) + 'px'\n          });\n        }\n\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baPanelBlurHelper', baPanelBlurHelper);\n\n  /** @ngInject */\n  function baPanelBlurHelper($q) {\n    var res = $q.defer();\n    var computedStyle = getComputedStyle(document.body, ':before');\n    var image = new Image();\n    image.src = computedStyle.backgroundImage.replace(/url\\((['\"])?(.*?)\\1\\)/gi, '$2');\n    image.onerror = function() {\n      res.reject();\n    };\n    image.onload = function() {\n      res.resolve();\n    };\n\n    this.bodyBgLoad = function() {\n      return res.promise;\n    };\n\n    this.getBodyBgImageSizes = function() {\n      var elemW = document.documentElement.clientWidth;\n      var elemH = document.documentElement.clientHeight;\n      if(elemW <= 640) return;\n      var imgRatio = (image.height / image.width);       // original img ratio\n      var containerRatio = (elemH / elemW);     // container ratio\n\n      var finalHeight, finalWidth;\n      if (containerRatio > imgRatio) {\n        finalHeight = elemH;\n        finalWidth = (elemH / imgRatio);\n      } else {\n        finalWidth = elemW;\n        finalHeight = (elemW * imgRatio);\n      }\n      return { width: finalWidth, height: finalHeight, positionX: (elemW - finalWidth)/2, positionY: (elemH - finalHeight)/2};\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Represents current element as panel, adding all necessary classes.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelSelf', baPanelSelf);\n\n  /** @ngInject */\n  function baPanelSelf(baPanel) {\n    return angular.extend({}, baPanel, {\n      link: function(scope, el, attrs) {\n        el.addClass('panel panel-white');\n        if (attrs.baPanelClass) {\n          el.addClass(attrs.baPanelClass);\n        }\n      }\n    });\n  }\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('BaSidebarCtrl', BaSidebarCtrl);\n\n  /** @ngInject */\n  function BaSidebarCtrl($scope, baSidebarService) {\n    //$scope.user = JSON.parse($window.sessionStorage.user);\n    //toastr.info($scope.user.role)\n\n    $scope.menuItems = baSidebarService.getMenuItems();\n    $scope.defaultSidebarState = $scope.menuItems[0].stateRef;\n\n    $scope.hoverItem = function ($event) {\n      $scope.showHoverElem = true;\n      $scope.hoverElemHeight =  $event.currentTarget.clientHeight;\n      var menuTopValue = 66;\n      $scope.hoverElemTop = $event.currentTarget.getBoundingClientRect().top - menuTopValue;\n    };\n\n    $scope.$on('$stateChangeSuccess', function () {\n      if (baSidebarService.canSidebarBeHidden()) {\n        baSidebarService.setMenuCollapsed(true);\n      }\n    });\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebar', baSidebar);\n\n  /** @ngInject */\n  function baSidebar($timeout, baSidebarService, baUtil, layoutSizes) {\n    var jqWindow = $(window);\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/baSidebar/ba-sidebar.html',\n      controller: 'BaSidebarCtrl',\n      link: function(scope, el) {\n\n        scope.menuHeight = el[0].childNodes[0].clientHeight - 84;\n        jqWindow.on('click', _onWindowClick);\n        jqWindow.on('resize', _onWindowResize);\n\n        scope.$on('$destroy', function() {\n          jqWindow.off('click', _onWindowClick);\n          jqWindow.off('resize', _onWindowResize);\n        });\n\n        function _onWindowClick($evt) {\n          if (!baUtil.isDescendant(el[0], $evt.target) &&\n              !$evt.originalEvent.$sidebarEventProcessed &&\n              !baSidebarService.isMenuCollapsed() &&\n              baSidebarService.canSidebarBeHidden()) {\n            $evt.originalEvent.$sidebarEventProcessed = true;\n            $timeout(function () {\n              baSidebarService.setMenuCollapsed(true);\n            }, 10);\n          }\n        }\n\n        // watch window resize to change menu collapsed state if needed\n        function _onWindowResize() {\n          var newMenuCollapsed = baSidebarService.shouldMenuBeCollapsed();\n          var newMenuHeight = _calculateMenuHeight();\n          if (newMenuCollapsed != baSidebarService.isMenuCollapsed() || scope.menuHeight != newMenuHeight) {\n            scope.$apply(function () {\n              scope.menuHeight = newMenuHeight;\n              baSidebarService.setMenuCollapsed(newMenuCollapsed)\n            });\n          }\n        }\n\n        function _calculateMenuHeight() {\n          return el[0].childNodes[0].clientHeight - 84;\n        }\n      }\n    };\n  }\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .provider('baSidebarService', baSidebarServiceProvider);\n\n  /** @ngInject */\n  function baSidebarServiceProvider() {\n    var staticMenuItems = [];\n\n    this.addStaticItem = function() {\n      staticMenuItems.push.apply(staticMenuItems, arguments);\n    };\n\n    /** @ngInject */\n    this.$get = function($state, layoutSizes) {\n      return new _factory();\n\n      function _factory() {\n        var isMenuCollapsed = shouldMenuBeCollapsed();\n\n        this.getMenuItems = function() {\n          var states = defineMenuItemStates();\n          var menuItems = states.filter(function(item) {\n            return item.level == 0;\n          });\n\n          menuItems.forEach(function(item) {\n            var children = states.filter(function(child) {\n              return child.level == 1 && child.name.indexOf(item.name) === 0;\n            });\n            item.subMenu = children.length ? children : null;\n          });\n\n          return menuItems.concat(staticMenuItems);\n        };\n\n        this.shouldMenuBeCollapsed = shouldMenuBeCollapsed;\n        this.canSidebarBeHidden = canSidebarBeHidden;\n\n        this.setMenuCollapsed = function(isCollapsed) {\n          isMenuCollapsed = isCollapsed;\n        };\n\n        this.isMenuCollapsed = function() {\n          return isMenuCollapsed;\n        };\n\n        this.toggleMenuCollapsed = function() {\n          isMenuCollapsed = !isMenuCollapsed;\n        };\n\n        this.getAllStateRefsRecursive = function(item) {\n          var result = [];\n          _iterateSubItems(item);\n          return result;\n\n          function _iterateSubItems(currentItem) {\n            currentItem.subMenu && currentItem.subMenu.forEach(function(subItem) {\n              subItem.stateRef && result.push(subItem.stateRef);\n              _iterateSubItems(subItem);\n            });\n          }\n        };\n\n        function defineMenuItemStates() {\n          return $state.get()\n              .filter(function(s) {\n                return s.sidebarMeta;\n              })\n              .map(function(s) {\n                var meta = s.sidebarMeta;\n                return {\n                  name: s.name,\n                  title: s.title,\n                  level: (s.name.match(/\\./g) || []).length,\n                  order: meta.order,\n                  icon: meta.icon,\n                  stateRef: s.name,\n                  minRole: s.minRole,\n                };\n              })\n              .sort(function(a, b) {\n                return (a.level - b.level) * 100 + a.order - b.order;\n              });\n        }\n\n        function shouldMenuBeCollapsed() {\n          return window.innerWidth <= layoutSizes.resWidthCollapseSidebar;\n        }\n\n        function canSidebarBeHidden() {\n          return window.innerWidth <= layoutSizes.resWidthHideSidebar;\n        }\n      }\n\n    };\n\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebarToggleMenu', baSidebarToggleMenu)\n      .directive('baSidebarCollapseMenu', baSidebarCollapseMenu)\n      .directive('baSidebarTogglingItem', baSidebarTogglingItem)\n      .controller('BaSidebarTogglingItemCtrl', BaSidebarTogglingItemCtrl)\n      .directive('baUiSrefTogglingSubmenu', baUiSrefTogglingSubmenu)\n      .directive('baUiSrefToggler', baUiSrefToggler);\n\n  /** @ngInject */\n  function baSidebarToggleMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          scope.$apply(function() {\n            baSidebarService.toggleMenuCollapsed();\n          });\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarCollapseMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          if (!baSidebarService.isMenuCollapsed()) {\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(true);\n            });\n          }\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarTogglingItem() {\n    return {\n      restrict: 'A',\n      controller: 'BaSidebarTogglingItemCtrl'\n    };\n  }\n\n  /** @ngInject */\n  function BaSidebarTogglingItemCtrl($scope, $element, $attrs, $state, baSidebarService) {\n    var vm = this;\n    var menuItem = vm.$$menuItem = $scope.$eval($attrs.baSidebarTogglingItem);\n    if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {\n      vm.$$expandSubmenu = function() { console.warn('$$expandMenu should be overwritten by baUiSrefTogglingSubmenu') };\n      vm.$$collapseSubmenu = function() { console.warn('$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu') };\n\n      var subItemsStateRefs = baSidebarService.getAllStateRefsRecursive(menuItem);\n\n      vm.$expand = function() {\n        vm.$$expandSubmenu();\n        $element.addClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$collapse = function() {\n        vm.$$collapseSubmenu();\n        $element.removeClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$toggle = function() {\n        $element.hasClass('ba-sidebar-item-expanded') ?\n            vm.$collapse() :\n            vm.$expand();\n      };\n\n      if (_isState($state.current)) {\n        $element.addClass('ba-sidebar-item-expanded');\n      }\n\n      $scope.$on('$stateChangeStart', function (event, toState) {\n        if (!_isState(toState) && $element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$collapse();\n          $element.removeClass('ba-sidebar-item-expanded');\n        }\n      });\n\n      $scope.$on('$stateChangeSuccess', function (event, toState) {\n        if (_isState(toState) && !$element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$expand();\n          $element.addClass('ba-sidebar-item-expanded');\n        }\n      });\n    }\n\n    function _isState(state) {\n      return state && subItemsStateRefs.some(function(subItemState) {\n            return state.name.indexOf(subItemState) == 0;\n          });\n    }\n  }\n\n  /** @ngInject */\n  function baUiSrefTogglingSubmenu($state) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        baSidebarTogglingItem.$$expandSubmenu = function() { el.slideDown(); };\n        baSidebarTogglingItem.$$collapseSubmenu = function() { el.slideUp(); };\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baUiSrefToggler(baSidebarService) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        el.on('click', function() {\n          if (baSidebarService.isMenuCollapsed()) {\n            // If the whole sidebar is collapsed and this item has submenu. We need to open sidebar.\n            // This should not affect mobiles, because on mobiles sidebar should be hidden at all\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(false);\n            });\n            baSidebarTogglingItem.$expand();\n          } else {\n            baSidebarTogglingItem.$toggle();\n          }\n        });\n      }\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizard', baWizard);\n\n  /** @ngInject */\n  function baWizard() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      templateUrl: 'app/theme/components/baWizard/baWizard.html',\n      controllerAs: '$baWizardController',\n      controller: 'baWizardCtrl'\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('baWizardCtrl', baWizardCtrl);\n\n  /** @ngInject */\n  function baWizardCtrl($scope) {\n    var vm = this;\n    vm.tabs = [];\n\n    vm.tabNum = 0;\n    vm.progress = 0;\n\n    vm.addTab = function(tab) {\n      tab.setPrev(vm.tabs[vm.tabs.length - 1]);\n      vm.tabs.push(tab);\n      vm.selectTab(0);\n    };\n\n    $scope.$watch(angular.bind(vm, function () {return vm.tabNum;}), calcProgress);\n\n    vm.selectTab = function (tabNum) {\n      vm.tabs[vm.tabNum].submit();\n      if (vm.tabs[tabNum].isAvailiable()) {\n        vm.tabNum = tabNum;\n        vm.tabs.forEach(function (t, tIndex) {\n          tIndex == vm.tabNum ? t.select(true) : t.select(false);\n        });\n      }\n    };\n\n    vm.isFirstTab = function () {\n      return vm.tabNum == 0;\n    };\n\n    vm.isLastTab = function () {\n      return vm.tabNum == vm.tabs.length - 1 ;\n    };\n\n    vm.nextTab = function () {\n      vm.selectTab(vm.tabNum + 1)\n    };\n\n    vm.previousTab = function () {\n      vm.selectTab(vm.tabNum - 1)\n    };\n\n    function calcProgress() {\n      vm.progress = ((vm.tabNum + 1) / vm.tabs.length) * 100;\n    }\n  }\n})();\n\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizardStep', baWizardStep);\n\n  /** @ngInject */\n  function baWizardStep() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      require: '^baWizard',\n      scope: {\n        form: '='\n      },\n      templateUrl:  'app/theme/components/baWizard/baWizardStep.html',\n      link: function($scope, $element, $attrs, wizard) {\n        $scope.selected = true;\n\n        var tab = {\n          title: $attrs.title,\n          select: select,\n          submit: submit,\n          isComplete: isComplete,\n          isAvailiable: isAvailiable,\n          prevTab: undefined,\n          setPrev: setPrev\n        };\n\n        wizard.addTab(tab);\n\n        function select(isSelected) {\n          if (isSelected) {\n            $scope.selected = true;\n          } else {\n            $scope.selected = false;\n          }\n        }\n\n        function submit() {\n          $scope.form && $scope.form.$setSubmitted(true);\n        }\n\n        function isComplete() {\n          return $scope.form ? $scope.form.$valid : true;\n        }\n\n        function isAvailiable() {\n          return tab.prevTab ? tab.prevTab.isComplete() : true;\n        }\n\n        function setPrev(pTab) {\n          tab.prevTab = pTab;\n        }\n      }\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('backTop', backTop);\n\n  /** @ngInject */\n  function backTop() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/backTop/backTop.html',\n      controller: function () {\n        $('#backTop').backTop({\n          'position': 200,\n          'speed': 100\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('contentTop', contentTop);\n\n  /** @ngInject */\n  function contentTop($location, $state) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/contentTop/contentTop.html',\n      link: function($scope) {\n        $scope.$watch(function () {\n          $scope.activePageTitle = $state.current.title;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .controller('MsgCenterCtrl', MsgCenterCtrl);\n\n  /** @ngInject */\n  function MsgCenterCtrl($scope, $sce) {\n    $scope.users = {\n      0: {\n        name: 'Vlad',\n      },\n      1: {\n        name: 'Kostya',\n      },\n      2: {\n        name: 'Andrey',\n      },\n      3: {\n        name: 'Nasta',\n      }\n    };\n\n    $scope.notifications = [\n      {\n        userId: 0,\n        template: '&name posted a new article.',\n        time: '1 min ago'\n      },\n      {\n        userId: 1,\n        template: '&name changed his contact information.',\n        time: '2 hrs ago'\n      },\n      {\n        image: 'assets/img/shopping-cart.svg',\n        template: 'New orders received.',\n        time: '5 hrs ago'\n      },\n      {\n        userId: 2,\n        template: '&name replied to your comment.',\n        time: '1 day ago'\n      },\n      {\n        userId: 1,\n        template: '&name invited you to join the event.',\n        time: '1 week ago'\n      }\n    ];\n\n    $scope.messages = [\n      {\n        userId: 3,\n        text: 'After you get up and running, you can place Font Awesome icons just about...',\n        time: '1 min ago'\n      },\n      {\n        userId: 0,\n        text: 'You asked, Font Awesome delivers with 40 shiny new icons in version 4.2.',\n        time: '2 hrs ago'\n      },\n      {\n        userId: 1,\n        text: 'Want to request new icons? Here\\'s how. Need vectors or want to use on the...',\n        time: '10 hrs ago'\n      },\n      {\n        userId: 2,\n        text: 'Explore your passions and discover new ones by getting involved. Stretch your...',\n        time: '1 day ago'\n      },\n      {\n        userId: 3,\n        text: 'Get to know who we are - from the inside out. From our history and culture, to the...',\n        time: '1 day ago'\n      },\n      \n    ];\n\n    $scope.getMessage = function(msg) {\n      var text = msg.template;\n      if (msg.userId || msg.userId === 0) {\n        text = text.replace('&name', '<strong>' + $scope.users[msg.userId].name + '</strong>');\n      }\n      return $sce.trustAsHtml(text);\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('msgCenter', msgCenter);\n\n  /** @ngInject */\n  function msgCenter() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/msgCenter/msgCenter.html',\n      controller: 'MsgCenterCtrl'\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('pageTop', pageTop);\n\n  /** @ngInject */\n  function pageTop() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/pageTop/pageTop.html',\n      controller: 'pageTopCtrl'\n    };\n  }\n\n})();\n/**\n * Created by harry on 16/6/12.\n */\n\n(function() {\n    'use strict';\n\n    angular.module('BlurAdmin.theme.components')\n        .controller('pageTopCtrl', pageTopCtrl);\n\n    /** @ngInject */\n    function pageTopCtrl($scope, $window, toastr) {\n\n        // check if access is allowed\n        //var user = JSON.parse($window.sessionStorage.user)\n        if (!$window.sessionStorage.user) {\n            $window.sessionStorage.currentUrl = $window.location.href;\n            $window.location.href = '/auth.html';\n            return;\n        }\n\n\n        var user = JSON.parse($window.sessionStorage.user);\n        //toastr.success(JSON.stringify(user));\n        $scope.user_id = user._id;\n        $scope.userName = user.name;\n        $scope.icon = 'Ninja';\n        $scope.role = user.role;\n        if (user.role == 1)\n            $scope.icon = 'Burglar';\n        else if (user.role == 2)\n            $scope.icon = 'Alien';\n\n        $scope.logout = function () {\n            $window.sessionStorage.clear();\n            $window.sessionStorage.currentUrl = $window.location.href;\n            $window.location.href = '/auth.html';\n        };\n    }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('widgets', widgets);\n\n  /** @ngInject */\n  function widgets() {\n    return {\n      restrict: 'EA',\n      scope: {\n        ngModel: '='\n      },\n      templateUrl: 'app/theme/components/widgets/widgets.html',\n      replace: true\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('appImage', appImage);\n\n  /** @ngInject */\n  function appImage(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + input;\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('kameleonImg', kameleonImg);\n\n  /** @ngInject */\n  function kameleonImg(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + 'theme/icon/kameleon/' + input + '.svg';\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('profilePicture', profilePicture);\n\n  /** @ngInject */\n  function profilePicture(layoutPaths) {\n    return function(input, ext) {\n      ext = ext || 'png';\n      return layoutPaths.images.profile + input + '.' + ext;\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .filter('plainText', plainText);\n\n  /** @ngInject */\n  function plainText() {\n    return function(text) {\n      return  text ? String(text).replace(/<[^>]+>/gm, '') : '';\n    };\n  }\n\n})();\n\n/**\n * Created by harry on 16/6/13.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.doctor.doctor')\n        .controller('doctorCtrl', doctorCtrl);\n\n    /** @ngInject */\n    function doctorCtrl($scope, $state, $filter, $http, util, toastr, $uibModal) {\n        $scope.search = {};\n\n        $scope.departments = [];\n        $scope.loadDepartments = function() {\n            $http.get(util.baseApiUrl + 'departments', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.departments = [];\n                    }\n                    else {\n                        $scope.departments = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n        $scope.loadDepartments();\n        \n        $scope.showDepartment = function(item) {\n            if(item.department && $scope.departments.length) {\n                var selected = $filter('filter')($scope.departments, {_id: item.department});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n        \n        $scope.roles = [\n            {name: \"\", value: 0},\n            {name: \"\", value: 1},\n            {name: \"\", value: 2}\n        ];\n\n        $scope.showRole = function(item) {\n            if((item.role || item.role === 0) && $scope.roles.length) {\n                var selected = $filter('filter')($scope.roles, {value: item.role});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n        $scope.doctors = [];\n        $scope.getDoctors = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'doctors/1000/all', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.doctors = [];\n                    }\n                    else {\n                        $scope.doctors = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getDoctors();\n\n        //=====================================\n\n\n        $scope.addDoctor = function() {\n            $scope.search.user_id = undefined;\n\n            $scope.inserted = {\n                department: $scope.search.department || null,\n                user_id: $scope.search.user_id || '',\n                name: '',\n                role: 0,\n                title: '',\n                order: 0,\n                apply: true\n            };\n\n\n            $scope.doctors.push($scope.inserted);\n        }\n\n        $scope.removeDoctor = function(id, user_id) {\n\n            $http.get(util.baseApiUrl + 'relationships/doctor/' + id)\n                .success(function(response) {\n\n                    //toastr.info(JSON.stringify(response));\n                    var item = util.getResponse(response);\n                    if (item && item.length > 0) {\n                        toastr.error(',');\n                    }\n                    else {\n                        $http.delete(util.baseApiUrl + 'doctor/' + user_id)\n                            .success(function (response) {\n                                $scope.doctors = $filter('filter')($scope.doctors, {_id: '!'+id});\n\n                                toastr.success('');\n                            })\n\n                    }\n                })\n                .error(function(err){\n                    toastr.error(err.messageFormatted)\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item){\n                return false;\n            }\n            if (!item.user_id){\n                toastr.error('USER ID !');\n                return false;\n            }\n            if (!item.name){\n                toastr.error('!');\n                return false;\n            }\n            if (!item.department){\n                toastr.error('!');\n                return false;\n            }\n            return true;\n        }\n\n        $scope.saveDoctor = function(data) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                data.cell = '0000';\n                data.password = data.user_id;\n                $http.post(util.baseApiUrl + 'doctor/' + data.user_id, data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.doctors.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.doctors.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.doctors.splice($scope.doctors.length - 1, 1);\n                        data._id = response._id;\n                        //$scope.$apply();\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'doctor/' + data.user_id, data)\n                    .success(function (response) {\n                        console.log(JSON.stringify(response))\n                        if (!response) {\n                            toastr.error('no data');\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n            //$scope.inserted = null;\n\n        }\n\n        $scope.goDoctorProfile = function (id) {\n            $state.go('profile', {doctor: id});\n        };\n\n        $scope.goDoctorGroup = function (id) {\n            $state.go('doctor.group', {doctor: id});\n        };\n\n    }\n})();\n/**\n * Created by harry on 16/6/16.\n */\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.cms.crm.doctor.group')\n        .controller('groupCtrl', groupCtrl);\n\n    /** @ngInject */\n    function groupCtrl($scope, $state, $filter, $http, util, toastr, $uibModal) {\n        $scope.search = {};\n\n        $scope.doctors = [];\n        $scope.getDoctors = function() {\n            $http.get(util.baseApiUrl + 'doctors/1000', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.doctors = [];\n                    }\n                    else {\n                        $scope.doctors = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getDoctors();\n\n        $scope.showDoctor = function(item) {\n            if(item.doctor && $scope.doctors.length) {\n                var selected = $filter('filter')($scope.doctors, {_id: item.doctor});\n                return selected.length ? selected[0].name : '';\n            } else {\n                return '';\n            }\n        };\n\n\n        $scope.groups = [];\n        $scope.getGroups = function() {\n            $scope.myPromise = $http.get(util.baseApiUrl + 'groups', {})\n                .success(function (response) {\n                    // check if return null\n                    if (response.return && response.return == 'null'){\n                        $scope.groups = [];\n                    }\n                    else {\n                        $scope.groups = response;\n                    }\n\n                })\n                .error(function(error){\n                    toastr.error(error.messageFormatted);\n                });\n        }\n\n        $scope.getGroups();\n\n        $scope.$on('$viewContentLoaded', function(){\n            //Here your view content is fully loaded !!\n            if ($state.params.doctor) {\n                // toastr.info($state.params.doctor);\n\n                $scope.search.doctor = $state.params.doctor;\n            }\n        });\n\n        //==========================================================\n\n        $scope.addGroup = function() {\n            $scope.inserted = {\n                doctor: $scope.search.doctor || null,\n                name: '',\n                apply: true\n            };\n\n\n            $scope.groups.push($scope.inserted);\n        }\n\n        $scope.removeGroup = function(id) {\n            \n            $http.delete(util.baseApiUrl + 'group/' + id)\n                .success(function (response) {\n                    $scope.groups = $filter('filter')($scope.groups, {_id: '!'+id});\n\n                    toastr.success('');\n                })\n\n                .error(function(err){\n                    toastr.error(err.messageFormatted)\n                });\n\n        }\n\n        $scope.validate = function(item) {\n            if (!item){\n                return false;\n            }\n            if (!item.doctor){\n                toastr.error('doctor !');\n                return false;\n            }\n            if (!item.name){\n                toastr.error('!');\n                return false;\n            }\n\n            return true;\n        }\n\n        $scope.saveGroup = function(data) {\n\n            //validate\n            if (!$scope.validate(data)){\n                return;\n            }\n\n            if (!data._id) { // create\n                $http.post(util.baseApiUrl + 'group', data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            $scope.groups.pop();\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        $scope.inserted = response;\n\n                        $scope.groups.push($scope.inserted);\n                        toastr.success('');\n\n                        // remove\n                        $scope.groups.splice($scope.groups.length - 1, 1);\n\n                    });\n            }\n            else{ // update\n                //angular.extend(data, {_id: id});\n                $http.patch(util.baseApiUrl + 'group/' + data._id, data)\n                    .success(function (response) {\n                        if (util.getErrorMessage(response)) {\n                            return toastr.error(util.getErrorMessage(response));\n                        };\n\n                        if (!response) {\n                            toastr.error('no data');\n                        }\n                        else{\n                            toastr.success('');\n                        }\n                    });\n            }\n\n            //$scope.inserted = null;\n\n        }\n\n\n        // goto \n        $scope.goGroupRelationship = function(group) { // group id\n            $state.go('crm.relationship', {group: group._id, doctor: group.doctor});\n        }\n    }\n})();\n/* Minified js for jQuery BackTop */\n!function(o){o.fn.backTop=function(e){var n=this,i=o.extend({position:400,speed:500,color:\"white\"},e),t=i.position,c=i.speed,d=i.color;n.addClass(\"white\"==d?\"white\":\"red\"==d?\"red\":\"green\"==d?\"green\":\"black\"),n.css({right:40,bottom:40,position:\"fixed\"}),o(document).scroll(function(){var e=o(window).scrollTop();e>=t?n.fadeIn(c):n.fadeOut(c)}),n.click(function(){o(\"html, body\").animate({scrollTop:0},{duration:1200})})}}(jQuery);\nangular.module(\"BlurAdmin\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/loading.html\",\"<html><head></head><body><div style=\\\"background-image:url(\\'/assets/img/finalfantasy.gif\\');background-position:50% 20px;background-repeat:no-repeat\\\"><div style=\\\"text-align:center;font-size:26px;position:absolute;top:100px;width:100%;text-shadow:1px 1px 2px white, -1px -1px 2px white,-4px 4px 4px white,-4px 4px 4px white\\\">{{$message}}</div></div></body></html>\");\n$templateCache.put(\"app/cms/profile/profile.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"profile-page\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"panel-content\\\"><h3 class=\\\"with-line\\\"></h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><div flow-init=\\\"{singleFile:true}\\\" flow-file-added=\\\"!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]\\\" class=\\\"userpic ng-scope\\\"><div class=\\\"userpic-wrapper\\\"><img flow-img=\\\"$flow.files[0]\\\"></div><i class=\\\"ion-ios-close-outline\\\" ng-click=\\\"$flow.cancel()\\\" ng-if=\\\"!noPicture\\\"></i> <span class=\\\"change-userpic\\\" ng-show=\\\"!$flow.files.length\\\" flow-btn=\\\"\\\"><input type=\\\"file\\\" style=\\\"visibility: hidden; position: absolute;\\\"></span> <span class=\\\"change-userpic ng-hide\\\" ng-show=\\\"$flow.files.length\\\" flow-btn=\\\"\\\"><input type=\\\"file\\\" style=\\\"visibility: hidden; position: absolute;\\\"></span></div><p> PNG,GIF,JPG,JEPG .</p></div></div></div><div class=\\\"col-md-6\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label> <label class=\\\"col-sm-9 control-label\\\">{{doctor.user_id}}</label></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputName\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"\\\" ng-model=\\\"doctor.name\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><label class=\\\"radio-inline custom-radio nowrap\\\"><input type=\\\"radio\\\" ng-model=\\\"doctor.gender\\\" value=\\\"M\\\"> <span></span></label> <label class=\\\"radio-inline custom-radio nowrap\\\"><input type=\\\"radio\\\" ng-model=\\\"doctor.gender\\\" value=\\\"F\\\"> <span></span></label></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><select class=\\\"form-control\\\" ng-model=\\\"doctor.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputTitle\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputTitle\\\" placeholder=\\\"\\\" ng-model=\\\"doctor.title\\\"></div></div></div></div><h3 class=\\\"with-line\\\"></h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputPassword\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"inputPassword\\\" placeholder=\\\"\\\" ng-model=\\\"doctor.password\\\"></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputConfirmPassword\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"inputConfirmPassword\\\" placeholder=\\\"\\\" ng-model=\\\"doctor.confirmPassword\\\"></div></div></div></div><h3 class=\\\"with-line\\\"></h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputCell\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"tel\\\" class=\\\"form-control\\\" id=\\\"inputCell\\\" placeholder=\\\"\\\" ng-model=\\\"doctor.cell\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputPhone\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"tel\\\" class=\\\"form-control\\\" id=\\\"inputPhone\\\" placeholder=\\\"\\\" ng-model=\\\"doctor.tel\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputEmail3\\\" class=\\\"col-sm-3 control-label\\\">Email</label><div class=\\\"col-sm-9\\\"><input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"inputEmail3\\\" placeholder=\\\"@test.com\\\" value=\\\"\\\"></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputAddress\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputAddress\\\" placeholder=\\\"\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputRoom\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputRoom\\\" placeholder=\\\"\\\"></div></div></div></div><h3 class=\\\"with-line\\\"></h3><div class=\\\"row clearfix\\\"><blockquote><textarea placeholder=\\\"\\\" class=\\\"form-control\\\" ng-model=\\\"doctor.hours\\\"></textarea></blockquote></div><h3 class=\\\"with-line\\\"></h3><div class=\\\"row clearfix\\\"><blockquote><textarea placeholder=\\\"\\\" class=\\\"form-control\\\" ng-model=\\\"doctor.expertise\\\"></textarea></blockquote></div><h3 class=\\\"with-line\\\"></h3><div class=\\\"row clearfix\\\"><blockquote><textarea placeholder=\\\"\\\" class=\\\"form-control\\\" ng-model=\\\"doctor.bulletin\\\"></textarea></blockquote></div><h3 class=\\\"with-line\\\"></h3><div class=\\\"row clearfix\\\"><blockquote><textarea placeholder=\\\"\\\" class=\\\"form-control\\\" ng-model=\\\"doctor.honor\\\"></textarea></blockquote></div><button type=\\\"button\\\" class=\\\"btn btn-primary btn-with-icon save-profile\\\" ng-click=\\\"update()\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i></button></div></div>\");\n$templateCache.put(\"app/cms/profile/profileModal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">Add Account</h4></div><form name=\\\"linkForm\\\"><div class=\\\"modal-body\\\"><p>Paste a link to your profile into the box below</p><div class=\\\"form-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Link to Profile\\\" ng-model=\\\"link\\\"></div></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"ok(link)\\\">Save changes</button></div></form></div>\");\n$templateCache.put(\"app/cms/shared/deleteConfirm.html\",\"<div class=\\\"modal-content\\\" ng-controller=\\\"deleteConfirmCtrl\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\"><i class=\\\"ion-alert text-warning\\\"></i>&nbsp;&nbsp; </h4></div><div class=\\\"modal-body\\\">?<div class=\\\"modal-footer text-center\\\" style=\\\"padding-top:1em;\\\"><a type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$dismiss()\\\"></a> <a type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"ok();$dismiss()\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i> </a></div></div></div>\");\n$templateCache.put(\"app/cms/system/const.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"add-row-editable-table\\\"><button class=\\\"btn btn-primary\\\" ng-click=\\\"addConst()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:15%\\\"></td><td style=\\\"width:20%\\\"></td><td style=\\\"width:7%\\\"></td><td style=\\\"width:51%\\\"></td><td style=\\\"width:7%\\\"></td></tr><tr ng-repeat=\\\"item in consts\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.type\\\" e-name=\\\"type\\\" e-form=\\\"rowform\\\" e-ng-options=\\\"t.value as t.name for t in types\\\">{{ showType(item) }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.value\\\" e-name=\\\"value\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" ng-if=\\\"item.type==0\\\">{{ item.value || \\'\\' }}</span> <span editable-textarea=\\\"item.value\\\" e-name=\\\"value\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" ng-if=\\\"item.type==1\\\" e-rows=\\\"7\\\" e-cols=\\\"60\\\"><div>{{ showLineBreakString(item.value) }}</div></span> <span editable-checkbox=\\\"item.value\\\" e-name=\\\"value\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" ng-if=\\\"item.type==2\\\">{{ item.value && \\'\\' || \\'\\' }}</span> <span editable-number=\\\"item.value\\\" e-name=\\\"value\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" ng-if=\\\"item.type==3\\\">{{ item.value || 0 }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveConst($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/crm/relationship/relationship.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-2 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.doctor\\\" ng-options=\\\"d._id as d.name for d in doctors\\\"></select></span></div><div class=\\\"col-sm-2 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.group\\\" ng-options=\\\"g._id as g.name for g in groups | filter: search.doctor\\\"></select></span></div><div class=\\\"col-sm-2\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addRelationship()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\" ba-panel-title=\\\"Modals\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:5%\\\"></td><td style=\\\"width:20%\\\"></td></tr><tr ng-repeat=\\\"item in relationships | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.doctor\\\" e-name=\\\"doctor\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in doctors\\\">{{ showDoctor(item) }}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.group\\\" e-name=\\\"group\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"g._id as g.name for g in groups\\\">{{ showGroup(item)}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.user\\\" e-name=\\\"user\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"u._id as u.name for u in users\\\">{{ showUser(item)}}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveRelationship($data)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeRelationship\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"goDoctorGroup(item.doctor)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/crm/user/user.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-2 text-right\\\"><span>by :</span></div><div class=\\\"col-sm-3\\\"><span><input ng-model=\\\"search.name\\\" placeholder=\\\"\\\" class=\\\"input-sm form-control search-input\\\" type=\\\"search\\\"></span></div><div class=\\\"col-sm-1 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><input ng-model=\\\"search.cell\\\" placeholder=\\\"\\\" class=\\\"input-sm form-control search-input\\\" type=\\\"search\\\"></span></div><div class=\\\"col-sm-2\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addUser()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\" ba-panel-title=\\\"Modals\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:15%\\\">ID</td><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:5%\\\"></td><td style=\\\"width:20%\\\"></td></tr><tr ng-repeat=\\\"item in users | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.link_id\\\" e-name=\\\"link_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.link_id || \\'\\' }}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.cell\\\" e-name=\\\"cell\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.cell || \\'\\' }}</span></td><td><span e-name=\\\"created\\\" e-form=\\\"rowform\\\">{{ item.created | date }}</span></td><td><span e-name=\\\"updated\\\" e-form=\\\"rowform\\\">{{ item.updated | date }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveUser($data)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" user-id=\\\"item.user_id\\\" yes-delete=\\\"removeUser\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"open(\\'app/cms/crm/user/userEdit.html\\', \\'lg\\', item)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/crm/user/userEdit.html\",\"<div class=\\\"modal-content\\\" ng-controller=\\\"userEditCtrl\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\"></h4></div><div class=\\\"modal-body\\\"><h3 class=\\\"with-line-no-padding\\\">ID: {{data.link_id}}</h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><div class=\\\"userpic\\\"><div class=\\\"userpic-wrapper\\\"><img ng-src=\\\"{{ data.icon }}\\\" ng-click=\\\"uploadPicture()\\\"></div><i class=\\\"ion-ios-close-outline\\\" ng-click=\\\"removePicture()\\\" ng-if=\\\"!noPicture\\\"></i> <a href=\\\"\\\" class=\\\"change-userpic\\\" ng-click=\\\"uploadPicture()\\\"></a> <input type=\\\"file\\\" ng-show=\\\"false\\\" id=\\\"uploadFile\\\" ng-file-select=\\\"onFileSelect($files)\\\"></div></div></div></div><div class=\\\"col-md-6\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputName\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"\\\" ng-model=\\\"data.name\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><label class=\\\"radio-inline custom-radio nowrap\\\"><input type=\\\"radio\\\" ng-model=\\\"data.gender\\\" value=\\\"M\\\"> <span></span></label> <label class=\\\"radio-inline custom-radio nowrap\\\"><input type=\\\"radio\\\" ng-model=\\\"data.gender\\\" value=\\\"F\\\"> <span></span></label></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputCell\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputCell\\\" placeholder=\\\"\\\" ng-model=\\\"data.cell\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><div class=\\\"input-group date\\\"><input type=\\\"text\\\" class=\\\"form-control ng-pristine ng-valid ng-isolate-scope ng-not-empty ng-valid-datetime ng-touched\\\" datetime-picker=\\\"yyyy-MM-dd\\\" ng-model=\\\"data.birthdate\\\" is-open=\\\"isOpen\\\" enable-time=\\\"false\\\" button-bar=\\\"data.birthdate.buttonBar\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"openCalendar($event)\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></div></div></div></div></div><h3 class=\\\"with-line-no-padding\\\"></h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputsin\\\" class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputSin\\\" placeholder=\\\"\\\" ng-model=\\\"data.sin\\\"></div></div></div><div class=\\\"col-md-6\\\"></div></div></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"closeMe()\\\"></button> <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"saveMe(data)\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i></button></div></div>\");\n$templateCache.put(\"app/cms/hospital/department/department.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"add-row-editable-table\\\"><button class=\\\"btn btn-primary\\\" ng-click=\\\"addDepartment()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:30%\\\"></td><td style=\\\"width:30%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:5%\\\"></td><td style=\\\"width:25%\\\"></td></tr><tr ng-repeat=\\\"item in departments\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-number=\\\"item.order\\\" e-name=\\\"order\\\" e-form=\\\"rowform\\\">{{ item.order || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveDepartment($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeDepartment\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"getDiseasesByDepartmentId(item._id)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/hospital/disease/disease.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-3 text-right\\\"><label>:</label></div><div class=\\\"col-sm-3\\\"><div class=\\\"form-group\\\"><select class=\\\"form-control\\\" ng-model=\\\"search.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></div></div><div class=\\\"col-sm-6\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addDisease()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:20%\\\"></td><td style=\\\"width:25%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:5%\\\"></td><td style=\\\"width:20%\\\"></td></tr><tr ng-repeat=\\\"item in diseases | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-select=\\\"item.department\\\" e-name=\\\"department\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in departments\\\">{{ showDepartment(item)}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-number=\\\"item.order\\\" e-name=\\\"order\\\" e-form=\\\"rowform\\\">{{ item.order || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveDisease($data, item._id)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeDisease\\\"></delete-btn></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/hospital/symptom/symptom.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"()\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div ng-show=\\\"false\\\"><div class=\\\"add-row-editable-table\\\"><button class=\\\"btn btn-primary\\\" ng-click=\\\"addDisease()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:20%\\\"></td><td style=\\\"width:25%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:5%\\\"></td><td style=\\\"width:20%\\\"></td></tr><tr ng-repeat=\\\"item in diseases\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-select=\\\"item.department\\\" e-name=\\\"department\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in departments\\\">{{ showDepartment(item)}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-number=\\\"item.order\\\" e-name=\\\"order\\\" e-form=\\\"rowform\\\">{{ item.order || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveDisease($data, item._id)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary editable-table-button btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeDisease\\\"></delete-btn></div></td></tr></table></div></div>\");\n$templateCache.put(\"app/cms/im/chat/chat.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-3 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.chatroom\\\" ng-options=\\\"chatroom._id as chatroom.name for chatroom in chatrooms\\\"></select></span></div><div class=\\\"col-sm-6\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addChat()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button> &nbsp; <button class=\\\"btn btn-danger pull-right\\\" ng-click=\\\"deleteChatroomContent()\\\"><i class=\\\"ion-ios-trash\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:40%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:5%\\\">read</td><td style=\\\"width:10%\\\"></td></tr><tr ng-repeat=\\\"item in chats | filter: search\\\" class=\\\"editable-row\\\"><td><span style=\\\"display:none\\\">{item._id}}</span> <span editable-select=\\\"item.chatroom\\\" e-name=\\\"chatroom\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"c._id as c.name for c in chatrooms\\\">{{ showChatroom(item)}}</span></td><td><span editable-text=\\\"item.direction\\\" e-name=\\\"direction\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.direction == 1 ? \\'\\' : \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.data\\\" e-name=\\\"data\\\" e-form=\\\"rowform\\\">{{ item.data || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.created\\\" e-name=\\\"created\\\" e-form=\\\"rowform\\\">{{ item.created | date:\\'yyyy-MM-dd HH:mm:ss\\' }}</span></td><td class=\\\"select-td\\\"><span editable-number=\\\"item.read\\\" e-name=\\\"read\\\" e-form=\\\"rowform\\\">{{ item.read || \\'\\' }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveChat($data, item._id)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeChat\\\"></delete-btn></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/im/chatroom/chatroom.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-3 text-right\\\"><span>by  + :</span></div><div class=\\\"col-sm-9\\\"><span><input ng-model=\\\"search.name\\\" placeholder=\\\" + \\\" class=\\\"input-sm form-control search-input\\\" type=\\\"search\\\"></span></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:30%\\\">( + )</td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:20%\\\"></td></tr><tr ng-repeat=\\\"item in chatrooms | filter: search.name\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-number=\\\"item.doctor_unread\\\" e-name=\\\"doctor_unread\\\" e-form=\\\"rowform\\\">{{ item.doctor_unread || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-number=\\\"item.user_unread\\\" e-name=\\\"user_unread\\\" e-form=\\\"rowform\\\">{{ item.user_unread || \\'\\' }}</span></td><td><span e-name=\\\"created\\\" e-form=\\\"rowform\\\">{{ item.created | date }}</span></td><td><span e-name=\\\"updated\\\" e-form=\\\"rowform\\\">{{ item.updated | date }}</span></td><td><button class=\\\"btn btn-danger editable-table-button btn-xs\\\" ng-click=\\\"goChat(item._id)\\\"></button></td></tr></table></div>\");\n$templateCache.put(\"app/cms/reservation/booking/booking.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-2 text-right\\\"><span>:</span></div><div class=\\\"col-sm-2\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"pre.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></span></div><div class=\\\"col-sm-1 text-right\\\"><span>:</span></div><div class=\\\"col-sm-2\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.doctor\\\" ng-options=\\\"d._id as d.name for d in doctors | filter: {department: pre.department}\\\"></select></span></div><div class=\\\"col-sm-1 text-right\\\"><span>:</span></div><div class=\\\"col-sm-2\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.schedule\\\" ng-options=\\\"s._id as (s.date + s.period.name) for s in schedules | filter: {doctor: search.doctor}\\\"></select></span></div><div class=\\\"col-sm-2\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addBooking()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\" ba-panel-title=\\\"Modals\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:25%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:15%\\\"></td></tr><tr ng-repeat=\\\"item in bookings | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.doctor\\\" e-name=\\\"doctor\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in doctors\\\">{{ showDoctor(item)}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.schedule\\\" e-name=\\\"schedule\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"s._id as s.name for s in schedules\\\">{{ showSchedule(item)}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.user\\\" e-name=\\\"user\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"u._id as u.name for u in users\\\">{{ showUser(item)}}</span></td><td class=\\\"select-td\\\"><span editable-number=\\\"item.status\\\" e-name=\\\"status\\\" e-form=\\\"rowform\\\">{{ item.status || \\'\\' }}</span></td><td><span editable-number=\\\"item.score\\\" e-name=\\\"score\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.score || \\'\\' }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveBooking($data)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeBooking\\\"></delete-btn></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/reservation/schedule/schedule.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-2 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"pre.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></span></div><div class=\\\"col-sm-2 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.doctor\\\" ng-options=\\\"d._id as d.name for d in doctors | filter: pre.department\\\"></select></span></div><div class=\\\"col-sm-2\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"open(\\'app/cms/reservation/schedule/scheduleCreate.html\\', \\'lg\\', search.doctor)\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\" ba-panel-title=\\\"Modals\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:20%\\\"></td><td style=\\\"width:20%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:25%\\\"></td></tr><tr ng-repeat=\\\"item in schedules | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.doctor\\\" e-name=\\\"doctor\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in doctors\\\">{{ showDoctor(item)}}</span></td><td class=\\\"select-td\\\"><span editable-date=\\\"item.date\\\" e-name=\\\"date\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.date | date:\\\"yyyy-MM-dd\\\" }}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.period\\\" e-name=\\\"period\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"p._id as p.name for p in periods\\\">{{ showPeriod(item)}}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.limit\\\" e-name=\\\"limit\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.limit || \\'\\' }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveSchedule($data)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeSchedule\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"getScheduleDetails(item._id)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/reservation/schedule/scheduleCreate.html\",\"<div class=\\\"modal-content\\\" ng-controller=\\\"scheduleCreateCtrl\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\"></h4></div><div class=\\\"modal-body\\\"><h3 class=\\\"with-line-no-padding\\\">: {{doctor.name}}</h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><div class=\\\"form-group\\\"><select id=\\\"selectPeriods\\\" class=\\\"form-control\\\" title=\\\"\\\" multiple=\\\"\\\" selectpicker=\\\"\\\" ng-model=\\\"schedule.periods\\\" ng-options=\\\"p.name for p in periods track by p._id\\\"></select></div></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\"></label><div class=\\\"col-sm-9\\\"><input type=\\\"number\\\" class=\\\"form-control\\\" min=\\\"1\\\" max=\\\"100\\\" placeholder=\\\"\\\" ng-model=\\\"schedule.limit\\\"></div></div></div></div><h3 class=\\\"with-line-no-padding\\\">:</h3><div class=\\\"row\\\" style=\\\"padding: 5px 40px 0 20px;\\\"><div class=\\\"col-md-2\\\"><label class=\\\"control-label\\\"></label></div><div class=\\\"col-md-4\\\"><div class=\\\"form-group row clearfix\\\"><div class=\\\"input-group date\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" datetime-picker=\\\"yyyy-MM-dd\\\" ng-model=\\\"schedule.startDate.date\\\" is-open=\\\"schedule.startDate.open\\\" enable-time=\\\"false\\\" datepicker-options=\\\"schedule.startDate.datepickerOptions\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"openCalendar($event, \\'startDate\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></div></div></div><div class=\\\"col-md-2\\\"><label class=\\\"control-label\\\"></label></div><div class=\\\"col-md-4\\\"><div class=\\\"form-group row clearfix\\\"><div class=\\\"input-group date\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" datetime-picker=\\\"yyyy-MM-dd\\\" ng-model=\\\"schedule.endDate.date\\\" is-open=\\\"schedule.endDate.open\\\" enable-time=\\\"false\\\" datepicker-options=\\\"schedule.endDate.datepickerOptions\\\"> <span class=\\\"input-group-btn\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"openCalendar($event, \\'endDate\\')\\\"><i class=\\\"fa fa-calendar\\\"></i></button></span></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-md-2\\\"></div><div class=\\\"col-md-10\\\"><label class=\\\"checkbox-inline custom-checkbox nowrap\\\"><input type=\\\"checkbox\\\" ng-model=\\\"schedule.days.monday\\\"> <span></span></label> <label class=\\\"checkbox-inline custom-checkbox nowrap\\\"><input type=\\\"checkbox\\\" ng-model=\\\"schedule.days.tuesday\\\"> <span></span></label> <label class=\\\"checkbox-inline custom-checkbox nowrap\\\"><input type=\\\"checkbox\\\" ng-model=\\\"schedule.days.wednesday\\\"> <span></span></label> <label class=\\\"checkbox-inline custom-checkbox nowrap\\\"><input type=\\\"checkbox\\\" ng-model=\\\"schedule.days.thursday\\\"> <span></span></label> <label class=\\\"checkbox-inline custom-checkbox nowrap\\\"><input type=\\\"checkbox\\\" ng-model=\\\"schedule.days.friday\\\"> <span></span></label> <label class=\\\"checkbox-inline custom-checkbox nowrap\\\"><input type=\\\"checkbox\\\" ng-model=\\\"schedule.days.saturday\\\"> <span></span></label> <label class=\\\"checkbox-inline custom-checkbox nowrap\\\"><input type=\\\"checkbox\\\" ng-model=\\\"schedule.days.sunday\\\"> <span></span></label></div></div></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"closeMe()\\\"></button> <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"saveMe(data)\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i></button></div></div>\");\n$templateCache.put(\"app/cms/survey/category/category.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-1 text-right\\\"><span></span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></span></div><div class=\\\"col-sm-2 text-right\\\"><span><button class=\\\"btn btn-primary\\\" ng-if=\\\"search.department\\\" ng-click=\\\"createDefaultCatsByDepartment(search.department)\\\"><i class=\\\"ion-android-add-circle\\\"></i></button></span></div><div class=\\\"col-sm-1 text-right\\\"><span></span></div><div class=\\\"col-sm-3\\\"><span><span><input ng-model=\\\"search.name\\\" placeholder=\\\"\\\" class=\\\"input-sm form-control search-input\\\" type=\\\"search\\\"></span></span></div><div class=\\\"col-sm-2\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addCat()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:20%\\\"></td><td style=\\\"width:25%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:25%\\\"></td></tr><tr ng-repeat=\\\"item in cats | filter: search | orderBy: \\'-fixed\\'\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.department\\\" e-name=\\\"department\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in departments\\\">{{ showDepartment(item)}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveCat($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel();cancelCat();\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeCat\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"getSurveysByCatId(item._id, item.department)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/survey/group/group.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"add-row-editable-table\\\"><button class=\\\"btn btn-primary\\\" ng-click=\\\"addGroup()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:40%\\\"></td><td style=\\\"width:5%\\\"></td><td style=\\\"width:25%\\\"></td></tr><tr ng-repeat=\\\"item in groups\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.surveys\\\" e-name=\\\"surveys\\\" e-form=\\\"rowform\\\">{{ item.surveys || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveGroup($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeGroup\\\"></delete-btn></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/survey/survey/survey.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"{{\\':\\' + department.name + \\' / :\\' + cat.name }}\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"add-row-editable-table\\\"><button class=\\\"btn btn-primary\\\" ng-click=\\\"addSurvey()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button> <button class=\\\"btn btn-default\\\" ng-click=\\\"backToCats()\\\"><i class=\\\"ion-ios-undo-outline\\\"></i> </button></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:17%\\\"></td><td style=\\\"width:60%\\\"></td><td style=\\\"width:8%\\\"></td><td style=\\\"width:15%\\\"></td></tr><tr ng-repeat=\\\"item in surveys track by $index\\\" class=\\\"editable-row\\\"><td ng-show=\\\"false\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span> <span editable-text=\\\"item.department\\\" e-name=\\\"department\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item.department}}</span> <span editable-text=\\\"item.cat\\\" e-name=\\\"cat\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item.cat}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td><pre>{{ showQuestions(item.questions) }}</pre></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveSurvey($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel();cancelSurvey();\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeSurvey\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"open(\\'app/cms/survey/survey/surveyEdit.html\\', \\'lg\\', item, $index)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/survey/survey/surveyEdit.html\",\"<div class=\\\"modal-content\\\" ng-controller=\\\"surveyEditCtrl\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\">[{{ editItem.name }}]</h4></div><div class=\\\"modal-body\\\"><h3 class=\\\"with-line-no-padding text-muted\\\" style=\\\"font-size: 1em;\\\">: {{ showCat(editItem) + \\' / : \\' + showDepartment(editItem) }} <a type=\\\"button\\\" class=\\\"btn btn-sm btn-default pull-right\\\" ng-click=\\\"createQuestion()\\\"></a></h3><form name=\\\"editQForm\\\" ng-show=\\\"editStatus > 0\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"inputName\\\" class=\\\"control-label\\\"></label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"\\\" ng-model=\\\"editQ.question\\\" required=\\\"\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"col-md-4\\\"><div class=\\\"form-group\\\"><label for=\\\"inputAnswerType\\\" class=\\\"control-label\\\"></label><select class=\\\"form-control\\\" id=\\\"inputAnswerType\\\" ng-model=\\\"editQ.answer_type\\\" ng-change=\\\"changeEditAnswerType()\\\"><option value=\\\"\\\">--  --</option><option value=\\\"0\\\"></option><option value=\\\"1\\\"></option><option value=\\\"2\\\"></option><option value=\\\"3\\\"></option></select></div></div><div class=\\\"col-md-2\\\"><div class=\\\"form-group\\\"><label for=\\\"inputoptionNumber\\\" class=\\\"control-label\\\"></label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputoptionNumber\\\" ng-model=\\\"editQ.optionNumber\\\" ng-blur=\\\"changeEditOptionNumber()\\\" min=\\\"1\\\" max=\\\"10\\\"></div></div><div class=\\\"col-md-2\\\"><div class=\\\"form-group\\\"><label for=\\\"inputWeight\\\" class=\\\"control-label\\\"></label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputWeight\\\" ng-model=\\\"editQ.weight\\\" min=\\\"0\\\" max=\\\"100\\\"></div></div><div class=\\\"col-md-2\\\"><div class=\\\"form-group\\\"><label for=\\\"inputOrder\\\" class=\\\"control-label\\\"></label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputOrder\\\" ng-model=\\\"editQ.order\\\"></div></div><div class=\\\"col-md-1\\\"><div class=\\\"form-group\\\"><label for=\\\"radioRequired\\\" class=\\\"control-label\\\">?</label> <input type=\\\"checkbox\\\" class=\\\"form-control\\\" id=\\\"radioRequired\\\" ng-model=\\\"editQ.required\\\"></div></div><div class=\\\"col-md-1\\\"><div class=\\\"form-group\\\"><label for=\\\"radioApply\\\" class=\\\"control-label\\\">?</label> <input type=\\\"checkbox\\\" class=\\\"form-control\\\" id=\\\"radioApply\\\" ng-model=\\\"editQ.apply\\\"></div></div></div><table class=\\\"table\\\" ng-show=\\\"editQ.optionNumber > 0\\\"><thead class=\\\"bold-text bg-info\\\"></thead><td style=\\\"width:4%\\\">#</td><td style=\\\"width:76%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\" ng-if=\\\"editQ.weight>0\\\"></td><tbody><tr ng-repeat=\\\"option in editQ.options track by $index\\\"><td>{{$index+1}}</td><td><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"option.answer\\\" placeholder=\\\"\\\"></td><td><input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"option.input_required\\\"></td><td><input type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"option.weight\\\" ng-if=\\\"editQ.weight>0\\\"></td></tr></tbody></table><div class=\\\"modal-footer\\\" style=\\\"padding-top:.5em;\\\"><a type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"saveQuestion(editQ)\\\" ng-disabled=\\\"editQForm.$invalid\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i> {{ editStatus === 1 ? \\\"\\\" : \\\"\\\" }}</a></div></form><h3 class=\\\"with-line-no-padding\\\"></h3><table class=\\\"table\\\"><thead class=\\\"bold-text bg-info\\\"></thead><td style=\\\"width:5%\\\"></td><td style=\\\"width:60%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:8%\\\"></td><td style=\\\"width:7%\\\">?</td><td style=\\\"width:10%\\\"></td><tbody><tr ng-repeat=\\\"question in questions | orderBy:\\'order\\' track by $index\\\"><td>{{ question.order }}</td><td>{{ question.question }}</td><td>{{ question.answer_type }}</td><td>{{ question.weight }}</td><td>{{ question.apply }}</td><td><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"editQuestion(question, $index)\\\"><i class=\\\"ion-compose\\\"></i></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"removeQuestion($index)\\\"><i class=\\\"ion-ios-trash\\\"></i></button></td></tr></tbody></table><div class=\\\"modal-footer\\\" style=\\\"padding-top:.5em;\\\"><a type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"saveSurvey()\\\" ng-disabled=\\\"questions.length < 1\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i> </a></div></div></div>\");\n$templateCache.put(\"app/cms/hospital/medicine/medicine.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"add-row-editable-table\\\"><button class=\\\"btn btn-primary\\\" ng-click=\\\"addMedicine()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div><table class=\\\"table table-bordered table-hover table-condensed\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:17%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:8%\\\"></td><td style=\\\"width:15%\\\"></td></tr><tr ng-repeat=\\\"item in medicines track by $index\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td><span editable-select=\\\"item.usage\\\" e-form=\\\"tableform\\\" e-ng-options=\\\"s.value as s.text for s in usages\\\">{{showUsage(item)}}</span></td><td><span editable-number=\\\"item.dosage.frequency\\\" e-name=\\\"frequency\\\" e-form=\\\"rowform\\\" e-style=\\\"width:65px\\\" e-required=\\\"\\\">{{ item.dosage.frequency || \\'\\' }}</span></td><td><span editable-select=\\\"item.dosage.way\\\" e-form=\\\"tableform\\\" e-ng-options=\\\"s.value as s.text for s in ways\\\">{{showDosageWay(item)}}</span></td><td class=\\\"select-td\\\"><span>{{ item.notices.length }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveMedicine($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeMedicine\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"open(\\'app/cms/hospital/medicine/medicineEdit.html\\', \\'lg\\', item, $index)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/hospital/medicine/medicineEdit.html\",\"<div class=\\\"modal-content\\\" ng-controller=\\\"medicineEditCtrl\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\"> [{{ editItem.name }}]</h4></div><div class=\\\"modal-body\\\"><h3 class=\\\"with-line-no-padding text-muted\\\"></h3><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label for=\\\"inputName\\\" class=\\\"control-label\\\"></label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputName\\\" placeholder=\\\"\\\" ng-model=\\\"item.name\\\" required=\\\"\\\"></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"form-group\\\"><label for=\\\"inputDesc\\\" class=\\\"control-label\\\"></label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputDesc\\\" placeholder=\\\"\\\" ng-model=\\\"item.desc\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-2\\\"><div class=\\\"form-group\\\"><label for=\\\"inputCapacity\\\" class=\\\"control-label\\\"></label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputCapacity\\\" ng-model=\\\"item.capacity\\\" min=\\\"0\\\" max=\\\"10000\\\" required=\\\"\\\"></div></div><div class=\\\"col-sm-2\\\"><div class=\\\"form-group\\\"><label for=\\\"inputCapacity\\\" class=\\\"control-label\\\"></label><select class=\\\"form-control\\\" ng-model=\\\"item.unit\\\" required=\\\"\\\"><option value=\\\"tablet\\\" selected=\\\"\\\"></option><option value=\\\"ml\\\"></option></select></div></div><div class=\\\"col-sm-2\\\"><div class=\\\"form-group\\\"><label for=\\\"inputUsage\\\" class=\\\"control-label\\\"></label><select class=\\\"form-control\\\" ng-model=\\\"item.usage\\\" id=\\\"inputUsage\\\" required=\\\"\\\"><option value=\\\"0\\\"></option><option value=\\\"1\\\"></option></select></div></div><div class=\\\"col-sm-2\\\"><div class=\\\"form-group\\\"><label for=\\\"inputFrequency\\\" class=\\\"control-label\\\"></label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputFrequency\\\" min=\\\"0\\\" max=\\\"100\\\" ng-model=\\\"item.dosage.frequency\\\" required=\\\"\\\"></div></div><div class=\\\"col-sm-3\\\"><br><select class=\\\"form-control\\\" ng-model=\\\"item.dosage.way\\\" required=\\\"\\\"><option value=\\\"0\\\">--  --</option><option value=\\\"1\\\"></option><option value=\\\"2\\\"></option><option value=\\\"3\\\"></option><option value=\\\"4\\\"></option><option value=\\\"5\\\">4</option><option value=\\\"6\\\">8</option><option value=\\\"7\\\">12</option><option value=\\\"8\\\"></option><option value=\\\"9\\\"></option></select></div><div class=\\\"col-sm-1\\\"><div class=\\\"form-group\\\"><label for=\\\"inputApply\\\" class=\\\"control-label\\\"></label> <input type=\\\"checkbox\\\" class=\\\"form-control\\\" id=\\\"inputApply\\\" ng-model=\\\"item.apply\\\"></div></div></div><h3 class=\\\"with-line-no-padding text-muted\\\"> <a type=\\\"button\\\" class=\\\"btn btn-sm btn-default pull-right\\\" ng-click=\\\"createNotice()\\\"></a></h3><form name=\\\"editNForm\\\" ng-show=\\\"editStatus > 0\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div class=\\\"form-group\\\"><label for=\\\"inputNotice\\\" class=\\\"control-label\\\"></label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputNotice\\\" placeholder=\\\"\\\" ng-model=\\\"editN.notice\\\" required=\\\"\\\"></div></div></div><div class=\\\"row\\\"><div class=\\\"col-md-3\\\"><div class=\\\"form-group\\\"><label for=\\\"inputDaysToStart\\\" class=\\\"control-label\\\">()</label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputDaysToStart\\\" ng-model=\\\"editN.days_to_start\\\" min=\\\"0\\\" max=\\\"1000\\\"></div></div><div class=\\\"col-md-3\\\"><div class=\\\"form-group\\\"><label for=\\\"inputDuring\\\" class=\\\"control-label\\\"></label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"inputDuring\\\" ng-model=\\\"editN.during\\\"></div></div><div class=\\\"col-md-2\\\"><div class=\\\"form-group\\\"><label for=\\\"radioRequireConfirm\\\" class=\\\"control-label\\\">?</label> <input type=\\\"checkbox\\\" class=\\\"form-control\\\" id=\\\"radioRequireConfirm\\\" ng-model=\\\"editN.require_confirm\\\"></div></div><div class=\\\"col-md-2 col-md-offset-2\\\"><div class=\\\"form-group\\\"><label for=\\\"radioApply\\\" class=\\\"control-label\\\">?</label> <input type=\\\"checkbox\\\" class=\\\"form-control\\\" id=\\\"radioApply\\\" ng-model=\\\"editN.apply\\\"></div></div></div><div class=\\\"modal-footer\\\" style=\\\"padding-top:.5em;\\\"><a type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"saveNotice(editN)\\\" ng-disabled=\\\"editNForm.$invalid\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i> {{ editStatus === 1 ? \\\"\\\" : \\\"\\\" }}</a></div></form><table class=\\\"table\\\"><thead class=\\\"bold-text bg-info\\\"></thead><td style=\\\"width:4%\\\">#</td><td style=\\\"width:46%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\">?</td><td style=\\\"width:10%\\\">?</td><td style=\\\"width:10%\\\"></td><tbody><tr ng-repeat=\\\"notice in item.notices track by $index\\\"><td>{{$index+1}}</td><td><input type=\\\"text\\\" class=\\\"form-control\\\" ng-model=\\\"notice.notice\\\" placeholder=\\\"\\\"></td><td><input type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"notice.days_to_start\\\"></td><td><input type=\\\"number\\\" class=\\\"form-control\\\" ng-model=\\\"notice.during\\\" placeholder=\\\"\\\"></td><td><input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"notice.require_confirm\\\"></td><td><input type=\\\"checkbox\\\" class=\\\"form-control\\\" ng-model=\\\"notice.apply\\\"></td><td><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"editNotice(notice, $index)\\\"><i class=\\\"ion-compose\\\"></i></button> <button class=\\\"btn btn-danger btn-xs\\\" ng-click=\\\"removeNotice($index)\\\"><i class=\\\"ion-ios-trash\\\"></i></button></td></tr></tbody></table><div class=\\\"modal-footer\\\" style=\\\"padding-top:.5em;\\\"><a type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"saveMedicine(item)\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i></a></div></div></div>\");\n$templateCache.put(\"app/cms/education/category/category.html\",\"<div ba-panel=\\\"\\\" ba-panel-title=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-1 text-right\\\"><span></span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></span></div><div class=\\\"col-sm-1 text-right\\\"><span></span></div><div class=\\\"col-sm-3\\\"><span><span><input ng-model=\\\"search.name\\\" placeholder=\\\"\\\" class=\\\"input-sm form-control search-input\\\" type=\\\"search\\\"></span></span></div><div class=\\\"col-sm-2\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addCat()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table st-table=\\\"displayedCats\\\" st-safe-src=\\\"cats\\\" class=\\\"table table-bordered table-hover table-condensed\\\"><thead><tr style=\\\"font-weight: bold\\\"><td st-sort=\\\"department\\\" class=\\\"text-center\\\" style=\\\"width:20%\\\"></td><td st-sort=\\\"name\\\" class=\\\"text-center\\\" style=\\\"width:20%\\\"></td><td st-sort=\\\"desc\\\" class=\\\"text-center\\\" style=\\\"width:25%\\\"></td><td st-sort=\\\"apply\\\" class=\\\"text-center\\\" style=\\\"width:10%\\\"></td><td class=\\\"text-center\\\" style=\\\"width:25%\\\"></td></tr></thead><tbody><tr ng-repeat=\\\"item in displayedCats | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.department\\\" e-name=\\\"department\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in departments\\\">{{ showDepartment(item)}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.desc\\\" e-name=\\\"desc\\\" e-form=\\\"rowform\\\">{{ item.desc || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveCat($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel();cancelCat();\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeCat\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"getPagesByCatId(item._id, item.department)\\\"></button></div></td></tr></tbody><tfoot class=\\\"pbs\\\"><tr><td colspan=\\\"6\\\" class=\\\"text-center\\\"><div st-pagination=\\\"\\\" st-items-by-page=\\\"20\\\" st-displayed-pages=\\\"8\\\"></div></td></tr></tfoot></table></div>\");\n$templateCache.put(\"app/theme/components/baSidebar/ba-sidebar.html\",\"<aside class=\\\"al-sidebar\\\" ng-swipe-right=\\\"$baSidebarService.setMenuCollapsed(false)\\\" ng-swipe-left=\\\"$baSidebarService.setMenuCollapsed(true)\\\" ng-mouseleave=\\\"hoverElemTop=selectElemTop\\\"><ul class=\\\"al-sidebar-list\\\" slimscroll=\\\"{height: \\'{{menuHeight}}px\\'}\\\" slimscroll-watch=\\\"menuHeight\\\"><li ng-repeat=\\\"item in ::menuItems\\\" class=\\\"al-sidebar-list-item\\\" ng-class=\\\"::{\\'with-sub-menu\\': item.subMenu}\\\" ui-sref-active=\\\"selected\\\" ba-sidebar-toggling-item=\\\"item\\\" ng-if=\\\"role>=(item.minRole||0)\\\"><a ng-mouseenter=\\\"hoverItem($event, item)\\\" ui-state=\\\"item.stateRef || \\'\\'\\\" ng-href=\\\"{{::(item.fixedHref ? item.fixedHref: \\'\\')}}\\\" ng-if=\\\"::!item.subMenu\\\" class=\\\"al-sidebar-list-link\\\"><i class=\\\"{{ ::item.icon }}\\\"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter=\\\"hoverItem($event, item)\\\" ng-if=\\\"::item.subMenu\\\" class=\\\"al-sidebar-list-link\\\" ba-ui-sref-toggler=\\\"\\\"><i class=\\\"{{ ::item.icon }}\\\"></i><span>{{ ::item.title }}</span> <b class=\\\"fa fa-angle-down\\\" ui-sref-active=\\\"fa-angle-up\\\" ng-if=\\\"::item.subMenu\\\"></b></a><ul ng-if=\\\"::item.subMenu\\\" class=\\\"al-sidebar-sublist\\\" ng-class=\\\"{\\'slide-right\\': item.slideRight}\\\" ba-ui-sref-toggling-submenu=\\\"\\\"><li ng-repeat=\\\"subitem in ::item.subMenu\\\" ng-class=\\\"::{\\'with-sub-menu\\': subitem.subMenu}\\\" ui-sref-active=\\\"selected\\\" ba-sidebar-toggling-item=\\\"subitem\\\" class=\\\"ba-sidebar-sublist-item\\\"><a ng-mouseenter=\\\"hoverItem($event, item)\\\" ng-if=\\\"::subitem.subMenu\\\" ba-ui-sref-toggler=\\\"\\\" class=\\\"al-sidebar-list-link subitem-submenu-link\\\"><span>{{ ::subitem.title }}</span> <b class=\\\"fa\\\" ng-class=\\\"{\\'fa-angle-up\\': subitem.expanded, \\'fa-angle-down\\': !subitem.expanded}\\\" ng-if=\\\"::subitem.subMenu\\\"></b></a><ul ng-if=\\\"::subitem.subMenu\\\" class=\\\"al-sidebar-sublist subitem-submenu-list\\\" ng-class=\\\"{expanded: subitem.expanded, \\'slide-right\\': subitem.slideRight}\\\" ba-ui-sref-toggling-submenu=\\\"\\\"><li ng-mouseenter=\\\"hoverItem($event, item)\\\" ng-repeat=\\\"subSubitem in ::subitem.subMenu\\\" ui-sref-active=\\\"selected\\\"><a ng-mouseenter=\\\"hoverItem($event, item)\\\" href=\\\"\\\" ng-if=\\\"::subSubitem.disabled\\\" class=\\\"al-sidebar-list-link\\\">{{ ::subSubitem.title }}</a> <a ng-mouseenter=\\\"hoverItem($event, item)\\\" ui-state=\\\"subSubitem.stateRef || \\'\\'\\\" ng-if=\\\"::!subSubitem.disabled\\\" ng-href=\\\"{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \\'\\')}}\\\">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter=\\\"hoverItem($event, item)\\\" href=\\\"\\\" ng-if=\\\"::(!subitem.subMenu && subitem.disabled)\\\" class=\\\"al-sidebar-list-link\\\">{{ ::subitem.title }}</a> <a ng-mouseenter=\\\"hoverItem($event, item)\\\" target=\\\"{{::(subitem.blank ? \\'_blank\\' : \\'_self\\')}}\\\" ng-if=\\\"::(!subitem.subMenu && !subitem.disabled)\\\" ui-state=\\\"subitem.stateRef || \\'\\'\\\" ng-href=\\\"{{::(subitem.fixedHref ? subitem.fixedHref: \\'\\')}}\\\">{{ ::subitem.title}}</a></li></ul></li></ul><div class=\\\"sidebar-hover-elem\\\" ng-style=\\\"{top: hoverElemTop + \\'px\\', height: hoverElemHeight + \\'px\\'}\\\" ng-class=\\\"{\\'show-hover-elem\\': showHoverElem }\\\"></div></aside>\");\n$templateCache.put(\"app/theme/components/baWizard/baWizard.html\",\"<div class=\\\"ba-wizard\\\"><div class=\\\"ba-wizard-navigation-container\\\"><div ng-repeat=\\\"t in $baWizardController.tabs\\\" class=\\\"ba-wizard-navigation {{$baWizardController.tabNum == $index ? \\'active\\' : \\'\\'}}\\\" ng-click=\\\"$baWizardController.selectTab($index)\\\">{{t.title}}</div></div><div class=\\\"progress ba-wizard-progress\\\"><div class=\\\"progress-bar progress-bar-danger active\\\" role=\\\"progressbar\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" ng-style=\\\"{width: $baWizardController.progress + \\'%\\'}\\\"></div></div><div class=\\\"steps\\\" ng-transclude=\\\"\\\"></div><nav><ul class=\\\"pager ba-wizard-pager\\\"><li class=\\\"previous\\\"><button ng-disabled=\\\"$baWizardController.isFirstTab()\\\" ng-click=\\\"$baWizardController.previousTab()\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\"><span aria-hidden=\\\"true\\\">&larr;</span> previous</button></li><li class=\\\"next\\\"><button ng-disabled=\\\"$baWizardController.isLastTab()\\\" ng-click=\\\"$baWizardController.nextTab()\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">next <span aria-hidden=\\\"true\\\">&rarr;</span></button></li></ul></nav></div>\");\n$templateCache.put(\"app/theme/components/baWizard/baWizardStep.html\",\"<section ng-show=\\\"selected\\\" class=\\\"step\\\" ng-transclude=\\\"\\\"></section>\");\n$templateCache.put(\"app/theme/components/contentTop/contentTop.html\",\"<div class=\\\"content-top clearfix\\\"><h1 class=\\\"al-title\\\">{{ activePageTitle }}</h1><ul class=\\\"breadcrumb al-breadcrumb\\\"><li><a href=\\\"#/dashboard\\\"></a></li><li>{{ activePageTitle }}</li></ul></div>\");\n$templateCache.put(\"app/theme/components/msgCenter/msgCenter.html\",\"<ul class=\\\"al-msg-center clearfix\\\"><li uib-dropdown=\\\"\\\"><a href=\\\"\\\" uib-dropdown-toggle=\\\"\\\"><i class=\\\"fa fa-bell-o\\\"></i><span>5</span><div class=\\\"notification-ring\\\"></div></a><div uib-dropdown-menu=\\\"\\\" class=\\\"top-dropdown-menu\\\"><i class=\\\"dropdown-arr\\\"></i><div class=\\\"header clearfix\\\"><strong></strong></div><div class=\\\"msg-list\\\"><a href=\\\"\\\" class=\\\"clearfix\\\" ng-repeat=\\\"msg in notifications\\\"><div class=\\\"img-area\\\"><img ng-class=\\\"{\\'photo-msg-item\\' : !msg.image}\\\" ng-src=\\\"{{::( msg.image || (users[msg.userId].name | profilePicture) )}}\\\"></div><div class=\\\"msg-area\\\"><div ng-bind-html=\\\"getMessage(msg)\\\"></div><span>{{ msg.time }}</span></div></a></div></div></li></ul>\");\n$templateCache.put(\"app/theme/components/widgets/widgets.html\",\"<div class=\\\"widgets\\\"><div ng-repeat=\\\"widgetBlock in ngModel\\\" ng-class=\\\"{\\'row\\': widgetBlock.widgets.length > 1}\\\"><div ng-repeat=\\\"widgetCol in widgetBlock.widgets\\\" ng-class=\\\"{\\'col-md-6\\': widgetBlock.widgets.length === 2}\\\" ng-model=\\\"widgetCol\\\" class=\\\"widgets-block\\\"><div ba-panel=\\\"\\\" ba-panel-title=\\\"{{::widget.title}}\\\" ng-repeat=\\\"widget in widgetCol\\\" ba-panel-class=\\\"with-scroll {{widget.panelClass}}\\\"><div ng-include=\\\"widget.url\\\"></div></div></div></div></div>\");\n$templateCache.put(\"app/theme/components/pageTop/pageTop.html\",\"<div class=\\\"page-top clearfix\\\" scroll-position=\\\"scrolled\\\" max-height=\\\"50\\\" ng-class=\\\"{\\'scrolled\\': scrolled}\\\"><a href=\\\"#/dashboard\\\" class=\\\"al-logo clearfix\\\"><span>e</span></a> <a href=\\\"\\\" class=\\\"collapse-menu-link ion-navicon\\\" ba-sidebar-toggle-menu=\\\"\\\"></a><div class=\\\"search\\\" style=\\\"display:none\\\"><i class=\\\"ion-ios-search-strong\\\" ng-click=\\\"startSearch()\\\"></i> <input id=\\\"searchInput\\\" type=\\\"text\\\" placeholder=\\\"Search for...\\\"></div><div class=\\\"user-profile clearfix\\\"><div class=\\\"al-user-profile\\\" uib-dropdown=\\\"\\\"><a uib-dropdown-toggle=\\\"\\\" class=\\\"profile-toggle-link\\\">{{userName}} <img ng-src=\\\"{{::( icon | kameleonImg )}}\\\"></a><ul class=\\\"top-dropdown-menu profile-dropdown\\\" uib-dropdown-menu=\\\"\\\"><li><i class=\\\"dropdown-arr\\\"></i></li><li><a ng-href=\\\"#/profile/{{user_id}}\\\"><i class=\\\"fa fa-user\\\"></i></a></li><li><a href=\\\"\\\" ng-click=\\\"logout()\\\" class=\\\"signout\\\"><i class=\\\"fa fa-power-off\\\"></i></a></li></ul></div><msg-center></msg-center></div></div>\");\n$templateCache.put(\"app/cms/education/page/page.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-2 text-right\\\"><span>:</span></div><div class=\\\"col-sm-2\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></span></div><div class=\\\"col-sm-1 text-right\\\"><span>:</span></div><div class=\\\"col-sm-2\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.cat\\\" ng-options=\\\"d._id as d.name for d in cats\\\"></select></span></div><div class=\\\"col-sm-4 text-right\\\"><button class=\\\"btn btn-primary\\\" ng-click=\\\"addPage()\\\" ng-disabled=\\\"!search.cat || !search.department\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button> <button class=\\\"btn btn-default\\\" ng-click=\\\"backToCats()\\\"><i class=\\\"ion-ios-undo-outline\\\"></i> </button></div></div><hr><div ng-if=\\\"pages.length < 1\\\"></div><table class=\\\"table table-bordered table-hover table-condensed\\\" ng-if=\\\"pages.length > 0\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:20%\\\"></td><td style=\\\"width:25%\\\"></td><td style=\\\"width:25%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:20%\\\"></td></tr><tr ng-repeat=\\\"item in pages | filter: search track by $index\\\" class=\\\"editable-row\\\"><td ng-show=\\\"false\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span> <span editable-text=\\\"item.department\\\" e-name=\\\"department\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item.department}}</span> <span editable-text=\\\"item.cat\\\" e-name=\\\"cat\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item.cat}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\">{{ item.name || \\'\\' }}</span></td><td><span editable-text=\\\"item.title\\\" e-name=\\\"title\\\" e-form=\\\"rowform\\\">{{ item.title || \\'\\' }}</span></td><td><span editable-text=\\\"item.title_image\\\" e-name=\\\"title_image\\\" e-form=\\\"rowform\\\">{{ item.title_image || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"savePage($data, item._id, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel();cancelPage();\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removePage\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"open(\\'app/cms/education/page/pageEdit.html\\', \\'lg\\', item, $index)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/education/page/pageEdit.html\",\"<div class=\\\"modal-content\\\" ng-controller=\\\"pageEditCtrl\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\"> [{{ editItem.name }}]</h4></div><div class=\\\"modal-body\\\"><h3 class=\\\"with-line-no-padding text-muted\\\" style=\\\"font-size: 1em;\\\">: <span class=\\\"alert alert-success\\\">{{ showDepartment(editItem) }}</span> / : <span class=\\\"alert alert-success\\\">{{ showCat(editItem)}}</span> <a type=\\\"button\\\" class=\\\"btn btn-sm {{preview?\\'btn-success\\':\\'btn-default\\'}} pull-right\\\" ng-click=\\\"previewToggle()\\\"></a></h3><div class=\\\"row\\\"><div class=\\\"col-md-5\\\"><div class=\\\"form-group\\\"><label for=\\\"inputTitle\\\" class=\\\"control-label\\\"></label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputTitle\\\" placeholder=\\\"\\\" ng-model=\\\"editItem.title\\\" required=\\\"\\\"></div></div><div class=\\\"col-md-4\\\"><div class=\\\"form-group\\\"><label for=\\\"inputTitleImage\\\" class=\\\"control-label\\\"></label> <input type=\\\"file\\\" class=\\\"form-control\\\" id=\\\"inputTitleImage\\\" placeholder=\\\"\\\" ng-model=\\\"editItem.title_image\\\" required=\\\"\\\"></div></div><div class=\\\"col-md-3\\\"><div class=\\\"form-group\\\"><img></div></div></div><text-angular ng-model=\\\"editItem.edit_html\\\" ng-if=\\\"!preview\\\"></text-angular><text-angular ng-model=\\\"editItem.edit_html\\\" ng-if=\\\"preview\\\" ta-bind=\\\"\\\"></text-angular><div class=\\\"modal-footer\\\" style=\\\"padding-top:.5em;\\\"><a type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"$dismiss()\\\"></a> <a type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"savePage()\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i> </a></div></div></div>\");\n$templateCache.put(\"app/theme/components/backTop/backTop.html\",\"<i class=\\\"fa fa-angle-up back-top\\\" id=\\\"backTop\\\" title=\\\"\\\"></i>\");\n$templateCache.put(\"app/cms/crm/doctor/doctor/doctor.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-2 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.department\\\" ng-options=\\\"department._id as department.name for department in departments\\\"></select></span></div><div class=\\\"col-sm-2 text-right\\\"><span>User ID:</span></div><div class=\\\"col-sm-3\\\"><span><span><input ng-model=\\\"search.user_id\\\" placeholder=\\\"\\\" class=\\\"input-sm form-control search-input\\\" type=\\\"search\\\"></span></span></div><div class=\\\"col-sm-2\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addDoctor()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\" ba-panel-title=\\\"Modals\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\"></td><td style=\\\"width:15%\\\">User ID</td><td style=\\\"width:10%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:6%\\\"></td><td style=\\\"width:5%\\\"></td><td style=\\\"width:24%\\\"></td></tr><tr ng-repeat=\\\"item in doctors | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td class=\\\"select-td\\\"><span editable-select=\\\"item.department\\\" e-name=\\\"department\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"d._id as d.name for d in departments\\\">{{ showDepartment(item)}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.user_id\\\" e-name=\\\"user_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.user_id || \\'\\' }}</span></td><td><span editable-select=\\\"item.role\\\" e-name=\\\"role\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"r.value as r.name for r in roles\\\">{{ showRole(item)}}</span></td><td><span editable-text=\\\"item.title\\\" e-name=\\\"title\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.title || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-text=\\\"item.order\\\" e-name=\\\"order\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.order || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply}}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveDoctor($data, $index)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" user-id=\\\"item.user_id\\\" yes-delete=\\\"removeDoctor\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"goDoctorProfile(item._id)\\\"></button> <button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"goDoctorGroup(item._id)\\\"></button></div></td></tr></table></div>\");\n$templateCache.put(\"app/cms/crm/doctor/group/group.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"with-scroll\\\"><div cg-busy=\\\"myPromise\\\"></div><div class=\\\"row add-row-editable-table\\\"><div class=\\\"col-sm-3 text-right\\\"><span>:</span></div><div class=\\\"col-sm-3\\\"><span><select class=\\\"form-control\\\" ng-model=\\\"search.doctor\\\" ng-options=\\\"doctor._id as doctor.name for doctor in doctors\\\"></select></span></div><div class=\\\"col-sm-6\\\"><button class=\\\"btn btn-primary pull-right\\\" ng-click=\\\"addGroup()\\\"><i class=\\\"ion-android-add-circle\\\"></i> </button></div></div><table class=\\\"table table-bordered table-hover table-condensed\\\" ba-panel-title=\\\"Modals\\\"><tr style=\\\"font-weight: bold\\\"><td style=\\\"width:30%\\\"></td><td style=\\\"width:30%\\\"></td><td style=\\\"width:10%\\\"></td><td style=\\\"width:30%\\\"></td></tr><tr ng-repeat=\\\"item in groups | filter: search\\\" class=\\\"editable-row\\\"><td style=\\\"display:none;\\\"><span editable-text=\\\"item._id\\\" e-name=\\\"_id\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{item._id}}</span></td><td><span editable-select=\\\"item.doctor\\\" e-name=\\\"doctor\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\" e-ng-options=\\\"doctor._id as doctor.name for doctor in doctors\\\">{{ showDoctor(item)}}</span></td><td><span editable-text=\\\"item.name\\\" e-name=\\\"name\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.name || \\'\\' }}</span></td><td class=\\\"select-td\\\"><span editable-checkbox=\\\"item.apply\\\" e-name=\\\"apply\\\" e-form=\\\"rowform\\\" e-required=\\\"\\\">{{ item.apply || false }}</span></td><td><form editable-form=\\\"\\\" name=\\\"rowform\\\" onaftersave=\\\"saveGroup($data)\\\" ng-show=\\\"rowform.$visible\\\" class=\\\"form-buttons form-inline\\\" shown=\\\"inserted == item\\\"><button type=\\\"submit\\\" ng-disabled=\\\"rowform.$waiting\\\" class=\\\"btn btn-primary editable-table-button btn-xs\\\"></button> <button type=\\\"button\\\" ng-disabled=\\\"rowform.$waiting\\\" ng-click=\\\"rowform.$cancel()\\\" class=\\\"btn btn-default editable-table-button btn-xs\\\"></button></form><div class=\\\"buttons\\\" ng-show=\\\"!rowform.$visible\\\"><button class=\\\"btn btn-primary btn-xs\\\" ng-click=\\\"rowform.$show()\\\"><i class=\\\"ion-compose\\\"></i></button><delete-btn item-id=\\\"item._id\\\" yes-delete=\\\"removeGroup\\\"></delete-btn><button class=\\\"btn btn-primary btn-xs\\\" data-toggle=\\\"modal\\\" ng-click=\\\"goGroupRelationship(item)\\\"></button></div></td></tr></table></div>\");}]);"],"sourceRoot":"/source/"}