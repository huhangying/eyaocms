/**
 * Created by hhu on 2016/6/4.
 */
!function(){"use strict";function e(e,t){e.otherwise("/profile/")}e.$inject=["$urlRouterProvider","baSidebarServiceProvider"],angular.module("BlurAdmin.cms",["ui.router","BlurAdmin.cms.profile","BlurAdmin.cms.crm.doctor","BlurAdmin.cms.crm","BlurAdmin.cms.hospital","BlurAdmin.cms.reservation","BlurAdmin.cms.im","BlurAdmin.cms.system","BlurAdmin.cms.survey","BlurAdmin.cms.education"]).config(e)}(),function(){"use strict";angular.module("BlurAdmin.theme",["toastr","chart.js","angular-chartist","angular.morris-chart","textAngular","BlurAdmin.theme.components"])}(),function(){"use strict";function e(e){e.state("crm",{url:"/crm",template:"<ui-view></ui-view>","abstract":!0,title:"用户关系管理",sidebarMeta:{icon:"ion-ios-people",order:200},minRole:1})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.crm",["BlurAdmin.cms.crm.user","BlurAdmin.cms.crm.relationship"]).config(e)}(),function(){"use strict";function e(e){e.state("education",{url:"/education",template:"<ui-view></ui-view>","abstract":!0,title:"宣教材料管理",sidebarMeta:{icon:"ion-calendar",order:1001},minRole:1})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.education",["BlurAdmin.cms.education.category","BlurAdmin.cms.education.page"]).config(e)}(),function(){"use strict";function e(e){e.state("hospital",{url:"/hospital",template:"<ui-view></ui-view>","abstract":!0,title:"医院配置信息",sidebarMeta:{icon:"ion-gear-a",order:300},minRole:2})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.hospital",["BlurAdmin.cms.hospital.department","BlurAdmin.cms.hospital.disease","BlurAdmin.cms.hospital.symptom","BlurAdmin.cms.hospital.medicine"]).config(e)}(),function(){"use strict";function e(e){e.state("im",{url:"/im",template:"<ui-view></ui-view>","abstract":!0,title:"聊天管理",sidebarMeta:{icon:"ion-chatboxes",order:800},minRole:2})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.im",["BlurAdmin.cms.im.chatroom","BlurAdmin.cms.im.chat"]).config(e)}(),function(){"use strict";function e(e){e.state("profile",{url:"/profile/:doctor",templateUrl:"app/cms/profile/profile.html",controller:"ProfilePageCtrl",title:"个人资料",sidebarMeta:{icon:"ion-ios-paper",order:0},minRole:0})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.profile",["flow"]).config(e).config(["flowFactoryProvider",function(e){e.defaults={target:"/public/images/doctor",permanentErrors:[404,500,501]}}])}(),function(){"use strict";function e(e){e.state("reservation",{url:"/reservation",template:"<ui-view></ui-view>","abstract":!0,title:"预约管理",sidebarMeta:{icon:"ion-calendar",order:600},minRole:1})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.reservation",["BlurAdmin.cms.reservation.schedule","BlurAdmin.cms.reservation.booking"]).config(e)}(),function(){"use strict";function e(e){e.state("survey",{url:"/survey",template:"<ui-view></ui-view>","abstract":!0,title:"问卷调查",sidebarMeta:{icon:"ion-calendar",order:1e3},minRole:1})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.survey",["BlurAdmin.cms.survey.category","BlurAdmin.cms.survey.group","BlurAdmin.cms.survey.survey"]).config(e)}(),function(){"use strict";function e(e){e.state("system.const",{url:"/const",templateUrl:"app/cms/system/const.html",controller:"constCtrl",title:"全局定义",sidebarMeta:{order:200}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.system.const",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("system",{url:"/system",template:"<ui-view></ui-view>","abstract":!0,title:"系统配置",sidebarMeta:{icon:"ion-gear-a",order:100},minRole:2})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.system",["BlurAdmin.cms.system.const"]).config(e)}(),function(){"use strict";angular.module("BlurAdmin.theme.components",[])}(),function(){"use strict";function e(e){e.state("doctor",{url:"/doctor",template:"<ui-view></ui-view>","abstract":!0,title:"药师管理",sidebarMeta:{icon:"ion-ios-people",order:150},minRole:1})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.crm.doctor",["BlurAdmin.cms.crm.doctor.doctor","BlurAdmin.cms.crm.doctor.group"]).config(e)}(),function(){"use strict";function e(e){e.state("crm.relationship",{url:"/relationship/:doctor/:group",templateUrl:"app/cms/crm/relationship/relationship.html",controller:"relationshipCtrl",title:"医患关系",sidebarMeta:{icon:"ion-ios-person",order:50}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.crm.relationship",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("crm.user",{url:"/user",templateUrl:"app/cms/crm/user/user.html",controller:"userCtrl",title:"病患资料",sidebarMeta:{icon:"ion-ios-person",order:50}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.crm.user",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("education.category",{url:"/cat/:department",templateUrl:"app/cms/education/category/category.html",controller:"educationCategoryCtrl",title:"材料类别",sidebarMeta:{order:100}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.education.category",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("education.page",{url:"/page/:department/:cat",templateUrl:"app/cms/education/page/page.html",controller:"pageCtrl",title:"宣教材料",sidebarMeta:{order:200}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.education.page",["textAngular"]).config(e).config(["$provide",function(e){e.decorator("taOptions",["$delegate",function(e){return e.forceTextAngularSanitize=!0,e.keyMappings=[],e.toolbar=[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["html","insertImage","insertLink"]],e.classes={focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},e}])}])}(),function(){"use strict";function e(e){e.state("hospital.department",{url:"/department",templateUrl:"app/cms/hospital/department/department.html",controller:"departmentCtrl",title:"医院科室",sidebarMeta:{order:200}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.hospital.department",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("hospital.disease",{url:"/disease/:department",templateUrl:"app/cms/hospital/disease/disease.html",title:"疾病类型",controller:"diseaseCtrl",sidebarMeta:{order:300}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.hospital.disease",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("hospital.medicine",{url:"/medicine",templateUrl:"app/cms/hospital/medicine/medicine.html",controller:"medicineCtrl",title:"药品管理",sidebarMeta:{order:200}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.hospital.medicine",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("hospital.symptom",{url:"/symptom",templateUrl:"app/cms/hospital/symptom/symptom.html",title:"症状",controller:"symptomCtrl",sidebarMeta:{order:400}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.hospital.symptom",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("im.chat",{url:"/chat/:chatroom",templateUrl:"app/cms/im/chat/chat.html",title:"聊天内容",controller:"chatCtrl",sidebarMeta:{order:300}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.im.chat",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("im.chatroom",{url:"/chatroom",templateUrl:"app/cms/im/chatroom/chatroom.html",controller:"chatroomCtrl",title:"聊天室",sidebarMeta:{order:200}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.im.chatroom",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("reservation.booking",{url:"/booking/:schedule",templateUrl:"app/cms/reservation/booking/booking.html",controller:"bookingCtrl",title:"预约门诊",sidebarMeta:{icon:"ion-ios-person",order:50}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.reservation.booking",[]).config(e)}(),function(){"use strict";function e(e){e.state("reservation.schedule",{url:"/schedule",templateUrl:"app/cms/reservation/schedule/schedule.html",controller:"scheduleCtrl",title:"门诊",sidebarMeta:{icon:"ion-ios-person",order:10}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.reservation.schedule",[]).config(e)}(),function(){"use strict";function e(e){e.state("survey.category",{url:"/surveycat/:department",templateUrl:"app/cms/survey/category/category.html",controller:"surveyCategoryCtrl",title:"问卷类别",sidebarMeta:{order:100}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.survey.category",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("survey.group",{url:"/surveygroup",templateUrl:"app/cms/survey/group/group.html",controller:"surveyGroupCtrl",title:"问卷集合",sidebarMeta:{order:300}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.survey.group",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("survey.survey",{url:"/survey/:department/:cat",templateUrl:"app/cms/survey/survey/survey.html",controller:"surveyCtrl",title:"问卷试题",sidebarMeta:{order:200}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.survey.survey",[]).config(e).config(function(){})}(),function(){"use strict";function e(e){e.state("doctor.doctor",{url:"/doctor",templateUrl:"app/cms/crm/doctor/doctor/doctor.html",controller:"doctorCtrl",title:"药师资料",sidebarMeta:{icon:"ion-ios-person",order:10}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.crm.doctor.doctor",[]).config(e)}(),function(){"use strict";function e(e){e.state("doctor.group",{url:"/group/:doctor",templateUrl:"app/cms/crm/doctor/group/group.html",controller:"groupCtrl",title:"用户组",sidebarMeta:{icon:"ion-ios-person",order:50}})}e.$inject=["$stateProvider"],angular.module("BlurAdmin.cms.crm.doctor.group",[]).config(e).config(function(){})}(),global.app=angular.module("BlurAdmin",["ngAnimate","ui.bootstrap","ui.sortable","ui.router","ngTouch","toastr","smart-table","xeditable","ui.slimscroll","ngJsTree","angular-progress-button-styles","ui.bootstrap.datetimepicker","cgBusy","BlurAdmin.theme","BlurAdmin.cms","BlurAdmin.shared"]).value("cgBusyDefaults",{message:"",templateUrl:"./loading.html",delay:300,minDuration:1e3,wrapperClass:"loading"}),app.provider("util",function(){this.$get=function(){return{baseApiUrl:"http://139.224.68.92:3000/",getResponse:function(e){return e["return"]&&"null"==e["return"]?[]:e},getErrorMessage:function(e){return e["return"]?"错误: "+e["return"]:null}}}}),function(){"use strict";function e(e,t){}e.$inject=["baConfigProvider","colorHelper"],angular.module("BlurAdmin.theme").config(e)}(),function(){"use strict";function e(e){var n={theme:{blur:!1},colors:{"default":t["default"],defaultText:t.defaultText,border:t.border,borderDark:t.borderDark,primary:s.primary,info:s.info,success:s.success,warning:s.warning,danger:s.danger,primaryLight:e.tint(s.primary,30),infoLight:e.tint(s.info,30),successLight:e.tint(s.success,30),warningLight:e.tint(s.warning,30),dangerLight:e.tint(s.danger,30),primaryDark:e.shade(s.primary,15),infoDark:e.shade(s.info,15),successDark:e.shade(s.success,15),warningDark:e.shade(s.warning,15),dangerDark:e.shade(s.danger,15),dashboard:{blueStone:r.blueStone,surfieGreen:r.surfieGreen,silverTree:r.silverTree,gossip:r.gossip,white:r.white}}};return n.changeTheme=function(e){angular.merge(n.theme,e)},n.changeColors=function(e){angular.merge(n.colors,e)},n.$get=function(){return delete n.$get,n},n}e.$inject=["colorHelper"];var t={"default":"#ffffff",defaultText:"#666666",border:"#dddddd",borderDark:"#aaaaaa"},s={primary:"#209e91",info:"#2dacd1",success:"#90b900",warning:"#dfb81c",danger:"#e85656"},r={blueStone:"#005562",surfieGreen:"#0e8174",silverTree:"#6eba8c",gossip:"#b9f2a1",white:"#10c4b5"};angular.module("BlurAdmin.theme").provider("baConfig",e)}(),function(){"use strict";function e(e,t,s){function r(e){return e.toString(16)}function n(e){return parseInt(e,16)}for(var i="#",o=1;7>o;o+=2){var a=n(e.substr(o,2)),l=n(t.substr(o,2)),d=r(Math.floor(l+(a-l)*(s/100)));i+=("0"+d).slice(-2)}return i}var t="assets/img/";angular.module("BlurAdmin.theme").constant("layoutSizes",{resWidthCollapseSidebar:1200,resWidthHideSidebar:500}).constant("layoutPaths",{images:{root:t,profile:t+"app/profile/",amMap:"assets/img/theme/vendor/ammap//dist/ammap/images/",amChart:"assets/img/theme/vendor/amcharts/dist/amcharts/images/"}}).constant("colorHelper",{tint:function(t,s){return e("#ffffff",t,s)},shade:function(t,s){return e("#000000",t,s)}})}(),function(){"use strict";function e(e,t,s,r,n,i,o){var a=[r.loadAmCharts(),e(3e3)],l=o;l.blur&&(l.mobile?a.unshift(r.loadImg(s.images.root+"blur-bg-mobile.jpg")):(a.unshift(r.loadImg(s.images.root+"blur-bg.jpg")),a.unshift(r.loadImg(s.images.root+"blur-bg-blurred.jpg")))),n.all(a).then(function(){t.$pageFinishedLoading=!0}),e(function(){t.$pageFinishedLoading||(t.$pageFinishedLoading=!0)},7e3),t.$baSidebarService=i}e.$inject=["$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings"],angular.module("BlurAdmin.theme").run(e)}(),function(){"use strict";function e(e){var t=/android|webos|iphone|ipad|ipod|blackberry|windows phone/.test(navigator.userAgent.toLowerCase()),s=t?"mobile":"",r=e.theme.blur?"blur-theme":"";return angular.element(document.body).addClass(s).addClass(r),{blur:e.theme.blur,mobile:t}}e.$inject=["baConfig"],angular.module("BlurAdmin.theme").service("themeLayoutSettings",e)}(),function(){"use strict";function e(e,t){e.link="",e.ok=function(){t.close(e.link)}}e.$inject=["$scope","$uibModalInstance"],angular.module("BlurAdmin.cms.profile").controller("ProfileModalCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o,a,l){e.login=JSON.parse(n.sessionStorage.user),e.departments=[],e.loadDepartments=function(){s.get(l.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){a.error(e.messageFormatted)})},e.loadDepartments();var d=e.login._id;r.params&&r.params.doctor&&(d=r.params.doctor),e.myPromise=s.get(l.baseApiUrl+"doctor/"+d).success(function(t){e.doctor=t,e.doctor.password=""}).error(function(e){a.error(e.messageFormatted)}),e.picture=i("profilePicture")("Nasta"),e.removePicture=function(){e.picture=i("appImage")("theme/no-photo.png"),e.noPicture=!0},e.uploadPicture=function(){var e=document.getElementById("uploadFile");e.click()},e.unconnect=function(e){e.href=void 0},e.showModal=function(e){o.open({animation:!1,controller:"ProfileModalCtrl",templateUrl:"app/cms/profile/profileModal.html"}).result.then(function(t){e.href=t})},e.getFile=function(){t.readAsDataUrl(e.file,e).then(function(t){e.picture=t})},e.update=function(){if(e.doctor.password.trim().length>0){if(e.doctor.password!=e.doctor.confirmPassword)return void a.error("两次输入的密码不一致!")}else e.doctor.password=void 0;a.info(JSON.stringify(e.doctor)),s.patch(l.baseApiUrl+"doctor/"+e.doctor.user_id,e.doctor).success(function(e){e?a.success("成功更新"):a.error(error.messageFormatted)})}}e.$inject=["$scope","fileReader","$http","$state","$window","$filter","$uibModal","toastr","util"],angular.module("BlurAdmin.cms.profile").controller("ProfilePageCtrl",e)}(),function(){"use strict";angular.module("BlurAdmin.shared.deleteBtn",[]).directive("deleteBtn",function(){return{restrict:"AE",transclude:!0,scope:{yesDelete:"=",itemId:"=",userId:"=?"},controller:["$scope","$uibModal",function(e,t){e.open=function(){t.open({animation:!0,templateUrl:"./app/cms/shared/deleteConfirm.html",controller:"deleteConfirmCtrl",size:"sm",scope:e})}}],template:'<button class="btn btn-danger btn-xs" ng-click="open()"><i class="ion-ios-trash"></i></button>'}})}(),function(){"use strict";angular.module("BlurAdmin.shared.deleteBtn").controller("deleteConfirmCtrl",["$scope",function(e){e.ok=function(){e.userId?e.yesDelete(e.itemId,e.userId):e.yesDelete(e.itemId)}}])}(),function(){"use strict";angular.module("BlurAdmin.shared",["BlurAdmin.shared.deleteBtn"])}(),function(){"use strict";function e(e,t,s,r,n){e.consts=[],e.getConsts=function(){e.myPromise=s.get(r.baseApiUrl+"consts",{}).success(function(t){t["return"]&&"null"==t["return"]?e.consts=[]:e.consts=t}).error(function(e){n.error(e.messageFormatted)})},e.getConsts(),e.types=[{value:0,name:"文本"},{value:1,name:"多行文本"},{value:2,name:"是否"},{value:3,name:"数字"}],e.showType=function(s){if((s.type||0===s.type)&&e.types.length){var r=t("filter")(e.types,{value:s.type});return r.length?r[0].name:"未设置"}return"未设置"},e.showLineBreakString=function(e){return e?e.replace(/(?:\r\n|\r|\n)/g,"<br />"):"空"},e.addConst=function(){e.inserted={name:"",desc:"",type:0,value:""},e.consts.push(e.inserted)},e.removeConst=function(i,o){s["delete"](r.baseApiUrl+"const/"+i).success(function(s){e.consts=t("filter")(e.consts,{_id:"!"+i}),n.success("成功删除")})},e.validate=function(e){return e&&e.name?!0:(n.error("名字不能为空!"),!1)},e.saveConst=function(t,i,o){e.validate(t)&&(t._id?s.patch(r.baseApiUrl+"const/"+i,t).success(function(e){e?n.success("成功更新"):n.error(error.messageFormatted)}):s.post(r.baseApiUrl+"const",t).success(function(t){return r.getErrorMessage(t)?(e.consts.pop(),n.error(r.getErrorMessage(t))):(e.inserted=t,e.consts.push(e.inserted),n.success("成功创建"),void e.consts.splice(e.consts.length-1,1))}))}}e.$inject=["$scope","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.system.const").controller("constCtrl",e)}(),function(){"use strict";function e(e){angular.extend(e,{closeButton:!0,closeHtml:"<button>&times;</button>",timeOut:5e3,autoDismiss:!1,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"})}e.$inject=["toastrConfig"],angular.module("BlurAdmin.theme.components").config(e)}(),function(){"use strict";function e(e){return{link:function(t,s){e(function(){function t(t){e(function(){s.html(t)},30)}var r=s.attr("new-value"),n=parseInt(s.html());if(r>n)for(var i=n;r>=i;i++)t(i);else for(var o=n;o>=r;o--)t(o);e(function(){s.next().find("i").addClass("show-arr")},500)},3500)}}}e.$inject=["$timeout"],angular.module("BlurAdmin.theme").directive("animatedChange",e)}(),function(){"use strict";function e(){return{restrict:"A",link:function(e,t){t.bind("keydown",function(e){var t=e.target;$(t).height(0);var s=$(t)[0].scrollHeight;s=16>s?16:s,$(t).height(s)}),setTimeout(function(){var e=t;$(e).height(0);var s=$(e)[0].scrollHeight;s=16>s?16:s,$(e).height(s)},0)}}}angular.module("BlurAdmin.theme").directive("autoExpand",e)}(),function(){"use strict";function e(e,t){return{link:function(s,r,n){var i=t(n.autoFocus);s.$watch(i,function(t){t===!0&&e(function(){r[0].focus(),r[0].select()})}),r.bind("blur",function(){s.$apply(i.assign(s,!1))})}}}e.$inject=["$timeout","$parse"],angular.module("BlurAdmin.theme").directive("autoFocus",e)}(),function(){"use strict";function e(){return{restrict:"AE",templateUrl:function(e,t){return t.includeWithScope}}}angular.module("BlurAdmin.theme").directive("includeWithScope",e)}(),function(){"use strict";function e(e){return{restrict:"EA",template:"<div></div>",replace:!0,scope:{min:"=",max:"=",type:"@",prefix:"@",maxPostfix:"@",prettify:"=",prettifySeparator:"@",grid:"=",gridMargin:"@",postfix:"@",step:"@",hideMinMax:"@",hideFromTo:"@",from:"=",to:"=",disable:"=",onChange:"=",onFinish:"=",values:"=",timeout:"@"},link:function(t,s){s.ionRangeSlider({min:t.min,max:t.max,type:t.type,prefix:t.prefix,maxPostfix:t.maxPostfix,prettify_enabled:t.prettify,prettify_separator:t.prettifySeparator,grid:t.grid,gridMargin:t.gridMargin,postfix:t.postfix,step:t.step,hideMinMax:t.hideMinMax,hideFromTo:t.hideFromTo,from:t.from,to:t.to,disable:t.disable,onChange:t.onChange,onFinish:t.onFinish,values:t.values}),t.$watch("min",function(t){e(function(){s.data("ionRangeSlider").update({min:t})})},!0),t.$watch("max",function(t){e(function(){s.data("ionRangeSlider").update({max:t})})}),t.$watch("from",function(t){e(function(){s.data("ionRangeSlider").update({from:t})})}),t.$watch("to",function(t){e(function(){s.data("ionRangeSlider").update({to:t})})}),t.$watch("disable",function(t){e(function(){s.data("ionRangeSlider").update({disable:t})})})}}}e.$inject=["$timeout"],angular.module("BlurAdmin.theme").directive("ionSlider",e)}(),function(){"use strict";function e(){return{link:function(e,t){t.bind("change",function(t){e.file=(t.srcElement||t.target).files[0],e.getFile()})}}}angular.module("BlurAdmin.theme").directive("ngFileSelect",e)}(),function(){"use strict";function e(){return{scope:{scrollPosition:"=",maxHeight:"="},link:function(e){$(window).on("scroll",function(){var t=$(window).scrollTop()>e.maxHeight;t!==e.prevScrollTop&&e.$apply(function(){e.scrollPosition=t}),e.prevScrollTop=t})}}}angular.module("BlurAdmin.theme").directive("scrollPosition",e)}(),function(){"use strict";function e(){return{scope:{trackWidth:"=",minWidth:"="},link:function(e,t){e.trackWidth=$(t).width()<e.minWidth,e.prevTrackWidth=e.trackWidth,$(window).resize(function(){var s=$(t).width()<e.minWidth;s!==e.prevTrackWidth&&e.$apply(function(){e.trackWidth=s}),e.prevTrackWidth=s})}}}angular.module("BlurAdmin.theme").directive("trackWidth",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(s,r){var n=1e3;t.$pageFinishedLoading&&(n=100),e(function(){r.removeClass("full-invisible"),r.addClass("animated zoomIn")},n)}}}e.$inject=["$timeout","$rootScope"],angular.module("BlurAdmin.theme").directive("zoomIn",e)}(),function(){"use strict";function e(){this.isDescendant=function(e,t){for(var s=t.parentNode;null!=s;){if(s==e)return!0;s=s.parentNode}return!1},this.hexToRGB=function(e,t){var s=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return"rgba("+s+", "+r+", "+n+", "+t+")"}}angular.module("BlurAdmin.theme").service("baUtil",e)}(),function(){"use strict";function e(e){var t=function(e,t,s){return function(){s.$apply(function(){t.resolve(e.result)})}},s=function(e,t,s){return function(){s.$apply(function(){t.reject(e.result)})}},r=function(e,t){return function(e){t.$broadcast("fileProgress",{total:e.total,loaded:e.loaded})}},n=function(e,n){var i=new FileReader;return i.onload=t(i,e,n),i.onerror=s(i,e,n),i.onprogress=r(i,n),i},i=function(t,s){var r=e.defer(),i=n(r,s);return i.readAsDataURL(t),r.promise};return{readAsDataUrl:i}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("fileReader",e)}(),function(){"use strict";function e(e){return{loadImg:function(t){var s=e.defer(),r=new Image;return r.src=t,r.onload=function(){s.resolve()},s.promise},loadAmCharts:function(){var t=e.defer();return AmCharts.ready(function(){t.resolve()}),t.promise}}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("preloader",e)}(),function(){"use strict";function e(e){return{start:function(t,s,r){function n(){return t(s,r)}var i=n();angular.element(e).bind("focus",function(){i&&t.cancel(i),i=n()}),angular.element(e).bind("blur",function(){i&&t.cancel(i)})}}}e.$inject=["$window"],angular.module("BlurAdmin.theme").service("stopableInterval",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.search={},e.groups=[],e.loadGroups=function(){r.get(n.baseApiUrl+"groups",{}).success(function(t){t["return"]&&"null"==t["return"]?e.groups=[]:e.groups=t}).error(function(e){i.error(e.messageFormatted)})},e.loadGroups(),e.showGroup=function(t){if(t.group&&e.groups.length){var r=s("filter")(e.groups,{_id:t.group});return r.length?r[0].name:"未设置"}return"未设置"},e.doctors=[],e.loadDoctors=function(){r.get(n.baseApiUrl+"doctors/1000",{}).success(function(t){t["return"]&&"null"==t["return"]?e.doctors=[]:e.doctors=t}).error(function(e){i.error(e.messageFormatted)})},e.loadDoctors(),e.showDoctor=function(t){if(t.doctor&&e.doctors.length){var r=s("filter")(e.doctors,{_id:t.doctor});return r.length?r[0].name:"未设置"}return"未设置"},e.users=[],e.loadUsers=function(){r.get(n.baseApiUrl+"users/1000",{}).success(function(t){t["return"]&&"null"==t["return"]?e.users=[]:e.users=t}).error(function(e){i.error(e.messageFormatted)})},e.loadUsers(),e.showUser=function(t){if(t.user&&e.users.length){var r=s("filter")(e.users,{_id:t.user});return r.length?r[0].name:"未设置"}return"未设置"},e.relationships=[],e.getRelationships=function(){e.myPromise=r.get(n.baseApiUrl+"relationships",{}).success(function(t){t["return"]&&"null"==t["return"]?e.relationships=[]:e.relationships=t}).error(function(e){i.error(e.messageFormatted)})},e.getRelationships(),e.$on("$viewContentLoaded",function(){t.params.group&&t.params.doctor&&(e.search.group=t.params.group,e.search.doctor=t.params.doctor)}),e.addRelationship=function(){e.inserted={group:e.search.group||null,doctor:e.search.doctor||null,user:null,apply:!0},e.relationships.push(e.inserted)},e.removeRelationship=function(t){r["delete"](n.baseApiUrl+"relationship/"+t).success(function(r){e.relationships=s("filter")(e.relationships,{_id:"!"+t}),i.success("成功删除")}).error(function(e){i.error(e.messageFormatted)})},e.validate=function(e){return e?e.group?e.user?!0:(i.error("user不能为空!"),!1):(i.error("group 不能为空!"),!1):!1},e.saveRelationship=function(t){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"relationship/"+t._id,t).success(function(e){e?i.success("成功更新"):i.error("response is null")}).error(function(e){i.error(e.messageFormatted)})):r.post(n.baseApiUrl+"relationship",t).success(function(t){return n.getErrorMessage(t)?(e.relationships.pop(),i.error(n.getErrorMessage(t))):(e.inserted=t,e.relationships.push(e.inserted),i.success("成功创建"),void e.relationships.splice(e.relationships.length-1,1))}))},e.goDoctorGroup=function(e){t.go("doctor.group",{doctor:e})}}e.$inject=["$scope","$state","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.crm.relationship").controller("relationshipCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o){e.departments=[],e.loadDepartments=function(){r.get(n.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){i.error(e.messageFormatted)})},e.loadDepartments(),e.showDepartment=function(t){if(t.department&&e.departments.length){var r=s("filter")(e.departments,{_id:t.department});return r.length?r[0].name:"未设置"}return"未设置"},e.users=[],e.getUsers=function(){e.myPromise=r.get(n.baseApiUrl+"users/100",{}).success(function(t){t["return"]&&"null"==t["return"]?e.users=[]:e.users=t}).error(function(e){i.error(e.messageFormatted)})},e.getUsers(),e.addUser=function(){e.inserted={link_id:"",name:"",cell:"",created:null,updated:null,apply:!0},e.users.push(e.inserted)},e.removeUser=function(t){r["delete"](n.baseApiUrl+"user/"+t).success(function(o){e.users=s("filter")(e.users,{_id:"!"+t}),r["delete"](n.baseApiUrl+"relationships/user/"+t).success(function(e){i.success("成功删除user 和 relationships")}).error(function(e){i.success("成功删除user, 但是删除 relationships失败")})}).error(function(e){i.error(e.messageFormatted)})},e.validate=function(e){return e?e.link_id?e.name?e.cell?!0:(i.error("手机不能为空!"),!1):(i.error("名字不能为空!"),!1):(i.error("Link ID 不能为空!"),!1):!1},e.saveUser=function(t){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"user/wechat/"+t.link_id,t).success(function(e){console.log(JSON.stringify(e)),e?i.success("成功更新"):i.error(error.messageFormatted)})):(t.password=t.cell,r.post(n.baseApiUrl+"user/wechat/"+t.link_id,t).success(function(t){return n.getErrorMessage(t)?(e.users.pop(),i.error(n.getErrorMessage(t))):(e.inserted=t,e.users.push(e.inserted),i.success("成功创建"),void e.users.splice(e.users.length-1,1))})))},e.open=function(e,s,r){t.myUser=r,o.open({animation:!0,templateUrl:e,controller:"userEditCtrl",size:s})}}e.$inject=["$scope","$rootScope","$filter","$http","util","toastr","$uibModal"],angular.module("BlurAdmin.cms.crm.user").controller("userCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.data=t.myUser,e.data.birthdate=new Date(e.data.birthdate),e.data.birthdate.buttonBar={show:!1,now:{show:!0,text:"Now"},today:{show:!0,text:"Today"},clear:{show:!0,text:"Clear"},date:{show:!0,text:"Date"},time:{show:!0,text:"Time"},close:{show:!0,text:"Close"}},e.openCalendar=function(t){t.preventDefault(),t.stopPropagation(),e.isOpen=!0},e.saveMe=function(t){r.patch(n.baseApiUrl+"user/wechat/"+t.link_id,t).success(function(e){console.log(JSON.stringify(e)),e?i.success("成功更新"):i.error(error.messageFormatted)}),e.closeMe()},e.closeMe=function(){t.myUser=null,e.$dismiss()}}e.$inject=["$scope","$rootScope","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.crm.user").controller("userEditCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o){e.search={},e.departments=[],e.loadDepartments=function(){r.get(i.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){o.error(e.messageFormatted)})},e.loadDepartments(),e.showDepartment=function(t){if(t.department&&e.departments.length){var r=s("filter")(e.departments,{_id:t.department});return r.length?r[0].name:"未设置"}return"未设置"},e.cats=[],e.getCats=function(t){e.myPromise=r.get(i.baseApiUrl+"pagecats",{department:t}).success(function(s){s["return"]&&"null"==s["return"]?e.cats=[]:e.cats=s,e.search.department=t}).error(function(e){o.error(e.messageFormatted)})},e.getCats(t.params.department),e.addCat=function(){e.inserted={department:e.search.department||"",name:"",desc:"",apply:!0},e.cats.unshift(e.inserted)},e.removeCat=function(t,n){r.get(i.baseApiUrl+"pages/cat/"+t).success(function(n){var a=i.getResponse(n);a&&a.length>0?o.error("不能被删除,请先删除与之关联的问卷调查。"):r["delete"](i.baseApiUrl+"pagecat/"+t).success(function(r){e.cats=s("filter")(e.cats,{_id:"!"+t}),o.success("成功删除")})})},e.validate=function(e){return e&&e.name?!0:(o.error("名字不能为空!"),!1)},e.saveCat=function(t,s,n){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(i.baseApiUrl+"pagecat/"+t._id,t).success(function(t){return i.getErrorMessage(t)?(e.cats.pop(),o.error(i.getErrorMessage(t))):void o.success("成功创建")})):r.post(i.baseApiUrl+"pagecat",t).success(function(s){return i.getErrorMessage(s)?(e.cats.pop(),o.error(i.getErrorMessage(s))):(e.inserted=s,e.cats.push(e.inserted),o.success("成功创建"),e.cats.splice(e.cats.length-1,1),void(t._id=s._id))}))},e.cancelCat=function(){e.cats&&e.cats.length>0&&e.cats.forEach(function(t,s){t._id||e.cats.splice(s,1)})},e.getPagesByCatId=function(e,s){t.go("education.page",{cat:e,department:s})}}e.$inject=["$scope","$state","$filter","$http","$q","util","toastr"],angular.module("BlurAdmin.cms.education.category").controller("educationCategoryCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o,a){e.search={};var l=function(){e.departments=[],e.loadDepartments=function(){n.get(i.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){o.error(e.messageFormatted)})},e.loadDepartments(),e.showDepartment=function(t){if(t.department&&e.departments.length){var s=r("filter")(e.departments,{_id:t.department});return s.length?s[0].name:"未设置"}return"未设置"},e.cats=[],e.loadPageCats=function(){n.get(i.baseApiUrl+"pagecats",{}).success(function(t){t["return"]&&"null"==t["return"]?e.cats=[]:e.cats=t}).error(function(e){o.error(e.messageFormatted)})},e.loadPageCats(),e.showCat=function(t){if(t.cat&&e.cats.length){var s=r("filter")(e.cats,{_id:t.cat});return s.length?s[0].name:"未设置"}return"未设置"}};l(),e.$on("$viewContentLoaded",function(){s.params.cat&&s.params.department&&(e.search.department=s.params.department,e.search.cat=s.params.cat)}),e.pages=[],e.getPages=function(){e.myPromise=n.get(i.baseApiUrl+"pages/cat/"+s.params.cat).success(function(t){t["return"]&&"null"==t["return"]?e.pages=[]:e.pages=t}).error(function(e){o.error(e.messageFormatted);
})},s.params.cat&&e.getPages(),e.addPage=function(){e.inserted={department:e.search.department,cat:e.search.cat,name:"",title:"",title_image:"",apply:!0},e.pages.push(e.inserted)},e.removePage=function(t,s){n["delete"](i.baseApiUrl+"page/"+t).success(function(s){e.pages=r("filter")(e.pages,{_id:"!"+t}),o.success("成功删除")})},e.validate=function(e){return e&&e.name?!0:(o.error("名字不能为空!"),!1)},e.savePage=function(t,s,r){e.validate(t)&&(t._id?(t.apply=t.apply||!1,n.patch(i.baseApiUrl+"page/"+s,t).success(function(e){e?o.success("成功更新"):o.error(error.messageFormatted)})):n.post(i.baseApiUrl+"page",t).success(function(s){return i.getErrorMessage(s)?(e.pages.pop(),o.error(i.getErrorMessage(s))):(e.inserted=s,e.pages.push(e.inserted),o.success("成功创建"),e.pages.splice(e.pages.length-1,1),void(t._id=s._id))}))},e.cancelPage=function(){e.pages&&e.pages.length>0&&e.pages.map(function(e){return!e._id})},e.open=function(t,s,r,n){e.editItem=r,e.editIndex=n,a.open({animation:!0,templateUrl:t,controller:"pageEditCtrl",size:s,scope:e,backdrop:"static"})},e.updateParent=function(t){e.pages[e.editIndex]=t},e.backToCats=function(){s.go("education.category",{department:s.params.department})}}e.$inject=["$scope","$rootScope","$state","$filter","$http","util","toastr","$uibModal"],angular.module("BlurAdmin.cms.education.page").controller("pageCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.preview=!1,e.savePage=function(){var t=angular.copy(e.editItem);r.patch(n.baseApiUrl+"page/"+t._id,t).success(function(t){t?"error"==t["return"]?i.error(t.message):(i.success("成功更新"),e.editItem=t,e.updateParent(e.editItem),e.closeMe()):i.error("错误")})},e.closeMe=function(){e.$dismiss()},e.textAreaSetup=function(e){e.attr("ui-codemirror","")},e.previewToggle=function(){e.preview=!e.preview}}e.$inject=["$scope","$rootScope","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.education.page").controller("pageEditCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.departments=[],e.getDepartments=function(){e.myPromise=r.get(n.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){i.error(e.messageFormatted)})},e.getDepartments(),e.addDepartment=function(){e.inserted={name:"",desc:"",order:0,apply:!0},e.departments.push(e.inserted)},e.removeDepartment=function(t,o){r.get(n.baseApiUrl+"diseases/"+t).success(function(o){var a=n.getResponse(o);a&&a.length>0?i.error("不能被删除,请先删除与之关联的疾病类型。"):r["delete"](n.baseApiUrl+"department/"+t).success(function(r){e.departments=s("filter")(e.departments,{_id:"!"+t}),i.success("成功删除")})})},e.validate=function(e){return e&&e.name?!0:(i.error("名字不能为空!"),!1)},e.saveDepartment=function(t,s,o){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"department/"+s,t).success(function(e){e?i.success("成功更新"):i.error(error.messageFormatted)})):r.post(n.baseApiUrl+"department",t).success(function(t){return n.getErrorMessage(t)?(e.departments.pop(),i.error(n.getErrorMessage(t))):(e.inserted=t,e.departments.push(e.inserted),i.success("成功创建"),void e.departments.splice(e.departments.length-1,1))}))},e.getDiseasesByDepartmentId=function(e){t.go("hospital.disease",{department:e})}}e.$inject=["$scope","$state","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.hospital.department").controller("departmentCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.search={},e.departments=[],e.loadDepartments=function(){r.get(n.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){i.error(e.messageFormatted)})},e.loadDepartments(),e.diseases=[],e.getDiseases=function(){e.myPromise=r.get(n.baseApiUrl+"diseases",{}).success(function(t){t["return"]&&"null"==t["return"]?e.diseases=[]:e.diseases=t}).error(function(e){i.error(e.messageFormatted)})},e.getDiseases(),e.showDepartment=function(t){if(t.department&&e.departments.length){var r=s("filter")(e.departments,{_id:t.department});return r.length?r[0].name:"未设置"}return"未设置"},e.$on("$viewContentLoaded",function(){t.params.department&&(i.info(t.params.department),e.search.department=t.params.department)}),e.addDisease=function(){e.inserted={department:e.search.department||null,name:"",desc:"",order:0,apply:!0},e.diseases.push(e.inserted)},e.removeDisease=function(t){r.get(n.baseApiUrl+"diseases/"+t).success(function(o){var a=n.getResponse(o);a&&a.length>0?i.error("不能被删除,请先删除与之关联的疾病类型。"):r["delete"](n.baseApiUrl+"disease/"+t).success(function(r){e.diseases=s("filter")(e.diseases,{_id:"!"+t}),i.success("成功删除")})})},e.validate=function(e){return e&&e.name?e.department?!0:(i.error("医院科室不能为空!"),!1):(i.error("名字不能为空!"),!1)},e.saveDisease=function(t,s){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"disease/"+s,t).success(function(e){e?i.success("成功更新"):i.error(error.messageFormatted)})):r.post(n.baseApiUrl+"disease",t).success(function(t){return n.getErrorMessage(t)?(e.diseases.pop(),i.error(n.getErrorMessage(t))):(e.inserted=t,e.diseases.push(e.inserted),i.success("成功创建"),void e.diseases.splice(e.diseases.length-1,1))}))}}e.$inject=["$scope","$state","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.hospital.disease").controller("diseaseCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o){e.usages=[{text:"内服",value:"0"},{text:"外用",value:"1"}],e.showUsage=function(t){var r=[];return t.usage>-1&&(r=s("filter")(e.usages,{value:t.usage})),r.length?r[0].text:"空"},e.ways=[{text:"饭后",value:"1"},{text:"饭前",value:"2"},{text:"饭中",value:"3"},{text:"睡前",value:"4"},{text:"每4小时",value:"5"},{text:"每8小时",value:"6"},{text:"每12小时",value:"7"},{text:"每天",value:"8"},{text:"隔天",value:"9"}],e.showDosageWay=function(t){var r=[];return t.dosage.way>0&&(r=s("filter")(e.ways,{value:t.dosage.way})),r.length?r[0].text:"空"},e.medicines=[],e.getMedicines=function(){e.myPromise=r.get(n.baseApiUrl+"medicines",{}).success(function(t){t["return"]&&"null"==t["return"]?e.medicines=[]:e.medicines=t}).error(function(e){i.error(e.messageFormatted)})},e.getMedicines(),e.addMedicine=function(){e.inserted={name:"",desc:"",capacity:0,usage:"0",dosage:{frequency:0,way:"0"},apply:!0},e.medicines.push(e.inserted)},e.removeMedicine=function(t,o){r["delete"](n.baseApiUrl+"medicine/"+t).success(function(r){e.medicines=s("filter")(e.medicines,{_id:"!"+t}),i.success("成功删除")})},e.validate=function(e){return e&&e.name?!0:(i.error("名字不能为空!"),!1)},e.saveMedicine=function(t,s,o){e.validate(t)&&(t.dosage={frequency:t.frequency,way:t.way},t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"medicine/"+s,t).success(function(e){e?i.success("成功更新"):i.error(error.messageFormatted)})):r.post(n.baseApiUrl+"medicine",t).success(function(s){return n.getErrorMessage(s)?(e.medicines.pop(),i.error(n.getErrorMessage(s))):(e.inserted=s,e.medicines.push(e.inserted),i.success("成功创建"),e.medicines.splice(e.medicines.length-1,1),void(t._id=s._id))}))},e.open=function(t,s,r,n){e.editItem=r,e.editIndex=n,o.open({animation:!0,templateUrl:t,controller:"medicineEditCtrl",size:s,scope:e})},e.updateParent=function(t){e.medicines[e.editIndex]=t}}e.$inject=["$scope","$state","$filter","$http","util","toastr","$uibModal"],angular.module("BlurAdmin.cms.hospital.medicine").controller("medicineCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.item=angular.copy(e.editItem),e.editN={notices:[]},e.editStatus=0,e.editNIndex=-1,e.saveNotice=function(t){if(!e.editNForm.$invalid){switch(e.editStatus){case 1:e.item.notices.push(angular.copy(e.editN));break;case 2:e.item.notices[e.editNIndex]=angular.copy(e.editN)}e.editStatus=0,e.editNIndex=-1}},e.saveMedicine=function(){var t=angular.copy(e.item);i.info(JSON.stringify(t)),r.patch(n.baseApiUrl+"medicine/"+t._id,t).success(function(t){t?"error"==t["return"]?i.error(t.message):(i.success("成功更新"),e.editItem=t,e.updateParent(e.editItem),e.closeMe()):i.error("错误")})},e.closeMe=function(){e.$dismiss()},e.createNotice=function(){e.editStatus=1,e.editNIndex=-1,e.editN.notice="",e.editN.days_to_start=0,e.editN.during=0,e.editQ.require_confirm=!1,e.editN.apply=!0},e.editNotice=function(t,s){e.editStatus=2,e.editNIndex=s,e.editN=angular.copy(t)},e.removeNotice=function(t){e.item.notices.splice(t,1)}}e.$inject=["$scope","$rootScope","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.hospital.medicine").controller("medicineEditCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n){e.departments=[],e.loadDepartments=function(){s.get(r.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){n.error(e.messageFormatted)})},e.loadDepartments(),e.diseases=[],e.getDiseases=function(){s.get(r.baseApiUrl+"diseases",{}).success(function(t){t["return"]&&"null"==t["return"]?e.diseases=[]:e.diseases=t}).error(function(e){n.error(e.messageFormatted)})},e.getDiseases(),e.showDepartment=function(s){if(s.department&&e.departments.length){var r=t("filter")(e.departments,{_id:s.department});return r.length?r[0].name:"未设置"}return"未设置"},e.addDisease=function(){e.inserted={department:null,name:"",desc:"",order:0,apply:!0},e.diseases.push(e.inserted)},e.removeDisease=function(i){s.get(r.baseApiUrl+"diseases/"+i).success(function(o){var a=r.getResponse(o);a&&a.length>0?n.error("不能被删除,请先删除与之关联的疾病类型。"):s["delete"](r.baseApiUrl+"disease/"+i).success(function(s){e.symptoms=t("filter")(e.symptoms,{_id:"!"+i}),n.success("成功删除")})})},e.validate=function(e){return e&&e.name?e.department?!0:(n.error("医院科室不能为空!"),!1):(n.error("名字不能为空!"),!1)},e.saveDisease=function(t,i){e.validate(t)&&(t._id?(t.apply=t.apply||!1,s.patch(r.baseApiUrl+"disease/"+i,t).success(function(e){e?n.success("成功更新"):n.error(error.messageFormatted)})):s.post(r.baseApiUrl+"disease",t).success(function(t){return r.getErrorMessage(t)?(e.diseases.pop(),n.error(r.getErrorMessage(t))):(e.inserted=t,e.diseases.push(e.inserted),n.success("成功创建"),void e.diseases.splice(e.diseases.length-1,1))}))}}e.$inject=["$scope","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.hospital.symptom").controller("symptomCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.search={},e.chatrooms=[],e.loadChatrooms=function(){r.get(n.baseApiUrl+"chatrooms",{}).success(function(t){t["return"]&&"null"==t["return"]?e.chatrooms=[]:e.chatrooms=t}).error(function(e){i.error(e.messageFormatted)})},e.loadChatrooms(),e.showChatroom=function(t){if(t.chatroom&&e.chatrooms.length){var r=s("filter")(e.chatrooms,{_id:t.chatroom});return r.length?r[0].name:"未设置"}return"未设置"},e.chats=[],e.getChats=function(){e.myPromise=r.get(n.baseApiUrl+"chats",{}).success(function(t){t["return"]&&"null"==t["return"]?e.chats=[]:e.chats=t}).error(function(e){i.error(e.messageFormatted)})},e.getChats(),e.$on("$viewContentLoaded",function(){t.params.chatroom&&(e.search.chatroom=t.params.chatroom)}),e.addChat=function(){e.inserted={chatroom:e.search.chatroom||null,name:"",direction:0,data:""},e.chats.push(e.inserted)},e.removeChat=function(t){r["delete"](n.baseApiUrl+"chat/"+t).success(function(r){e.chats=s("filter")(e.chats,{_id:"!"+t}),i.success("成功删除")})},e.validate=function(e){return e.chatroom?e&&e.data?!0:(i.error("聊天内容不能为空!"),!1):(i.error("聊天室不能为空!"),!1)},e.saveChat=function(t,s){e.validate(t)&&(s?r.patch(n.baseApiUrl+"chat/"+s,t).success(function(e){e?i.success("成功更新"):i.error(error.messageFormatted)}).error(function(e){i.error(e.messageFormatted)}):r.post(n.baseApiUrl+"chat",t).success(function(t){return n.getErrorMessage(t)?(e.chats.pop(),i.error(n.getErrorMessage(t))):(e.inserted=t,e.chats.push(e.inserted),i.success("成功创建"),void e.chats.splice(e.chats.length-1,1))}))},e.deleteChatroomContent=function(){return e.search.chatroom?void r["delete"](n.baseApiUrl+"chats/chatroom/"+e.search.chatroom).success(function(t){e.chats=s("filter")(e.chats,{chatroom:"!"+e.search.chatroom}),r["delete"](n.baseApiUrl+"chatroom/"+e.search.chatroom).success(function(t){e.chatrooms=s("filter")(e.chatrooms,{_id:"!"+e.search.chatroom}),i.success("成功删除")})}):i.warn("请先选择一个聊天室")}}e.$inject=["$scope","$state","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.im.chat").controller("chatCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.chatrooms=[],e.getChatrooms=function(){r.get(n.baseApiUrl+"chatrooms",{}).success(function(t){t["return"]&&"null"==t["return"]?e.chatrooms=[]:e.chatrooms=t}).error(function(e){i.error(e.messageFormatted)})},e.getChatrooms(),e.goChat=function(e){t.go("im.chat",{chatroom:e})}}e.$inject=["$scope","$state","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.im.chatroom").controller("chatroomCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.search={},e.departments=[],e.loadDepartments=function(){r.get(n.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){i.error(e.messageFormatted)})},e.loadDepartments(),e.doctors=[],e.loadDoctors=function(){r.get(n.baseApiUrl+"doctors/1000",{}).success(function(t){t["return"]&&"null"==t["return"]?e.doctors=[]:e.doctors=t}).error(function(e){i.error(e.messageFormatted)})},e.loadDoctors(),e.showDoctor=function(t){if(t.doctor&&e.doctors.length){var r=s("filter")(e.doctors,{_id:t.doctor});return r.length?r[0].name:"未设置"}return"未设置"},e.schedules=[],e.loadSchedules=function(){r.get(n.baseApiUrl+"schedules/cms/populated").success(function(t){t["return"]&&"null"==t["return"]?e.schedules=[]:e.schedules=t}).error(function(e){i.error(e.messageFormatted)})},e.loadSchedules(),e.showSchedule=function(t){if(t.schedule&&e.schedules.length){var r=s("filter")(e.schedules,{_id:t.schedule});return r.length?new Date(r[0].date).toISOString().slice(0,10)+" "+r[0].period.name:"未设置"}return"未设置"},e.users=[],e.loadUsers=function(){r.get(n.baseApiUrl+"users/1000",{}).success(function(t){t["return"]&&"null"==t["return"]?e.users=[]:e.users=t}).error(function(e){i.error(e.messageFormatted)})},e.loadUsers(),e.showUser=function(t){if(t.user&&e.users.length){var r=s("filter")(e.users,{_id:t.user});return r.length?r[0].name:"未设置"}return"未设置"},e.bookings=[],e.getBookings=function(){e.myPromise=r.get(n.baseApiUrl+"bookings",{}).success(function(t){t["return"]&&"null"==t["return"]?e.bookings=[]:e.bookings=t}).error(function(e){i.error(e.messageFormatted)})},e.getBookings(),e.$on("$viewContentLoaded",function(){t.params.schedule&&(i.info(t.params.schedule),e.search.schedule=t.params.schedule)}),e.addBooking=function(){e.inserted={doctor:null,schedule:null,user:null,status:"",score:0,created:""},e.bookings.push(e.inserted)},e.removeBooking=function(t){r["delete"](n.baseApiUrl+"booking/"+t).success(function(r){e.bookings=s("filter")(e.bookings,{_id:"!"+t}),i.success("成功删除")}).error(function(e){i.error(e.messageFormatted)})},e.validate=function(e){return e?e.doctor?e.schedule?e.user?e.status?!0:(i.error("状态不能为空!"),!1):(i.error("用户不能为空!"),!1):(i.error("预约不能为空!"),!1):(i.error("药师 不能为空!"),!1):!1},e.saveBooking=function(t){e.validate(t)&&(t._id?r.patch(n.baseApiUrl+"booking/"+t._id,t).success(function(e){e?i.success("成功更新"):i.error("no data")}):r.post(n.baseApiUrl+"booking",t).success(function(t){return n.getErrorMessage(t)?(e.bookings.pop(),i.error(n.getErrorMessage(t))):(e.inserted=t,e.bookings.push(e.inserted),i.success("成功创建"),void e.bookings.splice(e.bookings.length-1,1))}))}}e.$inject=["$scope","$state","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.reservation.booking").controller("bookingCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n){e.schedule={},e.$watch("schedule.periods",function(){$("#selectPeriods").selectpicker("refresh")}),e.schedule.limit=20,e.schedule.startDate={date:new Date,datepickerOptions:{maxDate:null},open:!1},e.schedule.endDate={date:new Date,datepickerOptions:{minDate:null},open:!1},e.schedule.endDate.date.setDate(e.schedule.endDate.date.getDate()+1),e.openCalendar=function(t,s){e.schedule[s].open=!0};var i=e.$watch(function(){return[e.schedule.startDate,e.schedule.endDate]},function(){if(e.schedule.startDate.datepickerOptions.maxDate=e.schedule.endDate.date,e.schedule.endDate.datepickerOptions.minDate=e.schedule.startDate.date,e.schedule.startDate.date&&e.schedule.endDate.date){var t=e.schedule.startDate.date.getTime()-e.schedule.endDate.date.getTime();e.schedule.dayRange=Math.round(Math.abs(t/864e5))}else e.schedule.dayRange="n/a"},!0);e.$on("$destroy",function(){i()}),e.doctor=null,e.schedule.days={sunday:!1,monday:!0,tuesday:!0,wednesday:!0,thursday:!0,friday:!0,saturday:!1},s.get(r.baseApiUrl+"doctor/"+e.search.doctor).success(function(t){t["return"]&&"null"==t["return"]?e.doctor=null:e.doctor=t}),e.getAvailableDates=function(){for(var t=[],s=0;s<e.schedule.dayRange;s++)t.push(new Date(new Date(e.schedule.startDate.date).getTime()+24*s*60*60*1e3));return t.filter(function(t){switch(t.getDay()){case 0:return e.schedule.days.sunday;case 1:return e.schedule.days.monday;case 2:return e.schedule.days.tuesday;case 3:return e.schedule.days.wednesday;case 4:return e.schedule.days.monday;case 5:return e.schedule.days.friday;case 6:return e.schedule.days.saturday;default:return!1}})},e.createSchedule=function(t,i){var o={doctor:e.doctor._id,period:i._id,date:t,limit:e.schedule.limit};s.post(r.baseApiUrl+"schedule",o).success(function(e){n.info(JSON.stringify(e))}).error(function(e){n.error(JSON.stringify(e))})},e.saveMe=function(t){if(!e.schedule.periods||e.schedule.periods.length<1)return void n.error("请选择有效门诊时间片");if("n/a"==e.schedule.dayRange)return void n.error("请选择有效日期范围");var s=e.getAvailableDates();s.map(function(t){e.schedule.periods.map(function(s){e.createSchedule(t,s)})})},e.closeMe=function(){e.$dismiss()}}e.$inject=["$scope","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.reservation.schedule").controller("scheduleCreateCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o,a){e.search={},e.departments=[],e.loadDepartments=function(){n.get(i.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){o.error(e.messageFormatted)})},e.loadDepartments(),e.doctors=[],e.loadDoctors=function(){n.get(i.baseApiUrl+"doctors/1000",{}).success(function(t){t["return"]&&"null"==t["return"]?e.doctors=[]:e.doctors=t}).error(function(e){o.error(e.messageFormatted)})},e.loadDoctors(),e.showDoctor=function(t){if(t.doctor&&e.doctors.length){var s=r("filter")(e.doctors,{_id:t.doctor});return s.length?s[0].name:"未设置"}return"未设置"},e.periods=[],e.loadPeriods=function(){n.get(i.baseApiUrl+"periods").success(function(t){t["return"]&&"null"==t["return"]?e.periods=[]:e.periods=t}).error(function(e){o.error(e.messageFormatted)})},e.loadPeriods(),e.showPeriod=function(t){if(t.period&&e.periods.length){var s=r("filter")(e.periods,{_id:t.period});return s.length?s[0].name:"未设置"}return"未设置"},e.schedules=[],e.getSchedules=function(){e.myPromise=n.get(i.baseApiUrl+"schedules",{}).success(function(t){t["return"]&&"null"==t["return"]?e.schedules=[]:e.schedules=t}).error(function(e){o.error(e.messageFormatted)})},e.getSchedules(),e.opened={},e.addSchedules=function(){e.inserted={doctor:e.search.doctor||null,period:null,date:"",limit:0,apply:!0},e.schedules.push(e.inserted)},e.removeSchedule=function(t){n.get(i.baseApiUrl+"bookings/schedule/"+t).success(function(s){var a=i.getResponse(s);a&&a.length>0?o.error("不能被删除,请先删除与之关联的预约booking。"):n["delete"](i.baseApiUrl+"schedule/"+t).success(function(s){e.schedules=r("filter")(e.schedules,{_id:"!"+t}),o.success("成功删除")})}).error(function(e){o.error(e.messageFormatted)})},e.validate=function(e){return e?e.doctor?e.period?e.date?!0:(o.error("日期不能为空!"),!1):(o.error("名字不能为空!"),!1):(o.error("药师 不能为空!"),!1):!1},e.saveSchedule=function(t,s){e.validate(t)&&(t._id?n.patch(i.baseApiUrl+"schedule/"+t._id,t).success(function(e){e?o.success("成功更新"):o.error("no data")}):n.post(i.baseApiUrl+"schedule",t).success(function(t){return i.getErrorMessage(t)?(e.schedules.pop(),o.error(i.getErrorMessage(t))):(e.inserted=t,e.schedules.push(e.inserted),o.success("成功创建"),void e.schedules.splice(e.schedules.length-1,1))}))},e.getScheduleDetails=function(e){t.go("reservation.booking",{schedule:e})},e.open=function(t,s,r){return r?(e.selectedDoctorId=r,void a.open({animation:!0,templateUrl:t,controller:"scheduleCreateCtrl",scope:e,size:s})):o.warning("请先选择一个药师")}}e.$inject=["$scope","$state","$rootScope","$filter","$http","util","toastr","$uibModal"],angular.module("BlurAdmin.cms.reservation.schedule").controller("scheduleCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o){e.search={},e.departments=[],e.loadDepartments=function(){r.get(i.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){o.error(e.messageFormatted)})},e.loadDepartments(),e.showDepartment=function(t){if(t.department&&e.departments.length){var r=s("filter")(e.departments,{_id:t.department});return r.length?r[0].name:"未设置"}return"未设置"},e.cats=[],e.getCats=function(t){e.myPromise=r.get(i.baseApiUrl+"surveycats",{department:t}).success(function(s){s["return"]&&"null"==s["return"]?e.cats=[]:e.cats=s,e.search.department=t}).error(function(e){o.error(e.messageFormatted)})},e.getCats(t.params.department),e.addCat=function(){e.inserted={department:"",name:"",desc:"",apply:!0},e.cats.push(e.inserted)},e.removeCat=function(t,n){r.get(i.baseApiUrl+"surveys/cat/"+t).success(function(n){var a=i.getResponse(n);a&&a.length>0?o.error("不能被删除,请先删除与之关联的问卷调查。"):r["delete"](i.baseApiUrl+"surveycat/"+t).success(function(r){e.cats=s("filter")(e.cats,{_id:"!"+t}),o.success("成功删除")})})},e.validate=function(e){return e&&e.name?!0:(o.error("名字不能为空!"),!1)},e.saveCat=function(t,s,n){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(i.baseApiUrl+"surveycat/"+t._id,t).success(function(t){return i.getErrorMessage(t)?(e.cats.pop(),o.error(i.getErrorMessage(t))):void o.success("成功创建")})):r.post(i.baseApiUrl+"surveycat",t).success(function(s){return i.getErrorMessage(s)?(e.cats.pop(),o.error(i.getErrorMessage(s))):(e.inserted=s,e.cats.push(e.inserted),o.success("成功创建"),e.cats.splice(e.cats.length-1,1),void(t._id=s._id))}))},e.cancelCat=function(){e.cats&&e.cats.length>0&&e.cats.map(function(e){return!e._id})},e.getSurveysByCatId=function(e,s){t.go("survey.survey",{cat:e,department:s})};var a=[{name:"门诊预约后",desc:"线上门诊预约后发送给病患"},{name:"处方或重组后",desc:"药师开处方或医嘱重组后发送给病患"}];e.createDefaultCatsByDepartment=function(t){r.get(i.baseApiUrl+"surveycats/department/"+t).success(function(s){var l=i.getResponse(s);if(l&&l.length>0)for(var d=0;d<l.length;d++)if(l[d]&&l[d].fixed)return void o.warning("该科室的固定类别已经创建。");for(var c,u=[],d=0;d<a.length;d++)c={department:t,name:a[d].name,desc:a[d].desc,fixed:!0},u.push(r.post(i.baseApiUrl+"surveycat",c).success(function(t){e.cats.push(t)}));n.all(u).then(function(e){o.success("成功创建固定类别")})})}}e.$inject=["$scope","$state","$filter","$http","$q","util","toastr"],angular.module("BlurAdmin.cms.survey.category").controller("surveyCategoryCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.groups=[],e.getGroups=function(){e.myPromise=r.get(n.baseApiUrl+"surveygroups",{}).success(function(t){t["return"]&&"null"==t["return"]?e.groups=[]:e.groups=t}).error(function(e){i.error(e.messageFormatted)})},e.getGroups(),e.addGroup=function(){e.inserted={name:"",desc:"",surveys:[],apply:!0},e.groups.push(e.inserted)},e.removeGroup=function(t,o){r["delete"](n.baseApiUrl+"surveygroup/"+t).success(function(r){e.groups=s("filter")(e.groups,{_id:"!"+t}),i.success("成功删除")})},e.validate=function(e){return e&&e.name?!0:(i.error("名字不能为空!"),!1)},e.saveGroup=function(t,s,o){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"surveygroup/"+s,t).success(function(e){e?i.success("成功更新"):i.error(error.messageFormatted)})):r.post(n.baseApiUrl+"surveygroup",t).success(function(s){return n.getErrorMessage(s)?(e.groups.pop(),i.error(n.getErrorMessage(s))):(e.inserted=s,e.groups.push(e.inserted),i.success("成功创建"),e.groups.splice(e.groups.length-1,1),void(t._id=s._id))}))}}e.$inject=["$scope","$state","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.survey.group").controller("surveyGroupCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o,a){e.search={};var l=function(){n.get(i.baseApiUrl+"department/"+s.params.department).success(function(t){t["return"]&&"null"==t["return"]?e.department=null:e.department=t}).error(function(e){o.error(e.messageFormatted)}),n.get(i.baseApiUrl+"surveycat/"+s.params.cat).success(function(t){t["return"]&&"null"==t["return"]?e.cat=null:e.cat=t}).error(function(e){o.error(e.messageFormatted)})};l(),e.surveys=[],e.getSurveys=function(){e.myPromise=n.get(i.baseApiUrl+"surveys/cat/"+s.params.cat).success(function(t){t["return"]&&"null"==t["return"]?e.surveys=[]:e.surveys=t}).error(function(e){o.error(e.messageFormatted)})},e.getSurveys(),e.showQuestions=function(e){var t="";if(e&&e.length>0)for(var s=0;s<e.length;s++)t+=e[s].order+". "+e[s].question+"\n";return t},e.addSurvey=function(){e.inserted={name:"",department:s.params.department,cat:s.params.cat,surveys:[],apply:!0},e.surveys.push(e.inserted)},e.removeSurvey=function(t,s){n["delete"](i.baseApiUrl+"survey/"+t).success(function(s){e.surveys=r("filter")(e.surveys,{_id:"!"+t}),o.success("成功删除")})},e.validate=function(e){return e&&e.name?!0:(o.error("名字不能为空!"),!1)},e.saveSurvey=function(t,s,r){e.validate(t)&&(t._id?(t.apply=t.apply||!1,n.patch(i.baseApiUrl+"survey/"+s,t).success(function(e){e?o.success("成功更新"):o.error(error.messageFormatted)})):n.post(i.baseApiUrl+"survey",t).success(function(s){return i.getErrorMessage(s)?(e.surveys.pop(),o.error(i.getErrorMessage(s))):(e.inserted=s,e.surveys.push(e.inserted),o.success("成功创建"),e.surveys.splice(e.surveys.length-1,1),void(t._id=s._id))}))},e.cancelSurvey=function(){e.surveys&&e.surveys.length>0&&e.surveys.map(function(e){return void 0!==e._id})},e.open=function(t,s,r,n){e.editItem=r,e.editIndex=n,a.open({animation:!0,templateUrl:t,controller:"surveyEditCtrl",size:s,scope:e})},e.updateParent=function(t){e.surveys[e.editIndex]=t},e.backToCats=function(){s.go("survey.category",{department:s.params.department})}}e.$inject=["$scope","$rootScope","$state","$filter","$http","util","toastr","$uibModal"],angular.module("BlurAdmin.cms.survey.survey").controller("surveyCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i){e.questions=angular.copy(e.editItem.questions||[]),e.editQ={options:[]},e.editStatus=0,e.editQIndex=-1,e.saveQuestion=function(t){if(!e.editQForm.$invalid){switch(e.editStatus){case 1:e.questions.push(angular.copy(e.editQ));break;case 2:e.questions[e.editQIndex]=angular.copy(e.editQ)}e.editStatus=0,e.editQIndex=-1}},e.saveSurvey=function(){var t=angular.copy(e.editItem);t.questions=e.questions,r.patch(n.baseApiUrl+"survey/"+t._id,t).success(function(t){t?"error"==t["return"]?i.error(t.message):(i.success("成功更新"),e.editItem=t,e.updateParent(e.editItem),e.closeMe()):i.error("错误")})},e.closeMe=function(){e.$dismiss()},e.createQuestion=function(){e.editStatus=1,e.editQIndex=-1,e.editQ._id=void 0,e.editQ.question="",e.editQ.answer_type=-1,e.editQ.apply=!0,e.editQ.optionNumber=0,e.editQ.order=0,e.editQ.weight=0,e.editQ.required=!1},e.editQuestion=function(t,s){e.editStatus=2,e.editQIndex=s,e.editQ=angular.copy(t),e.editQ.answer_type=e.editQ.answer_type.toString(),e.changeEditAnswerType()},e.removeQuestion=function(t){e.questions.splice(t,1)},e.changeEditAnswerType=function(){switch(e.editQ.answer_type){case"0":e.editQ.optionNumber=2;break;case"1":case"2":(!e.editQ.optionNumber||e.editQ.optionNumber<3)&&(e.editQ.optionNumber=3);break;case"3":e.editQ.optionNumber=1;break;default:e.editQ.optionNumber=0}e.changeEditOptionNumber()},e.changeEditOptionNumber=function(){var t=e.editQ.optionNumber-e.editQ.options.length;if(t>0)if(0==e.editQ.answer_type)e.editQ.options.push({answer:"是",addition_text:!1,weight:0}),e.editQ.options.push({answer:"不是",addition_text:!1,weight:0});else for(var s=0;t>s;s++)e.editQ.options.push({answer:"",addition_text:!1,weight:0});else if(0>t)for(var s=0;0-t>s;s++)e.editQ.options.pop()}}e.$inject=["$scope","$rootScope","$filter","$http","util","toastr"],angular.module("BlurAdmin.cms.survey.survey").controller("surveyEditCtrl",e)}(),function(){"use strict";function e(e,t){return angular.extend({},e,{template:function(s,r){var n='<div  class="panel '+(t.theme.blur?"panel-blur":"")+" full-invisible "+(r.baPanelClass||"");return n+='" zoom-in '+(t.theme.blur?"ba-panel-blur":"")+">",n+=e.template(s,r),n+="</div>"}})}e.$inject=["baPanel","baConfig"],angular.module("BlurAdmin.theme").directive("baPanel",e)}(),function(){"use strict";function e(){return{restrict:"A",transclude:!0,template:function(e,t){var s='<div class="panel-body" ng-transclude></div>';if(t.baPanelTitle){var r='<div class="panel-heading clearfix"><h3 class="panel-title">'+t.baPanelTitle+"</h3></div>";s=r+s}return s}}}angular.module("BlurAdmin.theme").factory("baPanel",e)}(),function(){"use strict";function e(e,t,s){var r;return e.bodyBgLoad().then(function(){r=e.getBodyBgImageSizes()}),t.addEventListener("resize",function(){r=e.getBodyBgImageSizes()}),{restrict:"A",link:function(n,i){function o(){r&&i.css({backgroundSize:Math.round(r.width)+"px "+Math.round(r.height)+"px",backgroundPosition:Math.floor(r.positionX)+"px "+Math.floor(r.positionY)+"px"})}s.$isMobile||(e.bodyBgLoad().then(function(){setTimeout(o)}),t.addEventListener("resize",o),n.$on("$destroy",function(){t.removeEventListener("resize",o)}))}}}e.$inject=["baPanelBlurHelper","$window","$rootScope"],angular.module("BlurAdmin.theme").directive("baPanelBlur",e)}(),function(){"use strict";function e(e){var t=e.defer(),s=getComputedStyle(document.body,":before"),r=new Image;r.src=s.backgroundImage.replace(/url\((['"])?(.*?)\1\)/gi,"$2"),r.onerror=function(){t.reject()},r.onload=function(){t.resolve()},this.bodyBgLoad=function(){return t.promise},this.getBodyBgImageSizes=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;if(!(640>=e)){var s,n,i=r.height/r.width,o=t/e;return o>i?(s=t,n=t/i):(n=e,s=e*i),{width:n,height:s,positionX:(e-n)/2,positionY:(t-s)/2}}}}e.$inject=["$q"],angular.module("BlurAdmin.theme").service("baPanelBlurHelper",e)}(),function(){"use strict";function e(e){return angular.extend({},e,{link:function(e,t,s){t.addClass("panel panel-white"),s.baPanelClass&&t.addClass(s.baPanelClass)}})}e.$inject=["baPanel"],angular.module("BlurAdmin.theme").directive("baPanelSelf",e)}(),function(){"use strict";function e(e,t){e.menuItems=t.getMenuItems(),e.defaultSidebarState=e.menuItems[0].stateRef,e.hoverItem=function(t){e.showHoverElem=!0,e.hoverElemHeight=t.currentTarget.clientHeight;var s=66;e.hoverElemTop=t.currentTarget.getBoundingClientRect().top-s},e.$on("$stateChangeSuccess",function(){t.canSidebarBeHidden()&&t.setMenuCollapsed(!0)})}e.$inject=["$scope","baSidebarService"],angular.module("BlurAdmin.theme.components").controller("BaSidebarCtrl",e)}(),function(){"use strict";function e(e,t,s,r){var n=$(window);return{restrict:"E",templateUrl:"app/theme/components/baSidebar/ba-sidebar.html",controller:"BaSidebarCtrl",link:function(r,i){function o(r){s.isDescendant(i[0],r.target)||r.originalEvent.$sidebarEventProcessed||t.isMenuCollapsed()||!t.canSidebarBeHidden()||(r.originalEvent.$sidebarEventProcessed=!0,e(function(){t.setMenuCollapsed(!0)},10))}function a(){var e=t.shouldMenuBeCollapsed(),s=l();(e!=t.isMenuCollapsed()||r.menuHeight!=s)&&r.$apply(function(){r.menuHeight=s,t.setMenuCollapsed(e)})}function l(){return i[0].childNodes[0].clientHeight-84}r.menuHeight=i[0].childNodes[0].clientHeight-84,n.on("click",o),n.on("resize",a),r.$on("$destroy",function(){n.off("click",o),n.off("resize",a)})}}}e.$inject=["$timeout","baSidebarService","baUtil","layoutSizes"],angular.module("BlurAdmin.theme.components").directive("baSidebar",e)}(),function(){
"use strict";function e(){var e=[];this.addStaticItem=function(){e.push.apply(e,arguments)},this.$get=["$state","layoutSizes",function(t,s){function r(){function r(){return t.get().filter(function(e){return e.sidebarMeta}).map(function(e){var t=e.sidebarMeta;return{name:e.name,title:e.title,level:(e.name.match(/\./g)||[]).length,order:t.order,icon:t.icon,stateRef:e.name,minRole:e.minRole}}).sort(function(e,t){return 100*(e.level-t.level)+e.order-t.order})}function n(){return window.innerWidth<=s.resWidthCollapseSidebar}function i(){return window.innerWidth<=s.resWidthHideSidebar}var o=n();this.getMenuItems=function(){var t=r(),s=t.filter(function(e){return 0==e.level});return s.forEach(function(e){var s=t.filter(function(t){return 1==t.level&&0===t.name.indexOf(e.name)});e.subMenu=s.length?s:null}),s.concat(e)},this.shouldMenuBeCollapsed=n,this.canSidebarBeHidden=i,this.setMenuCollapsed=function(e){o=e},this.isMenuCollapsed=function(){return o},this.toggleMenuCollapsed=function(){o=!o},this.getAllStateRefsRecursive=function(e){function t(e){e.subMenu&&e.subMenu.forEach(function(e){e.stateRef&&s.push(e.stateRef),t(e)})}var s=[];return t(e),s}}return new r}],this.$get.$inject=["$state","layoutSizes"]}angular.module("BlurAdmin.theme.components").provider("baSidebarService",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,s){s.on("click",function(s){s.originalEvent.$sidebarEventProcessed=!0,t.$apply(function(){e.toggleMenuCollapsed()})})}}}function t(e){return{restrict:"A",link:function(t,s){s.on("click",function(s){s.originalEvent.$sidebarEventProcessed=!0,e.isMenuCollapsed()||t.$apply(function(){e.setMenuCollapsed(!0)})})}}}function s(){return{restrict:"A",controller:"BaSidebarTogglingItemCtrl"}}function r(e,t,s,r,n){function i(e){return e&&l.some(function(t){return 0==e.name.indexOf(t)})}var o=this,a=o.$$menuItem=e.$eval(s.baSidebarTogglingItem);if(a&&a.subMenu&&a.subMenu.length){o.$$expandSubmenu=function(){console.warn("$$expandMenu should be overwritten by baUiSrefTogglingSubmenu")},o.$$collapseSubmenu=function(){console.warn("$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu")};var l=n.getAllStateRefsRecursive(a);o.$expand=function(){o.$$expandSubmenu(),t.addClass("ba-sidebar-item-expanded")},o.$collapse=function(){o.$$collapseSubmenu(),t.removeClass("ba-sidebar-item-expanded")},o.$toggle=function(){t.hasClass("ba-sidebar-item-expanded")?o.$collapse():o.$expand()},i(r.current)&&t.addClass("ba-sidebar-item-expanded"),e.$on("$stateChangeStart",function(e,s){!i(s)&&t.hasClass("ba-sidebar-item-expanded")&&(o.$collapse(),t.removeClass("ba-sidebar-item-expanded"))}),e.$on("$stateChangeSuccess",function(e,s){i(s)&&!t.hasClass("ba-sidebar-item-expanded")&&(o.$expand(),t.addClass("ba-sidebar-item-expanded"))})}}function n(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(e,t,s,r){r.$$expandSubmenu=function(){t.slideDown()},r.$$collapseSubmenu=function(){t.slideUp()}}}}function i(e){return{restrict:"A",require:"^baSidebarTogglingItem",link:function(t,s,r,n){s.on("click",function(){e.isMenuCollapsed()?(t.$apply(function(){e.setMenuCollapsed(!1)}),n.$expand()):n.$toggle()})}}}e.$inject=["baSidebarService"],t.$inject=["baSidebarService"],r.$inject=["$scope","$element","$attrs","$state","baSidebarService"],n.$inject=["$state"],i.$inject=["baSidebarService"],angular.module("BlurAdmin.theme.components").directive("baSidebarToggleMenu",e).directive("baSidebarCollapseMenu",t).directive("baSidebarTogglingItem",s).controller("BaSidebarTogglingItemCtrl",r).directive("baUiSrefTogglingSubmenu",n).directive("baUiSrefToggler",i)}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,templateUrl:"app/theme/components/baWizard/baWizard.html",controllerAs:"$baWizardController",controller:"baWizardCtrl"}}angular.module("BlurAdmin.theme.components").directive("baWizard",e)}(),function(){"use strict";function e(e){function t(){s.progress=(s.tabNum+1)/s.tabs.length*100}var s=this;s.tabs=[],s.tabNum=0,s.progress=0,s.addTab=function(e){e.setPrev(s.tabs[s.tabs.length-1]),s.tabs.push(e),s.selectTab(0)},e.$watch(angular.bind(s,function(){return s.tabNum}),t),s.selectTab=function(e){s.tabs[s.tabNum].submit(),s.tabs[e].isAvailiable()&&(s.tabNum=e,s.tabs.forEach(function(e,t){t==s.tabNum?e.select(!0):e.select(!1)}))},s.isFirstTab=function(){return 0==s.tabNum},s.isLastTab=function(){return s.tabNum==s.tabs.length-1},s.nextTab=function(){s.selectTab(s.tabNum+1)},s.previousTab=function(){s.selectTab(s.tabNum-1)}}e.$inject=["$scope"],angular.module("BlurAdmin.theme.components").controller("baWizardCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",transclude:!0,require:"^baWizard",scope:{form:"="},templateUrl:"app/theme/components/baWizard/baWizardStep.html",link:function(e,t,s,r){function n(t){t?e.selected=!0:e.selected=!1}function i(){e.form&&e.form.$setSubmitted(!0)}function o(){return e.form?e.form.$valid:!0}function a(){return d.prevTab?d.prevTab.isComplete():!0}function l(e){d.prevTab=e}e.selected=!0;var d={title:s.title,select:n,submit:i,isComplete:o,isAvailiable:a,prevTab:void 0,setPrev:l};r.addTab(d)}}}angular.module("BlurAdmin.theme.components").directive("baWizardStep",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/backTop/backTop.html",controller:function(){$("#backTop").backTop({position:200,speed:100})}}}angular.module("BlurAdmin.theme.components").directive("backTop",e)}(),function(){"use strict";function e(e,t){return{restrict:"E",templateUrl:"app/theme/components/contentTop/contentTop.html",link:function(e){e.$watch(function(){e.activePageTitle=t.current.title})}}}e.$inject=["$location","$state"],angular.module("BlurAdmin.theme.components").directive("contentTop",e)}(),function(){"use strict";function e(e,t){e.users={0:{name:"Vlad"},1:{name:"Kostya"},2:{name:"Andrey"},3:{name:"Nasta"}},e.notifications=[{userId:0,template:"&name posted a new article.",time:"1 min ago"},{userId:1,template:"&name changed his contact information.",time:"2 hrs ago"},{image:"assets/img/shopping-cart.svg",template:"New orders received.",time:"5 hrs ago"},{userId:2,template:"&name replied to your comment.",time:"1 day ago"},{userId:1,template:"&name invited you to join the event.",time:"1 week ago"}],e.messages=[{userId:3,text:"After you get up and running, you can place Font Awesome icons just about...",time:"1 min ago"},{userId:0,text:"You asked, Font Awesome delivers with 40 shiny new icons in version 4.2.",time:"2 hrs ago"},{userId:1,text:"Want to request new icons? Here's how. Need vectors or want to use on the...",time:"10 hrs ago"},{userId:2,text:"Explore your passions and discover new ones by getting involved. Stretch your...",time:"1 day ago"},{userId:3,text:"Get to know who we are - from the inside out. From our history and culture, to the...",time:"1 day ago"}],e.getMessage=function(s){var r=s.template;return(s.userId||0===s.userId)&&(r=r.replace("&name","<strong>"+e.users[s.userId].name+"</strong>")),t.trustAsHtml(r)}}e.$inject=["$scope","$sce"],angular.module("BlurAdmin.theme.components").controller("MsgCenterCtrl",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/msgCenter/msgCenter.html",controller:"MsgCenterCtrl"}}angular.module("BlurAdmin.theme.components").directive("msgCenter",e)}(),function(){"use strict";function e(){return{restrict:"E",templateUrl:"app/theme/components/pageTop/pageTop.html",controller:"pageTopCtrl"}}angular.module("BlurAdmin.theme.components").directive("pageTop",e)}(),function(){"use strict";function e(e,t,s){if(!t.sessionStorage.user)return t.sessionStorage.currentUrl=t.location.href,void(t.location.href="/auth.html");var r=JSON.parse(t.sessionStorage.user);e.user_id=r._id,e.userName=r.name,e.icon="Ninja",e.role=r.role,1==r.role?e.icon="Burglar":2==r.role&&(e.icon="Alien"),e.logout=function(){t.sessionStorage.clear(),t.sessionStorage.currentUrl=t.location.href,t.location.href="/auth.html"}}e.$inject=["$scope","$window","toastr"],angular.module("BlurAdmin.theme.components").controller("pageTopCtrl",e)}(),function(){"use strict";function e(){return{restrict:"EA",scope:{ngModel:"="},templateUrl:"app/theme/components/widgets/widgets.html",replace:!0}}angular.module("BlurAdmin.theme.components").directive("widgets",e)}(),function(){"use strict";function e(e){return function(t){return e.images.root+t}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("appImage",e)}(),function(){"use strict";function e(e){return function(t){return e.images.root+"theme/icon/kameleon/"+t+".svg"}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("kameleonImg",e)}(),function(){"use strict";function e(e){return function(t,s){return s=s||"png",e.images.profile+t+"."+s}}e.$inject=["layoutPaths"],angular.module("BlurAdmin.theme").filter("profilePicture",e)}(),function(){"use strict";function e(){return function(e){return e?String(e).replace(/<[^>]+>/gm,""):""}}angular.module("BlurAdmin.theme").filter("plainText",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o){e.search={},e.departments=[],e.loadDepartments=function(){r.get(n.baseApiUrl+"departments",{}).success(function(t){t["return"]&&"null"==t["return"]?e.departments=[]:e.departments=t}).error(function(e){i.error(e.messageFormatted)})},e.loadDepartments(),e.showDepartment=function(t){if(t.department&&e.departments.length){var r=s("filter")(e.departments,{_id:t.department});return r.length?r[0].name:"未设置"}return"未设置"},e.roles=[{name:"药师",value:0},{name:"管理员",value:1},{name:"系统管理员",value:2}],e.showRole=function(t){if((t.role||0===t.role)&&e.roles.length){var r=s("filter")(e.roles,{value:t.role});return r.length?r[0].name:"未设置"}return"未设置"},e.doctors=[],e.getDoctors=function(){e.myPromise=r.get(n.baseApiUrl+"doctors/1000/all",{}).success(function(t){t["return"]&&"null"==t["return"]?e.doctors=[]:e.doctors=t}).error(function(e){i.error(e.messageFormatted)})},e.getDoctors(),e.addDoctor=function(){e.search.user_id=void 0,e.inserted={department:e.search.department||null,user_id:e.search.user_id||"",name:"",role:0,title:"",order:0,apply:!0},e.doctors.push(e.inserted)},e.removeDoctor=function(t,o){r.get(n.baseApiUrl+"relationships/doctor/"+t).success(function(a){var l=n.getResponse(a);l&&l.length>0?i.error("不能被删除,请先删除与之关联的病患。"):r["delete"](n.baseApiUrl+"doctor/"+o).success(function(r){e.doctors=s("filter")(e.doctors,{_id:"!"+t}),i.success("成功删除")})}).error(function(e){i.error(e.messageFormatted)})},e.validate=function(e){return e?e.user_id?e.name?e.department?!0:(i.error("医院科室不能为空!"),!1):(i.error("名字不能为空!"),!1):(i.error("USER ID 不能为空!"),!1):!1},e.saveDoctor=function(t){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"doctor/"+t.user_id,t).success(function(e){console.log(JSON.stringify(e)),e?i.success("成功更新"):i.error("no data")})):(t.cell="0000",t.password=t.user_id,r.post(n.baseApiUrl+"doctor/"+t.user_id,t).success(function(s){return n.getErrorMessage(s)?(e.doctors.pop(),i.error(n.getErrorMessage(s))):(e.inserted=s,e.doctors.push(e.inserted),i.success("成功创建"),e.doctors.splice(e.doctors.length-1,1),void(t._id=s._id))})))},e.goDoctorProfile=function(e){t.go("profile",{doctor:e})},e.goDoctorGroup=function(e){t.go("doctor.group",{doctor:e})}}e.$inject=["$scope","$state","$filter","$http","util","toastr","$uibModal"],angular.module("BlurAdmin.cms.crm.doctor.doctor").controller("doctorCtrl",e)}(),function(){"use strict";function e(e,t,s,r,n,i,o){e.search={},e.doctors=[],e.getDoctors=function(){r.get(n.baseApiUrl+"doctors/1000",{}).success(function(t){t["return"]&&"null"==t["return"]?e.doctors=[]:e.doctors=t}).error(function(e){i.error(e.messageFormatted)})},e.getDoctors(),e.showDoctor=function(t){if(t.doctor&&e.doctors.length){var r=s("filter")(e.doctors,{_id:t.doctor});return r.length?r[0].name:"未设置"}return"未设置"},e.groups=[],e.getGroups=function(){e.myPromise=r.get(n.baseApiUrl+"groups",{}).success(function(t){t["return"]&&"null"==t["return"]?e.groups=[]:e.groups=t}).error(function(e){i.error(e.messageFormatted)})},e.getGroups(),e.$on("$viewContentLoaded",function(){t.params.doctor&&(e.search.doctor=t.params.doctor)}),e.addGroup=function(){e.inserted={doctor:e.search.doctor||null,name:"",apply:!0},e.groups.push(e.inserted)},e.removeGroup=function(t){r["delete"](n.baseApiUrl+"group/"+t).success(function(r){e.groups=s("filter")(e.groups,{_id:"!"+t}),i.success("成功删除")}).error(function(e){i.error(e.messageFormatted)})},e.validate=function(e){return e?e.doctor?e.name?!0:(i.error("名字不能为空!"),!1):(i.error("doctor 不能为空!"),!1):!1},e.saveGroup=function(t){e.validate(t)&&(t._id?(t.apply=t.apply||!1,r.patch(n.baseApiUrl+"group/"+t._id,t).success(function(e){return n.getErrorMessage(e)?i.error(n.getErrorMessage(e)):void(e?i.success("成功更新"):i.error("no data"))})):r.post(n.baseApiUrl+"group",t).success(function(t){return n.getErrorMessage(t)?(e.groups.pop(),i.error(n.getErrorMessage(t))):(e.inserted=t,e.groups.push(e.inserted),i.success("成功创建"),void e.groups.splice(e.groups.length-1,1))}))},e.goGroupRelationship=function(e){t.go("crm.relationship",{group:e._id,doctor:e.doctor})}}e.$inject=["$scope","$state","$filter","$http","util","toastr","$uibModal"],angular.module("BlurAdmin.cms.crm.doctor.group").controller("groupCtrl",e)}(),!function(e){e.fn.backTop=function(t){var s=this,r=e.extend({position:400,speed:500,color:"white"},t),n=r.position,i=r.speed,o=r.color;s.addClass("white"==o?"white":"red"==o?"red":"green"==o?"green":"black"),s.css({right:40,bottom:40,position:"fixed"}),e(document).scroll(function(){var t=e(window).scrollTop();t>=n?s.fadeIn(i):s.fadeOut(i)}),s.click(function(){e("html, body").animate({scrollTop:0},{duration:1200})})}}(jQuery),angular.module("BlurAdmin").run(["$templateCache",function(e){e.put("app/loading.html",'<html><head></head><body><div style="background-image:url(\'/assets/img/finalfantasy.gif\');background-position:50% 20px;background-repeat:no-repeat"><div style="text-align:center;font-size:26px;position:absolute;top:100px;width:100%;text-shadow:1px 1px 2px white, -1px -1px 2px white,-4px 4px 4px white,-4px 4px 4px white">{{$message}}</div></div></body></html>'),e.put("app/cms/shared/deleteConfirm.html",'<div class="modal-content" ng-controller="deleteConfirmCtrl"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title"><i class="ion-alert text-warning"></i>&nbsp;&nbsp; 删除确认</h4></div><div class="modal-body">确认要删除该纪录?<div class="modal-footer text-center" style="padding-top:1em;"><a type="button" class="btn btn-default" ng-click="$dismiss()">取消</a> <a type="button" class="btn btn-primary" ng-click="ok();$dismiss()"><i class="ion-android-checkmark-circle"></i> 确认</a></div></div></div>'),e.put("app/cms/profile/profile.html",'<div ba-panel="" ba-panel-class="profile-page"><div cg-busy="myPromise"></div><div class="panel-content"><h3 class="with-line">一般信息</h3><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label class="col-sm-3 control-label">头像</label><div class="col-sm-9"><div flow-init="{singleFile:true}" flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]" class="userpic ng-scope"><div class="userpic-wrapper"><img flow-img="$flow.files[0]"></div><i class="ion-ios-close-outline" ng-click="$flow.cancel()" ng-if="!noPicture"></i> <span class="change-userpic" ng-show="!$flow.files.length" flow-btn="">选择头像<input type="file" style="visibility: hidden; position: absolute;"></span> <span class="change-userpic ng-hide" ng-show="$flow.files.length" flow-btn="">更改头像<input type="file" style="visibility: hidden; position: absolute;"></span></div><p>支持 PNG,GIF,JPG,JEPG 类型的图片.</p></div></div></div><div class="col-md-6"></div></div><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label class="col-sm-3 control-label">用户名</label> <label class="col-sm-9 control-label">{{doctor.user_id}}</label></div><div class="form-group row clearfix"><label for="inputName" class="col-sm-3 control-label">姓名</label><div class="col-sm-9"><input type="text" class="form-control" id="inputName" placeholder="" ng-model="doctor.name"></div></div><div class="form-group row clearfix"><label class="col-sm-3 control-label">性别</label><div class="col-sm-9"><label class="radio-inline custom-radio nowrap"><input type="radio" ng-model="doctor.gender" value="M"> <span>男</span></label> <label class="radio-inline custom-radio nowrap"><input type="radio" ng-model="doctor.gender" value="F"> <span>女</span></label></div></div></div><div class="col-md-6"><div class="form-group row clearfix"><label class="col-sm-3 control-label">医院科室</label><div class="col-sm-9"><select class="form-control" ng-model="doctor.department" ng-options="department._id as department.name for department in departments"></select></div></div><div class="form-group row clearfix"><label for="inputTitle" class="col-sm-3 control-label">职称</label><div class="col-sm-9"><input type="text" class="form-control" id="inputTitle" placeholder="" ng-model="doctor.title"></div></div></div></div><h3 class="with-line">修改密码</h3><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label for="inputPassword" class="col-sm-3 control-label">密码</label><div class="col-sm-9"><input type="password" class="form-control" id="inputPassword" placeholder="" ng-model="doctor.password"></div></div></div><div class="col-md-6"><div class="form-group row clearfix"><label for="inputConfirmPassword" class="col-sm-3 control-label">再次输入密码</label><div class="col-sm-9"><input type="password" class="form-control" id="inputConfirmPassword" placeholder="" ng-model="doctor.confirmPassword"></div></div></div></div><h3 class="with-line">联系信息</h3><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label for="inputCell" class="col-sm-3 control-label">手机</label><div class="col-sm-9"><input type="tel" class="form-control" id="inputCell" placeholder="" ng-model="doctor.cell"></div></div><div class="form-group row clearfix"><label for="inputPhone" class="col-sm-3 control-label">联系电话</label><div class="col-sm-9"><input type="tel" class="form-control" id="inputPhone" placeholder="" ng-model="doctor.tel"></div></div><div class="form-group row clearfix"><label for="inputEmail3" class="col-sm-3 control-label">Email</label><div class="col-sm-9"><input type="email" class="form-control" id="inputEmail3" placeholder="暂不支持@test.com" value=""></div></div></div><div class="col-md-6"><div class="form-group row clearfix"><label for="inputAddress" class="col-sm-3 control-label">医院地址</label><div class="col-sm-9"><input type="text" class="form-control" id="inputAddress" placeholder="暂不支持"></div></div><div class="form-group row clearfix"><label for="inputRoom" class="col-sm-3 control-label">院内地址</label><div class="col-sm-9"><input type="text" class="form-control" id="inputRoom" placeholder="暂不支持"></div></div></div></div><h3 class="with-line">工作时间</h3><div class="row clearfix"><blockquote><textarea placeholder="工作时间" class="form-control" ng-model="doctor.hours"></textarea></blockquote></div><h3 class="with-line">擅长领域</h3><div class="row clearfix"><blockquote><textarea placeholder="擅长领域" class="form-control" ng-model="doctor.expertise"></textarea></blockquote></div><h3 class="with-line">工作范围</h3><div class="row clearfix"><blockquote><textarea placeholder="工作范围" class="form-control" ng-model="doctor.bulletin"></textarea></blockquote></div><h3 class="with-line">获奖情况</h3><div class="row clearfix"><blockquote><textarea placeholder="获奖情况" class="form-control" ng-model="doctor.honor"></textarea></blockquote></div><button type="button" class="btn btn-primary btn-with-icon save-profile" ng-click="update()"><i class="ion-android-checkmark-circle"></i>更新个人信息</button></div></div>'),e.put("app/cms/profile/profileModal.html",'<div class="modal-content"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title" id="myModalLabel">Add Account</h4></div><form name="linkForm"><div class="modal-body"><p>Paste a link to your profile into the box below</p><div class="form-group"><input type="text" class="form-control" placeholder="Link to Profile" ng-model="link"></div></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="ok(link)">Save changes</button></div></form></div>'),e.put("app/cms/system/const.html",'<div ba-panel="" ba-panel-title="系统全局变量定义" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="add-row-editable-table"><button class="btn btn-primary" ng-click="addConst()"><i class="ion-android-add-circle"></i> 创建</button></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:15%">名字</td><td style="width:20%">描述</td><td style="width:7%">类型</td><td style="width:51%">值</td><td style="width:7%">操作</td></tr><tr ng-repeat="item in consts" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td class="select-td"><span editable-select="item.type" e-name="type" e-form="rowform" e-ng-options="t.value as t.name for t in types">{{ showType(item) }}</span></td><td class="select-td"><span editable-text="item.value" e-name="value" e-form="rowform" e-required="" ng-if="item.type==0">{{ item.value || \'空\' }}</span> <span editable-textarea="item.value" e-name="value" e-form="rowform" e-required="" ng-if="item.type==1" e-rows="7" e-cols="60"><div>{{ showLineBreakString(item.value) }}</div></span> <span editable-checkbox="item.value" e-name="value" e-form="rowform" e-required="" ng-if="item.type==2">{{ item.value && \'已选择\' || \'未选\' }}</span> <span editable-number="item.value" e-name="value" e-form="rowform" e-required="" ng-if="item.type==3">{{ item.value || 0 }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveConst($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button></div></td></tr></table></div>'),e.put("app/cms/im/chat/chat.html",'<div ba-panel="" ba-panel-title="疾病类型功能描述" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-3 text-right"><span>选择聊天室:</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.chatroom" ng-options="chatroom._id as chatroom.name for chatroom in chatrooms"></select></span></div><div class="col-sm-6"><button class="btn btn-primary pull-right" ng-click="addChat()"><i class="ion-android-add-circle"></i> 创建</button> &nbsp; <button class="btn btn-danger pull-right" ng-click="deleteChatroomContent()"><i class="ion-ios-trash"></i> 清除聊天室</button></div></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:20%">聊天室名</td><td style="width:10%">发言人</td><td style="width:40%">内容</td><td style="width:15%">时间</td><td style="width:5%">read</td><td style="width:10%">操作</td></tr><tr ng-repeat="item in chats | filter: search" class="editable-row"><td><span style="display:none">{item._id}}</span> <span editable-select="item.chatroom" e-name="chatroom" e-form="rowform" e-required="" e-ng-options="c._id as c.name for c in chatrooms">{{ showChatroom(item)}}</span></td><td><span editable-text="item.direction" e-name="direction" e-form="rowform" e-required="">{{ item.direction == 1 ? \'药师\' : \'患者\' }}</span></td><td class="select-td"><span editable-text="item.data" e-name="data" e-form="rowform">{{ item.data || \'空\' }}</span></td><td class="select-td"><span editable-text="item.created" e-name="created" e-form="rowform">{{ item.created | date:\'yyyy-MM-dd HH:mm:ss\' }}</span></td><td class="select-td"><span editable-number="item.read" e-name="read" e-form="rowform">{{ item.read || \'\' }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveChat($data, item._id)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeChat"></delete-btn></div></td></tr></table></div>'),e.put("app/cms/im/chatroom/chatroom.html",'<div ba-panel="" ba-panel-title="疾病类型功能描述" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-3 text-right"><span>搜索by 患者名 + 药师名:</span></div><div class="col-sm-9"><span><input ng-model="search.name" placeholder="患者名 + 药师名" class="input-sm form-control search-input" type="search"></span></div></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:30%">聊天室名(患者名 + 药师名)</td><td style="width:10%">药师未读消息</td><td style="width:10%">患者未读消息</td><td style="width:15%">创建时间</td><td style="width:15%">更新时间</td><td style="width:20%">操作</td></tr><tr ng-repeat="item in chatrooms | filter: search.name" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-number="item.doctor_unread" e-name="doctor_unread" e-form="rowform">{{ item.doctor_unread || \'空\' }}</span></td><td class="select-td"><span editable-number="item.user_unread" e-name="user_unread" e-form="rowform">{{ item.user_unread || \'空\' }}</span></td><td><span e-name="created" e-form="rowform">{{ item.created | date }}</span></td><td><span e-name="updated" e-form="rowform">{{ item.updated | date }}</span></td><td><button class="btn btn-danger editable-table-button btn-xs" ng-click="goChat(item._id)">查看聊天室</button></td></tr></table></div>'),e.put("app/cms/crm/relationship/relationship.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-2 text-right"><span>选择药师:</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.doctor" ng-options="d._id as d.name for d in doctors"></select></span></div><div class="col-sm-2 text-right"><span>药师用户组:</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.group" ng-options="g._id as g.name for g in groups | filter: search.doctor"></select></span></div><div class="col-sm-2"><button class="btn btn-primary pull-right" ng-click="addRelationship()"><i class="ion-android-add-circle"></i> 创建</button></div></div><table class="table table-bordered table-hover table-condensed" ba-panel-title="Modals"><tr style="font-weight: bold"><td style="width:15%">药师</td><td style="width:15%">药师组</td><td style="width:15%">用户</td><td style="width:5%">有效</td><td style="width:20%">操作</td></tr><tr ng-repeat="item in relationships | filter: search" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td class="select-td"><span editable-select="item.doctor" e-name="doctor" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in doctors">{{ showDoctor(item) }}</span></td><td class="select-td"><span editable-select="item.group" e-name="group" e-form="rowform" e-required="" e-ng-options="g._id as g.name for g in groups">{{ showGroup(item)}}</span></td><td class="select-td"><span editable-select="item.user" e-name="user" e-form="rowform" e-required="" e-ng-options="u._id as u.name for u in users">{{ showUser(item)}}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveRelationship($data)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeRelationship"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="goDoctorGroup(item.doctor)">返回药师用户组</button></div></td></tr></table></div>'),e.put("app/cms/education/category/category.html",'<div ba-panel="" ba-panel-title="宣教材料类别描述" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-1 text-right"><span>医院科室</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.department" ng-options="department._id as department.name for department in departments"></select></span></div><div class="col-sm-1 text-right"><span>类别名称</span></div><div class="col-sm-3"><span><span><input ng-model="search.name" placeholder="类别名称" class="input-sm form-control search-input" type="search"></span></span></div><div class="col-sm-2"><button class="btn btn-primary pull-right" ng-click="addCat()"><i class="ion-android-add-circle"></i> 创建类别</button></div></div><table st-table="displayedCats" st-safe-src="cats" class="table table-bordered table-hover table-condensed"><thead><tr style="font-weight: bold"><td st-sort="department" class="text-center" style="width:20%">科室</td><td st-sort="name" class="text-center" style="width:20%">名称</td><td st-sort="desc" class="text-center" style="width:25%">描述</td><td st-sort="apply" class="text-center" style="width:10%">开关</td><td class="text-center" style="width:25%">操作</td></tr></thead><tbody><tr ng-repeat="item in displayedCats | filter: search" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td class="select-td"><span editable-select="item.department" e-name="department" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in departments">{{ showDepartment(item)}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveCat($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel();cancelCat();" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeCat"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="getPagesByCatId(item._id, item.department)">查看该类别下的宣教材料</button></div></td></tr></tbody><tfoot class="pbs"><tr><td colspan="6" class="text-center"><div st-pagination="" st-items-by-page="20" st-displayed-pages="8"></div></td></tr></tfoot></table></div>'),
e.put("app/cms/crm/user/user.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-2 text-right"><span>搜索by 姓名:</span></div><div class="col-sm-3"><span><input ng-model="search.name" placeholder="搜索姓名" class="input-sm form-control search-input" type="search"></span></div><div class="col-sm-1 text-right"><span>手机:</span></div><div class="col-sm-3"><span><input ng-model="search.cell" placeholder="搜索手机号" class="input-sm form-control search-input" type="search"></span></div><div class="col-sm-2"><button class="btn btn-primary pull-right" ng-click="addUser()"><i class="ion-android-add-circle"></i> 创建</button></div></div><table class="table table-bordered table-hover table-condensed" ba-panel-title="Modals"><tr style="font-weight: bold"><td style="width:15%">关联ID</td><td style="width:15%">姓名</td><td style="width:15%">手机</td><td style="width:15%">创建时间</td><td style="width:15%">更新时间</td><td style="width:5%">有效</td><td style="width:20%">操作</td></tr><tr ng-repeat="item in users | filter: search" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td class="select-td"><span editable-text="item.link_id" e-name="link_id" e-form="rowform" e-required="">{{ item.link_id || \'空\' }}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.cell" e-name="cell" e-form="rowform" e-required="">{{ item.cell || \'空\' }}</span></td><td><span e-name="created" e-form="rowform">{{ item.created | date }}</span></td><td><span e-name="updated" e-form="rowform">{{ item.updated | date }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveUser($data)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" user-id="item.user_id" yes-delete="removeUser"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="open(\'app/cms/crm/user/userEdit.html\', \'lg\', item)">更多用户信息</button></div></td></tr></table></div>'),e.put("app/cms/crm/user/userEdit.html",'<div class="modal-content" ng-controller="userEditCtrl"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title">编辑患者用户信息</h4></div><div class="modal-body"><h3 class="with-line-no-padding">用户关联ID: {{data.link_id}}</h3><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label class="col-sm-3 control-label">头像</label><div class="col-sm-9"><div class="userpic"><div class="userpic-wrapper"><img ng-src="{{ data.icon }}" ng-click="uploadPicture()"></div><i class="ion-ios-close-outline" ng-click="removePicture()" ng-if="!noPicture"></i> <a href="" class="change-userpic" ng-click="uploadPicture()">更改头像</a> <input type="file" ng-show="false" id="uploadFile" ng-file-select="onFileSelect($files)"></div></div></div></div><div class="col-md-6"></div></div><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label for="inputName" class="col-sm-3 control-label">姓名</label><div class="col-sm-9"><input type="text" class="form-control" id="inputName" placeholder="" ng-model="data.name"></div></div><div class="form-group row clearfix"><label class="col-sm-3 control-label">性别</label><div class="col-sm-9"><label class="radio-inline custom-radio nowrap"><input type="radio" ng-model="data.gender" value="M"> <span>男</span></label> <label class="radio-inline custom-radio nowrap"><input type="radio" ng-model="data.gender" value="F"> <span>女</span></label></div></div></div><div class="col-md-6"><div class="form-group row clearfix"><label for="inputCell" class="col-sm-3 control-label">手机</label><div class="col-sm-9"><input type="text" class="form-control" id="inputCell" placeholder="" ng-model="data.cell"></div></div><div class="form-group row clearfix"><label class="col-sm-3 control-label">出生日期</label><div class="col-sm-9"><div class="input-group date"><input type="text" class="form-control ng-pristine ng-valid ng-isolate-scope ng-not-empty ng-valid-datetime ng-touched" datetime-picker="yyyy-MM-dd" ng-model="data.birthdate" is-open="isOpen" enable-time="false" button-bar="data.birthdate.buttonBar"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="openCalendar($event)"><i class="fa fa-calendar"></i></button></span></div></div></div></div></div><h3 class="with-line-no-padding">用户关联信息</h3><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label for="inputsin" class="col-sm-3 control-label">社保号码</label><div class="col-sm-9"><input type="text" class="form-control" id="inputSin" placeholder="" ng-model="data.sin"></div></div></div><div class="col-md-6"></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="closeMe()">取消</button> <button type="button" class="btn btn-primary" ng-click="saveMe(data)"><i class="ion-android-checkmark-circle"></i>更新用户信息</button></div></div>'),e.put("app/cms/hospital/department/department.html",'<div ba-panel="" ba-panel-title="医院科室功能描述" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="add-row-editable-table"><button class="btn btn-primary" ng-click="addDepartment()"><i class="ion-android-add-circle"></i> 创建</button></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:30%">名字</td><td style="width:30%">描述</td><td style="width:10%">顺序</td><td style="width:5%">开关</td><td style="width:25%">操作</td></tr><tr ng-repeat="item in departments" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td class="select-td"><span editable-number="item.order" e-name="order" e-form="rowform">{{ item.order || \'\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveDepartment($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeDepartment"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="getDiseasesByDepartmentId(item._id)">查看科室内的疾病类型</button></div></td></tr></table></div>'),e.put("app/cms/hospital/disease/disease.html",'<div ba-panel="" ba-panel-title="疾病类型功能描述" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-3 text-right"><label>选择医院科室:</label></div><div class="col-sm-3"><div class="form-group"><select class="form-control" ng-model="search.department" ng-options="department._id as department.name for department in departments"></select></div></div><div class="col-sm-6"><button class="btn btn-primary pull-right" ng-click="addDisease()"><i class="ion-android-add-circle"></i> 创建</button></div></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:20%">医院科室</td><td style="width:20%">疾病类型</td><td style="width:25%">描述</td><td style="width:10%">顺序</td><td style="width:5%">开关</td><td style="width:20%">操作</td></tr><tr ng-repeat="item in diseases | filter: search" class="editable-row"><td style="display:none;"><span e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-select="item.department" e-name="department" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in departments">{{ showDepartment(item)}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td class="select-td"><span editable-number="item.order" e-name="order" e-form="rowform">{{ item.order || \'\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveDisease($data, item._id)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeDisease"></delete-btn></div></td></tr></table></div>'),e.put("app/cms/reservation/booking/booking.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-2 text-right"><span>选择医院科室:</span></div><div class="col-sm-2"><span><select class="form-control" ng-model="pre.department" ng-options="department._id as department.name for department in departments"></select></span></div><div class="col-sm-1 text-right"><span>药师:</span></div><div class="col-sm-2"><span><select class="form-control" ng-model="search.doctor" ng-options="d._id as d.name for d in doctors | filter: {department: pre.department}"></select></span></div><div class="col-sm-1 text-right"><span>预约:</span></div><div class="col-sm-2"><span><select class="form-control" ng-model="search.schedule" ng-options="s._id as (s.date + s.period.name) for s in schedules | filter: {doctor: search.doctor}"></select></span></div><div class="col-sm-2"><button class="btn btn-primary pull-right" ng-click="addBooking()"><i class="ion-android-add-circle"></i> 创建</button></div></div><table class="table table-bordered table-hover table-condensed" ba-panel-title="Modals"><tr style="font-weight: bold"><td style="width:20%">药师</td><td style="width:25%">预约</td><td style="width:15%">用户</td><td style="width:15%">状态</td><td style="width:10%">评分</td><td style="width:15%">操作</td></tr><tr ng-repeat="item in bookings | filter: search" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td class="select-td"><span editable-select="item.doctor" e-name="doctor" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in doctors">{{ showDoctor(item)}}</span></td><td class="select-td"><span editable-select="item.schedule" e-name="schedule" e-form="rowform" e-required="" e-ng-options="s._id as s.name for s in schedules">{{ showSchedule(item)}}</span></td><td class="select-td"><span editable-select="item.user" e-name="user" e-form="rowform" e-required="" e-ng-options="u._id as u.name for u in users">{{ showUser(item)}}</span></td><td class="select-td"><span editable-number="item.status" e-name="status" e-form="rowform">{{ item.status || \'空\' }}</span></td><td><span editable-number="item.score" e-name="score" e-form="rowform" e-required="">{{ item.score || \'空\' }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveBooking($data)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeBooking"></delete-btn></div></td></tr></table></div>'),e.put("app/cms/reservation/schedule/schedule.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-2 text-right"><span>选择医院科室:</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="pre.department" ng-options="department._id as department.name for department in departments"></select></span></div><div class="col-sm-2 text-right"><span>选择药师:</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.doctor" ng-options="d._id as d.name for d in doctors | filter: pre.department"></select></span></div><div class="col-sm-2"><button class="btn btn-primary pull-right" ng-click="open(\'app/cms/reservation/schedule/scheduleCreate.html\', \'lg\', search.doctor)"><i class="ion-android-add-circle"></i> 创建</button></div></div><table class="table table-bordered table-hover table-condensed" ba-panel-title="Modals"><tr style="font-weight: bold"><td style="width:20%">药师</td><td style="width:20%">日期</td><td style="width:20%">名称</td><td style="width:15%">个数限制</td><td style="width:25%">操作</td></tr><tr ng-repeat="item in schedules | filter: search" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td class="select-td"><span editable-select="item.doctor" e-name="doctor" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in doctors">{{ showDoctor(item)}}</span></td><td class="select-td"><span editable-date="item.date" e-name="date" e-form="rowform" e-required="">{{ item.date | date:"yyyy-MM-dd" }}</span></td><td class="select-td"><span editable-select="item.period" e-name="period" e-form="rowform" e-required="" e-ng-options="p._id as p.name for p in periods">{{ showPeriod(item)}}</span></td><td class="select-td"><span editable-text="item.limit" e-name="limit" e-form="rowform" e-required="">{{ item.limit || \'空\' }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveSchedule($data)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeSchedule"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="getScheduleDetails(item._id)">查看药师门诊详情</button></div></td></tr></table></div>'),e.put("app/cms/reservation/schedule/scheduleCreate.html",'<div class="modal-content" ng-controller="scheduleCreateCtrl"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title">批量创建药师门诊</h4></div><div class="modal-body"><h3 class="with-line-no-padding">药师: {{doctor.name}}</h3><div class="row"><div class="col-md-6"><div class="form-group row clearfix"><label class="col-sm-3 control-label">门诊时间片</label><div class="col-sm-9"><div class="form-group"><select id="selectPeriods" class="form-control" title="支持多选" multiple="" selectpicker="" ng-model="schedule.periods" ng-options="p.name for p in periods track by p._id"></select></div></div></div></div><div class="col-md-6"><div class="form-group row clearfix"><label class="col-sm-3 control-label">个数限制</label><div class="col-sm-9"><input type="number" class="form-control" min="1" max="100" placeholder="" ng-model="schedule.limit"></div></div></div></div><h3 class="with-line-no-padding">日期范围选择:</h3><div class="row" style="padding: 5px 40px 0 20px;"><div class="col-md-2"><label class="control-label">开始日期</label></div><div class="col-md-4"><div class="form-group row clearfix"><div class="input-group date"><input type="text" class="form-control" datetime-picker="yyyy-MM-dd" ng-model="schedule.startDate.date" is-open="schedule.startDate.open" enable-time="false" datepicker-options="schedule.startDate.datepickerOptions"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="openCalendar($event, \'startDate\')"><i class="fa fa-calendar"></i></button></span></div></div></div><div class="col-md-2"><label class="control-label">结束日期</label></div><div class="col-md-4"><div class="form-group row clearfix"><div class="input-group date"><input type="text" class="form-control" datetime-picker="yyyy-MM-dd" ng-model="schedule.endDate.date" is-open="schedule.endDate.open" enable-time="false" datepicker-options="schedule.endDate.datepickerOptions"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="openCalendar($event, \'endDate\')"><i class="fa fa-calendar"></i></button></span></div></div></div></div><div class="row"><div class="col-md-2"></div><div class="col-md-10"><label class="checkbox-inline custom-checkbox nowrap"><input type="checkbox" ng-model="schedule.days.monday"> <span>星期一</span></label> <label class="checkbox-inline custom-checkbox nowrap"><input type="checkbox" ng-model="schedule.days.tuesday"> <span>星期二</span></label> <label class="checkbox-inline custom-checkbox nowrap"><input type="checkbox" ng-model="schedule.days.wednesday"> <span>星期三</span></label> <label class="checkbox-inline custom-checkbox nowrap"><input type="checkbox" ng-model="schedule.days.thursday"> <span>星期四</span></label> <label class="checkbox-inline custom-checkbox nowrap"><input type="checkbox" ng-model="schedule.days.friday"> <span>星期五</span></label> <label class="checkbox-inline custom-checkbox nowrap"><input type="checkbox" ng-model="schedule.days.saturday"> <span>星期六</span></label> <label class="checkbox-inline custom-checkbox nowrap"><input type="checkbox" ng-model="schedule.days.sunday"> <span>星期天</span></label></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="closeMe()">取消</button> <button type="button" class="btn btn-primary" ng-click="saveMe(data)"><i class="ion-android-checkmark-circle"></i>批量创建</button></div></div>'),e.put("app/cms/education/page/page.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-2 text-right"><span>选择医院科室:</span></div><div class="col-sm-2"><span><select class="form-control" ng-model="search.department" ng-options="department._id as department.name for department in departments"></select></span></div><div class="col-sm-1 text-right"><span>材料类别:</span></div><div class="col-sm-2"><span><select class="form-control" ng-model="search.cat" ng-options="d._id as d.name for d in cats"></select></span></div><div class="col-sm-4 text-right"><button class="btn btn-primary" ng-click="addPage()" ng-disabled="!search.cat || !search.department"><i class="ion-android-add-circle"></i> 创建</button> <button class="btn btn-default" ng-click="backToCats()"><i class="ion-ios-undo-outline"></i> 返回到类别</button></div></div><hr><div ng-if="pages.length < 1">无记录。</div><table class="table table-bordered table-hover table-condensed" ng-if="pages.length > 0"><tr style="font-weight: bold"><td style="width:20%">名字</td><td style="width:25%">消息标题</td><td style="width:25%">标题图片</td><td style="width:10%">开关</td><td style="width:20%">操作</td></tr><tr ng-repeat="item in pages | filter: search track by $index" class="editable-row"><td ng-show="false"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span> <span editable-text="item.department" e-name="department" e-form="rowform" e-required="">{{item.department}}</span> <span editable-text="item.cat" e-name="cat" e-form="rowform" e-required="">{{item.cat}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform">{{ item.name || \'空\' }}</span></td><td><span editable-text="item.title" e-name="title" e-form="rowform">{{ item.title || \'空\' }}</span></td><td><span editable-text="item.title_image" e-name="title_image" e-form="rowform">{{ item.title_image || \'空\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="savePage($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel();cancelPage();" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removePage"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="open(\'app/cms/education/page/pageEdit.html\', \'lg\', item, $index)">材料模版编辑</button></div></td></tr></table></div>'),e.put("app/cms/education/page/pageEdit.html",'<div class="modal-content" ng-controller="pageEditCtrl"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title">模版编辑 [{{ editItem.name }}]</h4></div><div class="modal-body"><h3 class="with-line-no-padding text-muted" style="font-size: 1em;">科室: <span class="alert alert-success">{{ showDepartment(editItem) }}</span> / 类别: <span class="alert alert-success">{{ showCat(editItem)}}</span> <a type="button" class="btn btn-sm {{preview?\'btn-success\':\'btn-default\'}} pull-right" ng-click="previewToggle()">预览</a></h3><div class="row"><div class="col-md-5"><div class="form-group"><label for="inputTitle" class="control-label">消息标题</label> <input type="text" class="form-control" id="inputTitle" placeholder="" ng-model="editItem.title" required=""></div></div><div class="col-md-4"><div class="form-group"><label for="inputTitleImage" class="control-label">标题图片</label> <input type="file" class="form-control" id="inputTitleImage" placeholder="" ng-model="editItem.title_image" required=""></div></div><div class="col-md-3"><div class="form-group"><img></div></div></div><text-angular ng-model="editItem.edit_html" ng-if="!preview"></text-angular><text-angular ng-model="editItem.edit_html" ng-if="preview" ta-bind=""></text-angular><div class="modal-footer" style="padding-top:.5em;"><a type="button" class="btn btn-default" ng-click="$dismiss()">取消</a> <a type="button" class="btn btn-primary" ng-click="savePage()"><i class="ion-android-checkmark-circle"></i> 保存</a></div></div></div>'),e.put("app/theme/components/baSidebar/ba-sidebar.html",'<aside class="al-sidebar" ng-swipe-right="$baSidebarService.setMenuCollapsed(false)" ng-swipe-left="$baSidebarService.setMenuCollapsed(true)" ng-mouseleave="hoverElemTop=selectElemTop"><ul class="al-sidebar-list" slimscroll="{height: \'{{menuHeight}}px\'}" slimscroll-watch="menuHeight"><li ng-repeat="item in ::menuItems" class="al-sidebar-list-item" ng-class="::{\'with-sub-menu\': item.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="item" ng-if="role>=(item.minRole||0)"><a ng-mouseenter="hoverItem($event, item)" ui-state="item.stateRef || \'\'" ng-href="{{::(item.fixedHref ? item.fixedHref: \'\')}}" ng-if="::!item.subMenu" class="al-sidebar-list-link"><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter="hoverItem($event, item)" ng-if="::item.subMenu" class="al-sidebar-list-link" ba-ui-sref-toggler=""><i class="{{ ::item.icon }}"></i><span>{{ ::item.title }}</span> <b class="fa fa-angle-down" ui-sref-active="fa-angle-up" ng-if="::item.subMenu"></b></a><ul ng-if="::item.subMenu" class="al-sidebar-sublist" ng-class="{\'slide-right\': item.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-repeat="subitem in ::item.subMenu" ng-class="::{\'with-sub-menu\': subitem.subMenu}" ui-sref-active="selected" ba-sidebar-toggling-item="subitem" class="ba-sidebar-sublist-item"><a ng-mouseenter="hoverItem($event, item)" ng-if="::subitem.subMenu" ba-ui-sref-toggler="" class="al-sidebar-list-link subitem-submenu-link"><span>{{ ::subitem.title }}</span> <b class="fa" ng-class="{\'fa-angle-up\': subitem.expanded, \'fa-angle-down\': !subitem.expanded}" ng-if="::subitem.subMenu"></b></a><ul ng-if="::subitem.subMenu" class="al-sidebar-sublist subitem-submenu-list" ng-class="{expanded: subitem.expanded, \'slide-right\': subitem.slideRight}" ba-ui-sref-toggling-submenu=""><li ng-mouseenter="hoverItem($event, item)" ng-repeat="subSubitem in ::subitem.subMenu" ui-sref-active="selected"><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::subSubitem.disabled" class="al-sidebar-list-link">{{ ::subSubitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" ui-state="subSubitem.stateRef || \'\'" ng-if="::!subSubitem.disabled" ng-href="{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \'\')}}">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter="hoverItem($event, item)" href="" ng-if="::(!subitem.subMenu && subitem.disabled)" class="al-sidebar-list-link">{{ ::subitem.title }}</a> <a ng-mouseenter="hoverItem($event, item)" target="{{::(subitem.blank ? \'_blank\' : \'_self\')}}" ng-if="::(!subitem.subMenu && !subitem.disabled)" ui-state="subitem.stateRef || \'\'" ng-href="{{::(subitem.fixedHref ? subitem.fixedHref: \'\')}}">{{ ::subitem.title}}</a></li></ul></li></ul><div class="sidebar-hover-elem" ng-style="{top: hoverElemTop + \'px\', height: hoverElemHeight + \'px\'}" ng-class="{\'show-hover-elem\': showHoverElem }"></div></aside>'),e.put("app/theme/components/baWizard/baWizard.html",'<div class="ba-wizard"><div class="ba-wizard-navigation-container"><div ng-repeat="t in $baWizardController.tabs" class="ba-wizard-navigation {{$baWizardController.tabNum == $index ? \'active\' : \'\'}}" ng-click="$baWizardController.selectTab($index)">{{t.title}}</div></div><div class="progress ba-wizard-progress"><div class="progress-bar progress-bar-danger active" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="{width: $baWizardController.progress + \'%\'}"></div></div><div class="steps" ng-transclude=""></div><nav><ul class="pager ba-wizard-pager"><li class="previous"><button ng-disabled="$baWizardController.isFirstTab()" ng-click="$baWizardController.previousTab()" type="button" class="btn btn-primary"><span aria-hidden="true">&larr;</span> previous</button></li><li class="next"><button ng-disabled="$baWizardController.isLastTab()" ng-click="$baWizardController.nextTab()" type="button" class="btn btn-primary">next <span aria-hidden="true">&rarr;</span></button></li></ul></nav></div>'),e.put("app/theme/components/baWizard/baWizardStep.html",'<section ng-show="selected" class="step" ng-transclude=""></section>'),e.put("app/theme/components/backTop/backTop.html",'<i class="fa fa-angle-up back-top" id="backTop" title="回到顶部"></i>'),e.put("app/theme/components/contentTop/contentTop.html",'<div class="content-top clearfix"><h1 class="al-title">{{ activePageTitle }}</h1><ul class="breadcrumb al-breadcrumb"><li><a href="#/dashboard">首页</a></li><li>{{ activePageTitle }}</li></ul></div>'),e.put("app/theme/components/pageTop/pageTop.html",'<div class="page-top clearfix" scroll-position="scrolled" max-height="50" ng-class="{\'scrolled\': scrolled}"><a href="#/dashboard" class="al-logo clearfix"><span>e药</span>管理后台</a> <a href="" class="collapse-menu-link ion-navicon" ba-sidebar-toggle-menu=""></a><div class="search" style="display:none"><i class="ion-ios-search-strong" ng-click="startSearch()"></i> <input id="searchInput" type="text" placeholder="Search for..."></div><div class="user-profile clearfix"><div class="al-user-profile" uib-dropdown=""><a uib-dropdown-toggle="" class="profile-toggle-link">{{userName}} <img ng-src="{{::( icon | kameleonImg )}}"></a><ul class="top-dropdown-menu profile-dropdown" uib-dropdown-menu=""><li><i class="dropdown-arr"></i></li><li><a ng-href="#/profile/{{user_id}}"><i class="fa fa-user"></i>个人资料</a></li><li><a href="" ng-click="logout()" class="signout"><i class="fa fa-power-off"></i>退出</a></li></ul></div><msg-center></msg-center></div></div>'),e.put("app/theme/components/widgets/widgets.html",'<div class="widgets"><div ng-repeat="widgetBlock in ngModel" ng-class="{\'row\': widgetBlock.widgets.length > 1}"><div ng-repeat="widgetCol in widgetBlock.widgets" ng-class="{\'col-md-6\': widgetBlock.widgets.length === 2}" ng-model="widgetCol" class="widgets-block"><div ba-panel="" ba-panel-title="{{::widget.title}}" ng-repeat="widget in widgetCol" ba-panel-class="with-scroll {{widget.panelClass}}"><div ng-include="widget.url"></div></div></div></div></div>'),e.put("app/cms/hospital/medicine/medicine.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="add-row-editable-table"><button class="btn btn-primary" ng-click="addMedicine()"><i class="ion-android-add-circle"></i> 创建</button></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:20%">药名</td><td style="width:17%">描述</td><td style="width:10%">使用方法</td><td style="width:10%">服药频率</td><td style="width:10%">服药时间</td><td style="width:10%">提醒个数</td><td style="width:8%">开关</td><td style="width:15%">操作</td></tr><tr ng-repeat="item in medicines track by $index" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td><span editable-select="item.usage" e-form="tableform" e-ng-options="s.value as s.text for s in usages">{{showUsage(item)}}</span></td><td><span editable-number="item.dosage.frequency" e-name="frequency" e-form="rowform" e-style="width:65px" e-required="">{{ item.dosage.frequency || \'空\' }}</span></td><td><span editable-select="item.dosage.way" e-form="tableform" e-ng-options="s.value as s.text for s in ways">{{showDosageWay(item)}}</span></td><td class="select-td"><span>{{ item.notices.length }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveMedicine($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeMedicine"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="open(\'app/cms/hospital/medicine/medicineEdit.html\', \'lg\', item, $index)">药品编辑</button></div></td></tr></table></div>'),
e.put("app/cms/hospital/medicine/medicineEdit.html",'<div class="modal-content" ng-controller="medicineEditCtrl"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title">药品编辑 [{{ editItem.name }}]</h4></div><div class="modal-body"><h3 class="with-line-no-padding text-muted">药名属性</h3><div class="row"><div class="col-sm-6"><div class="form-group"><label for="inputName" class="control-label">药名</label> <input type="text" class="form-control" id="inputName" placeholder="" ng-model="item.name" required=""></div></div><div class="col-sm-6"><div class="form-group"><label for="inputDesc" class="control-label">描述</label> <input type="text" class="form-control" id="inputDesc" placeholder="" ng-model="item.desc"></div></div></div><div class="row"><div class="col-sm-2"><div class="form-group"><label for="inputCapacity" class="control-label">药品总量</label> <input type="number" class="form-control" id="inputCapacity" ng-model="item.capacity" min="0" max="10000" required=""></div></div><div class="col-sm-2"><div class="form-group"><label for="inputCapacity" class="control-label"></label><select class="form-control" ng-model="item.unit" required=""><option value="tablet" selected="">粒</option><option value="ml">毫升</option></select></div></div><div class="col-sm-2"><div class="form-group"><label for="inputUsage" class="control-label">使用方法</label><select class="form-control" ng-model="item.usage" id="inputUsage" required=""><option value="0">内服</option><option value="1">外用</option></select></div></div><div class="col-sm-2"><div class="form-group"><label for="inputFrequency" class="control-label">默认服用频率</label> <input type="number" class="form-control" id="inputFrequency" min="0" max="100" ng-model="item.dosage.frequency" required=""></div></div><div class="col-sm-3"><br><select class="form-control" ng-model="item.dosage.way" required=""><option value="0">-- 请选择 --</option><option value="1">饭后</option><option value="2">饭前</option><option value="3">饭中</option><option value="4">睡前</option><option value="5">每4小时</option><option value="6">每8小时</option><option value="7">每12小时</option><option value="8">每天</option><option value="9">隔天</option></select></div><div class="col-sm-1"><div class="form-group"><label for="inputApply" class="control-label">开关</label> <input type="checkbox" class="form-control" id="inputApply" ng-model="item.apply"></div></div></div><h3 class="with-line-no-padding text-muted">监测提醒 <a type="button" class="btn btn-sm btn-default pull-right" ng-click="createNotice()">新增提醒</a></h3><form name="editNForm" ng-show="editStatus > 0"><div class="row"><div class="col-md-12"><div class="form-group"><label for="inputNotice" class="control-label">提醒名称</label> <input type="text" class="form-control" id="inputNotice" placeholder="" ng-model="editN.notice" required=""></div></div></div><div class="row"><div class="col-md-3"><div class="form-group"><label for="inputDaysToStart" class="control-label">提醒开始(服药后的天数)</label> <input type="number" class="form-control" id="inputDaysToStart" ng-model="editN.days_to_start" min="0" max="1000"></div></div><div class="col-md-3"><div class="form-group"><label for="inputDuring" class="control-label">提醒持续天数</label> <input type="number" class="form-control" id="inputDuring" ng-model="editN.during"></div></div><div class="col-md-2"><div class="form-group"><label for="radioRequireConfirm" class="control-label">用户确认取消?</label> <input type="checkbox" class="form-control" id="radioRequireConfirm" ng-model="editN.require_confirm"></div></div><div class="col-md-2 col-md-offset-2"><div class="form-group"><label for="radioApply" class="control-label">有效?</label> <input type="checkbox" class="form-control" id="radioApply" ng-model="editN.apply"></div></div></div><div class="modal-footer" style="padding-top:.5em;"><a type="button" class="btn btn-primary" ng-click="saveNotice(editN)" ng-disabled="editNForm.$invalid"><i class="ion-android-checkmark-circle"></i> {{ editStatus === 1 ? "创建" : "更新" }}</a></div></form><table class="table"><thead class="bold-text bg-info"></thead><td style="width:4%">#</td><td style="width:46%">名称</td><td style="width:10%">提醒开始</td><td style="width:10%">持续天数</td><td style="width:10%">确认取消?</td><td style="width:10%">有效?</td><td style="width:10%"></td><tbody><tr ng-repeat="notice in item.notices track by $index"><td>{{$index+1}}</td><td><input type="text" class="form-control" ng-model="notice.notice" placeholder="设置提醒名称"></td><td><input type="number" class="form-control" ng-model="notice.days_to_start"></td><td><input type="number" class="form-control" ng-model="notice.during" placeholder="设置答案"></td><td><input type="checkbox" class="form-control" ng-model="notice.require_confirm"></td><td><input type="checkbox" class="form-control" ng-model="notice.apply"></td><td><button class="btn btn-primary btn-xs" ng-click="editNotice(notice, $index)"><i class="ion-compose"></i></button> <button class="btn btn-danger btn-xs" ng-click="removeNotice($index)"><i class="ion-ios-trash"></i></button></td></tr></tbody></table><div class="modal-footer" style="padding-top:.5em;"><a type="button" class="btn btn-primary" ng-click="saveMedicine(item)"><i class="ion-android-checkmark-circle"></i>更新</a></div></div></div>'),e.put("app/theme/components/msgCenter/msgCenter.html",'<ul class="al-msg-center clearfix"><li uib-dropdown=""><a href="" uib-dropdown-toggle=""><i class="fa fa-bell-o"></i><span>5</span><div class="notification-ring"></div></a><div uib-dropdown-menu="" class="top-dropdown-menu"><i class="dropdown-arr"></i><div class="header clearfix"><strong>聊天室消息</strong></div><div class="msg-list"><a href="" class="clearfix" ng-repeat="msg in notifications"><div class="img-area"><img ng-class="{\'photo-msg-item\' : !msg.image}" ng-src="{{::( msg.image || (users[msg.userId].name | profilePicture) )}}"></div><div class="msg-area"><div ng-bind-html="getMessage(msg)"></div><span>{{ msg.time }}</span></div></a></div></div></li></ul>'),e.put("app/cms/survey/category/category.html",'<div ba-panel="" ba-panel-title="问卷调查类别描述" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-1 text-right"><span>医院科室</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.department" ng-options="department._id as department.name for department in departments"></select></span></div><div class="col-sm-2 text-right"><span><button class="btn btn-primary" ng-if="search.department" ng-click="createDefaultCatsByDepartment(search.department)"><i class="ion-android-add-circle"></i>创建固定类别</button></span></div><div class="col-sm-1 text-right"><span>类别名称</span></div><div class="col-sm-3"><span><span><input ng-model="search.name" placeholder="类别名称" class="input-sm form-control search-input" type="search"></span></span></div><div class="col-sm-2"><button class="btn btn-primary pull-right" ng-click="addCat()"><i class="ion-android-add-circle"></i> 创建类别</button></div></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:20%">科室</td><td style="width:20%">名称</td><td style="width:25%">描述</td><td style="width:10%">开关</td><td style="width:25%">操作</td></tr><tr ng-repeat="item in cats | filter: search | orderBy: \'-fixed\'" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td class="select-td"><span editable-select="item.department" e-name="department" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in departments">{{ showDepartment(item)}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveCat($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel();cancelCat();" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeCat"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="getSurveysByCatId(item._id, item.department)">查看该类别下的问卷调查</button></div></td></tr></table></div>'),e.put("app/cms/survey/group/group.html",'<div ba-panel="" ba-panel-title="问卷调查类别描述" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="add-row-editable-table"><button class="btn btn-primary" ng-click="addGroup()"><i class="ion-android-add-circle"></i> 创建</button></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:15%">名字</td><td style="width:15%">描述</td><td style="width:40%">问卷</td><td style="width:5%">开关</td><td style="width:25%">操作</td></tr><tr ng-repeat="item in groups" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td class="select-td"><span editable-text="item.surveys" e-name="surveys" e-form="rowform">{{ item.surveys || \'\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveGroup($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeGroup"></delete-btn></div></td></tr></table></div>'),e.put("app/cms/hospital/symptom/symptom.html",'<div ba-panel="" ba-panel-title="疾病症状功能描述(本功能在下期实现)" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div ng-show="false"><div class="add-row-editable-table"><button class="btn btn-primary" ng-click="addDisease()"><i class="ion-android-add-circle"></i> 创建</button></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:20%">疾病类型</td><td style="width:20%">名称</td><td style="width:25%">描述</td><td style="width:10%">顺序</td><td style="width:5%">开关</td><td style="width:20%">操作</td></tr><tr ng-repeat="item in diseases" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-select="item.department" e-name="department" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in departments">{{ showDepartment(item)}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.desc" e-name="desc" e-form="rowform">{{ item.desc || \'空\' }}</span></td><td class="select-td"><span editable-number="item.order" e-name="order" e-form="rowform">{{ item.order || \'\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveDisease($data, item._id)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary editable-table-button btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeDisease"></delete-btn></div></td></tr></table></div></div>'),e.put("app/cms/survey/survey/survey.html",'<div ba-panel="" ba-panel-title="{{\'科室:\' + department.name + \' / 类别:\' + cat.name }}" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="add-row-editable-table"><button class="btn btn-primary" ng-click="addSurvey()"><i class="ion-android-add-circle"></i> 创建</button> <button class="btn btn-default" ng-click="backToCats()"><i class="ion-ios-undo-outline"></i> 返回到类别</button></div><table class="table table-bordered table-hover table-condensed"><tr style="font-weight: bold"><td style="width:17%">名字</td><td style="width:60%">试题</td><td style="width:8%">开关</td><td style="width:15%">操作</td></tr><tr ng-repeat="item in surveys track by $index" class="editable-row"><td ng-show="false"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span> <span editable-text="item.department" e-name="department" e-form="rowform" e-required="">{{item.department}}</span> <span editable-text="item.cat" e-name="cat" e-form="rowform" e-required="">{{item.cat}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td><pre>{{ showQuestions(item.questions) }}</pre></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveSurvey($data, item._id, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel();cancelSurvey();" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeSurvey"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="open(\'app/cms/survey/survey/surveyEdit.html\', \'lg\', item, $index)">问卷编辑</button></div></td></tr></table></div>'),e.put("app/cms/survey/survey/surveyEdit.html",'<div class="modal-content" ng-controller="surveyEditCtrl"><div class="modal-header"><button type="button" class="close" ng-click="$dismiss()" aria-label="Close"><em class="ion-ios-close-empty sn-link-close"></em></button><h4 class="modal-title">问卷[{{ editItem.name }}]编辑</h4></div><div class="modal-body"><h3 class="with-line-no-padding text-muted" style="font-size: 1em;">类别: {{ showCat(editItem) + \' / 科室: \' + showDepartment(editItem) }} <a type="button" class="btn btn-sm btn-default pull-right" ng-click="createQuestion()">增加新问题</a></h3><form name="editQForm" ng-show="editStatus > 0"><div class="row"><div class="col-md-12"><div class="form-group"><label for="inputName" class="control-label">问题</label> <input type="text" class="form-control" id="inputName" placeholder="" ng-model="editQ.question" required=""></div></div></div><div class="row"><div class="col-md-4"><div class="form-group"><label for="inputAnswerType" class="control-label">答案类型</label><select class="form-control" id="inputAnswerType" ng-model="editQ.answer_type" ng-change="changeEditAnswerType()"><option value="">-- 选择答案类型 --</option><option value="0">是非题</option><option value="1">单选题</option><option value="2">多选题</option><option value="3">填空</option></select></div></div><div class="col-md-2"><div class="form-group"><label for="inputoptionNumber" class="control-label">答案个数</label> <input type="number" class="form-control" id="inputoptionNumber" ng-model="editQ.optionNumber" ng-blur="changeEditOptionNumber()" min="1" max="10"></div></div><div class="col-md-2"><div class="form-group"><label for="inputWeight" class="control-label">分值</label> <input type="number" class="form-control" id="inputWeight" ng-model="editQ.weight" min="0" max="100"></div></div><div class="col-md-2"><div class="form-group"><label for="inputOrder" class="control-label">排序</label> <input type="number" class="form-control" id="inputOrder" ng-model="editQ.order"></div></div><div class="col-md-1"><div class="form-group"><label for="radioRequired" class="control-label">必填?</label> <input type="checkbox" class="form-control" id="radioRequired" ng-model="editQ.required"></div></div><div class="col-md-1"><div class="form-group"><label for="radioApply" class="control-label">有效?</label> <input type="checkbox" class="form-control" id="radioApply" ng-model="editQ.apply"></div></div></div><table class="table" ng-show="editQ.optionNumber > 0"><thead class="bold-text bg-info"></thead><td style="width:4%">#</td><td style="width:76%">答案</td><td style="width:10%">用户填空</td><td style="width:10%" ng-if="editQ.weight>0">分值</td><tbody><tr ng-repeat="option in editQ.options track by $index"><td>{{$index+1}}</td><td><input type="text" class="form-control" ng-model="option.answer" placeholder="设置答案"></td><td><input type="checkbox" class="form-control" ng-model="option.input_required"></td><td><input type="number" class="form-control" ng-model="option.weight" ng-if="editQ.weight>0"></td></tr></tbody></table><div class="modal-footer" style="padding-top:.5em;"><a type="button" class="btn btn-primary" ng-click="saveQuestion(editQ)" ng-disabled="editQForm.$invalid"><i class="ion-android-checkmark-circle"></i> {{ editStatus === 1 ? "创建" : "更新" }}</a></div></form><h3 class="with-line-no-padding">问卷试题</h3><table class="table"><thead class="bold-text bg-info"></thead><td style="width:5%">顺序</td><td style="width:60%">问题</td><td style="width:10%">问题类型</td><td style="width:8%">分值</td><td style="width:7%">有效?</td><td style="width:10%"></td><tbody><tr ng-repeat="question in questions | orderBy:\'order\' track by $index"><td>{{ question.order }}</td><td>{{ question.question }}</td><td>{{ question.answer_type }}</td><td>{{ question.weight }}</td><td>{{ question.apply }}</td><td><button class="btn btn-primary btn-xs" ng-click="editQuestion(question, $index)"><i class="ion-compose"></i></button> <button class="btn btn-danger btn-xs" ng-click="removeQuestion($index)"><i class="ion-ios-trash"></i></button></td></tr></tbody></table><div class="modal-footer" style="padding-top:.5em;"><a type="button" class="btn btn-primary" ng-click="saveSurvey()" ng-disabled="questions.length < 1"><i class="ion-android-checkmark-circle"></i> 保存</a></div></div></div>'),e.put("app/cms/crm/doctor/group/group.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-3 text-right"><span>选择药师:</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.doctor" ng-options="doctor._id as doctor.name for doctor in doctors"></select></span></div><div class="col-sm-6"><button class="btn btn-primary pull-right" ng-click="addGroup()"><i class="ion-android-add-circle"></i> 创建</button></div></div><table class="table table-bordered table-hover table-condensed" ba-panel-title="Modals"><tr style="font-weight: bold"><td style="width:30%">药师</td><td style="width:30%">用户组</td><td style="width:10%">有效</td><td style="width:30%">操作</td></tr><tr ng-repeat="item in groups | filter: search" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td><span editable-select="item.doctor" e-name="doctor" e-form="rowform" e-required="" e-ng-options="doctor._id as doctor.name for doctor in doctors">{{ showDoctor(item)}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveGroup($data)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" yes-delete="removeGroup"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="goGroupRelationship(item)">查看药师组医患关系</button></div></td></tr></table></div>'),e.put("app/cms/crm/doctor/doctor/doctor.html",'<div ba-panel="" ba-panel-class="with-scroll"><div cg-busy="myPromise"></div><div class="row add-row-editable-table"><div class="col-sm-2 text-right"><span>选择医院科室:</span></div><div class="col-sm-3"><span><select class="form-control" ng-model="search.department" ng-options="department._id as department.name for department in departments"></select></span></div><div class="col-sm-2 text-right"><span>药师User ID:</span></div><div class="col-sm-3"><span><span><input ng-model="search.user_id" placeholder="药师名" class="input-sm form-control search-input" type="search"></span></span></div><div class="col-sm-2"><button class="btn btn-primary pull-right" ng-click="addDoctor()"><i class="ion-android-add-circle"></i> 创建</button></div></div><table class="table table-bordered table-hover table-condensed" ba-panel-title="Modals"><tr style="font-weight: bold"><td style="width:15%">医院科室</td><td style="width:15%">名称</td><td style="width:15%">User ID</td><td style="width:10%">用户权限</td><td style="width:10%">职称</td><td style="width:6%">顺序</td><td style="width:5%">有效</td><td style="width:24%">操作</td></tr><tr ng-repeat="item in doctors | filter: search" class="editable-row"><td style="display:none;"><span editable-text="item._id" e-name="_id" e-form="rowform" e-required="">{{item._id}}</span></td><td class="select-td"><span editable-select="item.department" e-name="department" e-form="rowform" e-required="" e-ng-options="d._id as d.name for d in departments">{{ showDepartment(item)}}</span></td><td><span editable-text="item.name" e-name="name" e-form="rowform" e-required="">{{ item.name || \'空\' }}</span></td><td class="select-td"><span editable-text="item.user_id" e-name="user_id" e-form="rowform" e-required="">{{ item.user_id || \'空\' }}</span></td><td><span editable-select="item.role" e-name="role" e-form="rowform" e-required="" e-ng-options="r.value as r.name for r in roles">{{ showRole(item)}}</span></td><td><span editable-text="item.title" e-name="title" e-form="rowform" e-required="">{{ item.title || \'空\' }}</span></td><td class="select-td"><span editable-text="item.order" e-name="order" e-form="rowform" e-required="">{{ item.order || \'\' }}</span></td><td class="select-td"><span editable-checkbox="item.apply" e-name="apply" e-form="rowform" e-required="">{{ item.apply || false }}</span></td><td><form editable-form="" name="rowform" onaftersave="saveDoctor($data, $index)" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == item"><button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary editable-table-button btn-xs">保存</button> <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default editable-table-button btn-xs">取消</button></form><div class="buttons" ng-show="!rowform.$visible"><button class="btn btn-primary btn-xs" ng-click="rowform.$show()"><i class="ion-compose"></i></button><delete-btn item-id="item._id" user-id="item.user_id" yes-delete="removeDoctor"></delete-btn><button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="goDoctorProfile(item._id)">更多信息</button> <button class="btn btn-primary btn-xs" data-toggle="modal" ng-click="goDoctorGroup(item._id)">药师用户组</button></div></td></tr></table></div>')}]);
//# sourceMappingURL=../maps/scripts/app-354e99c373.js.map
